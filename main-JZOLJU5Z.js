var uI=Object.defineProperty,cI=Object.defineProperties;var dI=Object.getOwnPropertyDescriptors;var P_=Object.getOwnPropertySymbols;var fI=Object.prototype.hasOwnProperty,pI=Object.prototype.propertyIsEnumerable;var M_=(r,t,e)=>t in r?uI(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,De=(r,t)=>{for(var e in t||={})fI.call(t,e)&&M_(r,e,t[e]);if(P_)for(var e of P_(t))pI.call(t,e)&&M_(r,e,t[e]);return r},St=(r,t)=>cI(r,dI(t));var Lo=(r,t,e)=>new Promise((n,i)=>{var o=l=>{try{a(e.next(l))}catch(u){i(u)}},s=l=>{try{a(e.throw(l))}catch(u){i(u)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,s);a((e=e.apply(r,t)).next())});var N_=null;var kg=1;function vr(r){let t=N_;return N_=r,t}var L_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hI(r){if(!(Hg(r)&&!r.dirty)&&!(!r.dirty&&r.lastCleanEpoch===kg)){if(!r.producerMustRecompute(r)&&!Gg(r)){r.dirty=!1,r.lastCleanEpoch=kg;return}r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=kg}}function k_(r){return r&&(r.nextProducerIndex=0),vr(r)}function G_(r,t){if(vr(t),!(!r||r.producerNode===void 0||r.producerIndexOfThis===void 0||r.producerLastReadVersion===void 0)){if(Hg(r))for(let e=r.nextProducerIndex;e<r.producerNode.length;e++)Vg(r.producerNode[e],r.producerIndexOfThis[e]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Gg(r){jd(r);for(let t=0;t<r.producerNode.length;t++){let e=r.producerNode[t],n=r.producerLastReadVersion[t];if(n!==e.version||(hI(e),n!==e.version))return!0}return!1}function V_(r){if(jd(r),Hg(r))for(let t=0;t<r.producerNode.length;t++)Vg(r.producerNode[t],r.producerIndexOfThis[t]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Vg(r,t){if(gI(r),jd(r),r.liveConsumerNode.length===1)for(let n=0;n<r.producerNode.length;n++)Vg(r.producerNode[n],r.producerIndexOfThis[n]);let e=r.liveConsumerNode.length-1;if(r.liveConsumerNode[t]=r.liveConsumerNode[e],r.liveConsumerIndexOfThis[t]=r.liveConsumerIndexOfThis[e],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,t<r.liveConsumerNode.length){let n=r.liveConsumerIndexOfThis[t],i=r.liveConsumerNode[t];jd(i),i.producerIndexOfThis[n]=t}}function Hg(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function jd(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function gI(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}function vI(){throw new Error}var mI=vI;function H_(r){mI=r}function We(r){return typeof r=="function"}function Ba(r){let e=r(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ud=Ba(r=>function(e){r(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function vu(r,t){if(r){let e=r.indexOf(t);0<=e&&r.splice(e,1)}}var an=class r{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(We(n))try{n()}catch(o){t=o instanceof Ud?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{B_(o)}catch(s){t=t??[],s instanceof Ud?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ud(t)}}add(t){var e;if(t&&t!==this)if(this.closed)B_(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&vu(e,t)}remove(t){let{_finalizers:e}=this;e&&vu(e,t),t instanceof r&&t._removeParent(this)}};an.EMPTY=(()=>{let r=new an;return r.closed=!0,r})();var Bg=an.EMPTY;function Wd(r){return r instanceof an||r&&"closed"in r&&We(r.remove)&&We(r.add)&&We(r.unsubscribe)}function B_(r){We(r)?r():r.unsubscribe()}var ri={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ja={setTimeout(r,t,...e){let{delegate:n}=ja;return n?.setTimeout?n.setTimeout(r,t,...e):setTimeout(r,t,...e)},clearTimeout(r){let{delegate:t}=ja;return(t?.clearTimeout||clearTimeout)(r)},delegate:void 0};function zd(r){ja.setTimeout(()=>{let{onUnhandledError:t}=ri;if(t)t(r);else throw r})}function mu(){}var j_=(()=>jg("C",void 0,void 0))();function U_(r){return jg("E",void 0,r)}function W_(r){return jg("N",r,void 0)}function jg(r,t,e){return{kind:r,value:t,error:e}}var Ms=null;function Ua(r){if(ri.useDeprecatedSynchronousErrorHandling){let t=!Ms;if(t&&(Ms={errorThrown:!1,error:null}),r(),t){let{errorThrown:e,error:n}=Ms;if(Ms=null,e)throw n}}else r()}function z_(r){ri.useDeprecatedSynchronousErrorHandling&&Ms&&(Ms.errorThrown=!0,Ms.error=r)}var Ns=class extends an{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wd(t)&&t.add(this)):this.destination=wI}static create(t,e,n){return new fo(t,e,n)}next(t){this.isStopped?Wg(W_(t),this):this._next(t)}error(t){this.isStopped?Wg(U_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Wg(j_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yI=Function.prototype.bind;function Ug(r,t){return yI.call(r,t)}var zg=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){$d(n)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){$d(n)}else $d(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){$d(e)}}},fo=class extends Ns{constructor(t,e,n){super();let i;if(We(t)||!t)i={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&ri.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Ug(t.next,o),error:t.error&&Ug(t.error,o),complete:t.complete&&Ug(t.complete,o)}):i=t}this.destination=new zg(i)}};function $d(r){ri.useDeprecatedSynchronousErrorHandling?z_(r):zd(r)}function CI(r){throw r}function Wg(r,t){let{onStoppedNotification:e}=ri;e&&ja.setTimeout(()=>e(r,t))}var wI={closed:!0,next:mu,error:CI,complete:mu};var Wa=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Gn(r){return r}function $g(...r){return Kg(r)}function Kg(r){return r.length===0?Gn:r.length===1?r[0]:function(e){return r.reduce((n,i)=>i(n),e)}}var at=(()=>{class r{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new r;return n.source=this,n.operator=e,n}subscribe(e,n,i){let o=SI(e)?e:new fo(e,n,i);return Ua(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=$_(n),new n((i,o)=>{let s=new fo({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[Wa](){return this}pipe(...e){return Kg(e)(this)}toPromise(e){return e=$_(e),new e((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return r.create=t=>new r(t),r})();function $_(r){var t;return(t=r??ri.Promise)!==null&&t!==void 0?t:Promise}function _I(r){return r&&We(r.next)&&We(r.error)&&We(r.complete)}function SI(r){return r&&r instanceof Ns||_I(r)&&Wd(r)}function Yg(r){return We(r?.lift)}function Ze(r){return t=>{if(Yg(t))return t.lift(function(e){try{return r(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(r,t,e,n,i){return new qg(r,t,e,n,i)}var qg=class extends Ns{constructor(t,e,n,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function za(){return Ze((r,t)=>{let e=null;r._refCount++;let n=Je(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount){e=null;return}let i=r._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});r.subscribe(n),n.closed||(e=r.connect())})}var $a=class extends at{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Yg(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new an;let e=this.getSubject();t.add(this.source.subscribe(Je(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=an.EMPTY)}return t}refCount(){return za()(this)}};var K_=Ba(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var En=(()=>{class r extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let n=new Kd(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new K_}next(e){Ua(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(e)}})}error(e){Ua(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){Ua(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:n,isStopped:i,observers:o}=this;return n||i?Bg:(this.currentObservers=null,o.push(e),new an(()=>{this.currentObservers=null,vu(o,e)}))}_checkFinalizedStatuses(e){let{hasError:n,thrownError:i,isStopped:o}=this;n?e.error(i):o&&e.complete()}asObservable(){let e=new at;return e.source=this,e}}return r.create=(t,e)=>new Kd(t,e),r})(),Kd=class extends En{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0||n.call(e,t)}error(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0||n.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&n!==void 0?n:Bg}};var vn=class extends En{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var qn=new at(r=>r.complete());function Y_(r){return r&&We(r.schedule)}function Xg(r){return r[r.length-1]}function Yd(r){return We(Xg(r))?r.pop():void 0}function Oi(r){return Y_(Xg(r))?r.pop():void 0}function q_(r,t){return typeof Xg(r)=="number"?r.pop():t}function Q_(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(r,t||[])).next())})}function X_(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ls(r){return this instanceof Ls?(this.v=r,this):new Ls(r)}function Z_(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(r,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){n[f]&&(i[f]=function(p){return new Promise(function(h,g){o.push([f,p,h,g])>1||a(f,p)})})}function a(f,p){try{l(n[f](p))}catch(h){d(o[0][3],h)}}function l(f){f.value instanceof Ls?Promise.resolve(f.value.v).then(u,c):d(o[0][2],f)}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,p){f(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function J_(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof X_=="function"?X_(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=r[o]&&function(s){return new Promise(function(a,l){s=r[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var qd=r=>r&&typeof r.length=="number"&&typeof r!="function";function Xd(r){return We(r?.then)}function Qd(r){return We(r[Wa])}function Zd(r){return Symbol.asyncIterator&&We(r?.[Symbol.asyncIterator])}function Jd(r){return new TypeError(`You provided ${r!==null&&typeof r=="object"?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function EI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ef=EI();function tf(r){return We(r?.[ef])}function nf(r){return Z_(this,arguments,function*(){let e=r.getReader();try{for(;;){let{value:n,done:i}=yield Ls(e.read());if(i)return yield Ls(void 0);yield yield Ls(n)}}finally{e.releaseLock()}})}function rf(r){return We(r?.getReader)}function At(r){if(r instanceof at)return r;if(r!=null){if(Qd(r))return xI(r);if(qd(r))return DI(r);if(Xd(r))return TI(r);if(Zd(r))return eS(r);if(tf(r))return RI(r);if(rf(r))return AI(r)}throw Jd(r)}function xI(r){return new at(t=>{let e=r[Wa]();if(We(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DI(r){return new at(t=>{for(let e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()})}function TI(r){return new at(t=>{r.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,zd)})}function RI(r){return new at(t=>{for(let e of r)if(t.next(e),t.closed)return;t.complete()})}function eS(r){return new at(t=>{OI(r,t).catch(e=>t.error(e))})}function AI(r){return eS(nf(r))}function OI(r,t){var e,n,i,o;return Q_(this,void 0,void 0,function*(){try{for(e=J_(r);n=yield e.next(),!n.done;){let s=n.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function Xn(r,t,e,n=0,i=!1){let o=t.schedule(function(){e(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(o),!i)return o}function of(r,t=0){return Ze((e,n)=>{e.subscribe(Je(n,i=>Xn(n,r,()=>n.next(i),t),()=>Xn(n,r,()=>n.complete(),t),i=>Xn(n,r,()=>n.error(i),t)))})}function sf(r,t=0){return Ze((e,n)=>{n.add(r.schedule(()=>e.subscribe(n),t))})}function tS(r,t){return At(r).pipe(sf(t),of(t))}function nS(r,t){return At(r).pipe(sf(t),of(t))}function rS(r,t){return new at(e=>{let n=0;return t.schedule(function(){n===r.length?e.complete():(e.next(r[n++]),e.closed||this.schedule())})})}function iS(r,t){return new at(e=>{let n;return Xn(e,t,()=>{n=r[ef](),Xn(e,t,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>We(n?.return)&&n.return()})}function af(r,t){if(!r)throw new Error("Iterable cannot be null");return new at(e=>{Xn(e,t,()=>{let n=r[Symbol.asyncIterator]();Xn(e,t,()=>{n.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function oS(r,t){return af(nf(r),t)}function sS(r,t){if(r!=null){if(Qd(r))return tS(r,t);if(qd(r))return rS(r,t);if(Xd(r))return nS(r,t);if(Zd(r))return af(r,t);if(tf(r))return iS(r,t);if(rf(r))return oS(r,t)}throw Jd(r)}function Dt(r,t){return t?sS(r,t):At(r)}function be(...r){let t=Oi(r);return Dt(r,t)}function Ka(r,t){let e=We(r)?r:()=>r,n=i=>i.error(e());return new at(t?i=>t.schedule(n,0,i):n)}function Qg(r){return!!r&&(r instanceof at||We(r.lift)&&We(r.subscribe))}var po=Ba(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function lt(r,t){return Ze((e,n)=>{let i=0;e.subscribe(Je(n,o=>{n.next(r.call(t,o,i++))}))})}var{isArray:bI}=Array;function FI(r,t){return bI(t)?r(...t):r(t)}function lf(r){return lt(t=>FI(r,t))}var{isArray:II}=Array,{getPrototypeOf:PI,prototype:MI,keys:NI}=Object;function uf(r){if(r.length===1){let t=r[0];if(II(t))return{args:t,keys:null};if(LI(t)){let e=NI(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:r,keys:null}}function LI(r){return r&&typeof r=="object"&&PI(r)===MI}function cf(r,t){return r.reduce((e,n,i)=>(e[n]=t[i],e),{})}function yu(...r){let t=Oi(r),e=Yd(r),{args:n,keys:i}=uf(r);if(n.length===0)return Dt([],t);let o=new at(kI(n,t,i?s=>cf(i,s):Gn));return e?o.pipe(lf(e)):o}function kI(r,t,e=Gn){return n=>{aS(t,()=>{let{length:i}=r,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)aS(t,()=>{let u=Dt(r[l],t),c=!1;u.subscribe(Je(n,d=>{o[l]=d,c||(c=!0,a--),a||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function aS(r,t,e){r?Xn(e,r,t):t()}function lS(r,t,e,n,i,o,s,a){let l=[],u=0,c=0,d=!1,f=()=>{d&&!l.length&&!u&&t.complete()},p=g=>u<n?h(g):l.push(g),h=g=>{o&&t.next(g),u++;let v=!1;At(e(g,c++)).subscribe(Je(t,m=>{i?.(m),o?p(m):t.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;l.length&&u<n;){let m=l.shift();s?Xn(t,s,()=>h(m)):h(m)}f()}catch(m){t.error(m)}}))};return r.subscribe(Je(t,p,()=>{d=!0,f()})),()=>{a?.()}}function Ut(r,t,e=1/0){return We(t)?Ut((n,i)=>lt((o,s)=>t(n,o,i,s))(At(r(n,i))),e):(typeof t=="number"&&(e=t),Ze((n,i)=>lS(n,i,r,e)))}function bi(r=1/0){return Ut(Gn,r)}function uS(){return bi(1)}function Ya(...r){return uS()(Dt(r,Oi(r)))}function df(r){return new at(t=>{At(r()).subscribe(t)})}function Zg(...r){let t=Yd(r),{args:e,keys:n}=uf(r),i=new at(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let c=0;c<s;c++){let d=!1;At(e[c]).subscribe(Je(o,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(n?cf(n,a):a),o.complete())}))}});return t?i.pipe(lf(t)):i}function Jg(...r){let t=Oi(r),e=q_(r,1/0),n=r;return n.length?n.length===1?At(n[0]):bi(e)(Dt(n,t)):qn}function kr(r,t){return Ze((e,n)=>{let i=0;e.subscribe(Je(n,o=>r.call(t,o,i++)&&n.next(o)))})}function ko(r){return Ze((t,e)=>{let n=null,i=!1,o;n=t.subscribe(Je(e,void 0,void 0,s=>{o=At(r(s,ko(r)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(e))})}function cS(r,t,e,n,i){return(o,s)=>{let a=e,l=t,u=0;o.subscribe(Je(s,c=>{let d=u++;l=a?r(l,c,d):(a=!0,c),n&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function ks(r,t){return We(t)?Ut(r,t,1):Ut(r,1)}function Go(r){return Ze((t,e)=>{let n=!1;t.subscribe(Je(e,i=>{n=!0,e.next(i)},()=>{n||e.next(r),e.complete()}))})}function ho(r){return r<=0?()=>qn:Ze((t,e)=>{let n=0;t.subscribe(Je(e,i=>{++n<=r&&(e.next(i),r<=n&&e.complete())}))})}function ev(r){return lt(()=>r)}function tv(r,t=Gn){return r=r??GI,Ze((e,n)=>{let i,o=!0;e.subscribe(Je(n,s=>{let a=t(s);(o||!r(i,a))&&(o=!1,i=a,n.next(s))}))})}function GI(r,t){return r===t}function ff(r=VI){return Ze((t,e)=>{let n=!1;t.subscribe(Je(e,i=>{n=!0,e.next(i)},()=>n?e.complete():e.error(r())))})}function VI(){return new po}function Cu(r){return Ze((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}function Fi(r,t){let e=arguments.length>=2;return n=>n.pipe(r?kr((i,o)=>r(i,o,n)):Gn,ho(1),e?Go(t):ff(()=>new po))}function qa(r){return r<=0?()=>qn:Ze((t,e)=>{let n=[];t.subscribe(Je(e,i=>{n.push(i),r<n.length&&n.shift()},()=>{for(let i of n)e.next(i);e.complete()},void 0,()=>{n=null}))})}function nv(r,t){let e=arguments.length>=2;return n=>n.pipe(r?kr((i,o)=>r(i,o,n)):Gn,qa(1),e?Go(t):ff(()=>new po))}function rv(r,t){return Ze(cS(r,t,arguments.length>=2,!0))}function pf(r={}){let{connector:t=()=>new En,resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=r;return o=>{let s,a,l,u=0,c=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),s=l=void 0,c=d=!1},h=()=>{let g=s;p(),g?.unsubscribe()};return Ze((g,v)=>{u++,!d&&!c&&f();let m=l=l??t();v.add(()=>{u--,u===0&&!d&&!c&&(a=iv(h,i))}),m.subscribe(v),!s&&u>0&&(s=new fo({next:C=>m.next(C),error:C=>{d=!0,f(),a=iv(p,e,C),m.error(C)},complete:()=>{c=!0,f(),a=iv(p,n),m.complete()}}),At(g).subscribe(s))})(o)}}function iv(r,t,...e){if(t===!0){r();return}if(t===!1)return;let n=new fo({next:()=>{n.unsubscribe(),r()}});return At(t(...e)).subscribe(n)}function ov(...r){let t=Oi(r);return Ze((e,n)=>{(t?Ya(r,e,t):Ya(r,e)).subscribe(n)})}function Qn(r,t){return Ze((e,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();e.subscribe(Je(n,l=>{i?.unsubscribe();let u=0,c=o++;At(r(l,c)).subscribe(i=Je(n,d=>n.next(t?t(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sv(r){return Ze((t,e)=>{At(r).subscribe(Je(e,()=>e.complete(),mu)),!e.closed&&t.subscribe(e)})}function ln(r,t,e){let n=We(r)||t||e?{next:r,error:t,complete:e}:r;return n?Ze((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(Je(o,l=>{var u;(u=n.next)===null||u===void 0||u.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,l),o.error(l)},()=>{var l,u;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Gn}function xt(r){for(let t in r)if(r[t]===xt)return t;throw Error("Could not find renamed property on target object.")}function hf(r,t){for(let e in t)t.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=t[e])}function xn(r){if(typeof r=="string")return r;if(Array.isArray(r))return"["+r.map(xn).join(", ")+"]";if(r==null)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;let t=r.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function dS(r,t){return r==null||r===""?t===null?"":t:t==null||t===""?r:r+" "+t}var HI=xt({__forward_ref__:xt});function Vi(r){return r.__forward_ref__=Vi,r.toString=function(){return xn(this())},r}function Vn(r){return XS(r)?r():r}function XS(r){return typeof r=="function"&&r.hasOwnProperty(HI)&&r.__forward_ref__===Vi}function QS(r){return r&&!!r.\u0275providers}var ZS="https://g.co/ng/security#xss",Ae=class extends Error{constructor(t,e){super(vm(t,e)),this.code=t}};function vm(r,t){return`${`NG0${Math.abs(r)}`}${t?": "+t:""}`}var BI=xt({\u0275cmp:xt}),jI=xt({\u0275dir:xt}),UI=xt({\u0275pipe:xt}),WI=xt({\u0275mod:xt}),Df=xt({\u0275fac:xt}),wu=xt({__NG_ELEMENT_ID__:xt}),fS=xt({__NG_ENV_ID__:xt});function Gs(r){return typeof r=="string"?r:r==null?"":String(r)}function zI(r){return typeof r=="function"?r.name||r.toString():typeof r=="object"&&r!=null&&typeof r.type=="function"?r.type.name||r.type.toString():Gs(r)}function $I(r,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${r}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${r}${e}`)}function mm(r,t){let e=t?` in ${t}`:"";throw new Ae(-201,!1)}function KI(r,t){r==null&&YI(t,r,null,"!=")}function YI(r,t,e,n){throw new Error(`ASSERTION ERROR: ${r}`+(n==null?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}function Re(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ai(r){return{providers:r.providers||[],imports:r.imports||[]}}function Wf(r){return pS(r,eE)||pS(r,tE)}function JS(r){return Wf(r)!==null}function pS(r,t){return r.hasOwnProperty(t)?r[t]:null}function qI(r){let t=r&&(r[eE]||r[tE]);return t||null}function hS(r){return r&&(r.hasOwnProperty(gS)||r.hasOwnProperty(XI))?r[gS]:null}var eE=xt({\u0275prov:xt}),gS=xt({\u0275inj:xt}),tE=xt({ngInjectableDef:xt}),XI=xt({ngInjectorDef:xt}),et=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(et||{}),Sv;function nE(){return Sv}function Gr(r){let t=Sv;return Sv=r,t}function rE(r,t,e){let n=Wf(r);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(e&et.Optional)return null;if(t!==void 0)return t;mm(xn(r),"Injector")}var Vs=globalThis;var Ge=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=Re({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var QI={},_u=QI,Ev="__NG_DI_FLAG__",Tf="ngTempTokenPath",ZI="ngTokenPath",JI=/\n/gm,eP="\u0275",vS="__source",el;function tP(){return el}function Vo(r){let t=el;return el=r,t}function nP(r,t=et.Default){if(el===void 0)throw new Ae(-203,!1);return el===null?rE(r,void 0,t):el.get(r,t&et.Optional?null:void 0,t)}function Ne(r,t=et.Default){return(nE()||nP)(Vn(r),t)}function Ee(r,t=et.Default){return Ne(r,zf(t))}function zf(r){return typeof r>"u"||typeof r=="number"?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function xv(r){let t=[];for(let e=0;e<r.length;e++){let n=Vn(r[e]);if(Array.isArray(n)){if(n.length===0)throw new Ae(900,!1);let i,o=et.Default;for(let s=0;s<n.length;s++){let a=n[s],l=rP(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(Ne(i,o))}else t.push(Ne(n))}return t}function iE(r,t){return r[Ev]=t,r.prototype[Ev]=t,r}function rP(r){return r[Ev]}function iP(r,t,e,n){let i=r[Tf];throw t[vS]&&i.unshift(t[vS]),r.message=oP(`
`+r.message,i,e,n),r[ZI]=i,r[Tf]=null,r}function oP(r,t,e,n=null){r=r&&r.charAt(0)===`
`&&r.charAt(1)==eP?r.slice(2):r;let i=xn(t);if(Array.isArray(t))i=t.map(xn).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xn(a)))}i=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${i}]: ${r.replace(JI,`
  `)}`}function Ou(r){return{toString:r}.toString()}var oE=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(oE||{}),Ni=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Ni||{}),nl={},Vr=[];function sE(r,t,e){let n=r.length;for(;;){let i=r.indexOf(t,e);if(i===-1)return i;if(i===0||r.charCodeAt(i-1)<=32){let o=t.length;if(i+o===n||r.charCodeAt(i+o)<=32)return i}e=i+1}}function Dv(r,t,e){let n=0;for(;n<e.length;){let i=e[n];if(typeof i=="number"){if(i!==0)break;n++;let o=e[n++],s=e[n++],a=e[n++];r.setAttribute(t,s,a,o)}else{let o=i,s=e[++n];sP(o)?r.setProperty(t,o,s):r.setAttribute(t,o,s),n++}}return n}function aE(r){return r===3||r===4||r===6}function sP(r){return r.charCodeAt(0)===64}function Su(r,t){if(!(t===null||t.length===0))if(r===null||r.length===0)r=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){let i=t[n];typeof i=="number"?e=i:e===0||(e===-1||e===2?mS(r,e,i,null,t[++n]):mS(r,e,i,null,null))}}return r}function mS(r,t,e,n,i){let o=0,s=r.length;if(t===-1)s=-1;else for(;o<r.length;){let a=r[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<r.length;){let a=r[o];if(typeof a=="number")break;if(a===e){if(n===null){i!==null&&(r[o+1]=i);return}else if(n===r[o+1]){r[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(r.splice(s,0,t),o=s+1),r.splice(o++,0,e),n!==null&&r.splice(o++,0,n),i!==null&&r.splice(o++,0,i)}var lE="ng-template";function aP(r,t,e){let n=0,i=!0;for(;n<r.length;){let o=r[n++];if(typeof o=="string"&&i){let s=r[n++];if(e&&o==="class"&&sE(s.toLowerCase(),t,0)!==-1)return!0}else if(o===1){for(;n<r.length&&typeof(o=r[n++])=="string";)if(o.toLowerCase()===t)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function uE(r){return r.type===4&&r.value!==lE}function lP(r,t,e){let n=r.type===4&&!e?lE:r.value;return t===n}function uP(r,t,e){let n=4,i=r.attrs||[],o=fP(i),s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!ii(n)&&!ii(l))return!1;if(s&&ii(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!lP(r,l,e)||l===""&&t.length===1){if(ii(n))return!1;s=!0}}else{let u=n&8?l:t[++a];if(n&8&&r.attrs!==null){if(!aP(r.attrs,u,e)){if(ii(n))return!1;s=!0}continue}let c=n&8?"class":l,d=cP(c,i,uE(r),e);if(d===-1){if(ii(n))return!1;s=!0;continue}if(u!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let p=n&8?f:null;if(p&&sE(p,u,0)!==-1||n&2&&u!==f){if(ii(n))return!1;s=!0}}}}return ii(n)||s}function ii(r){return(r&1)===0}function cP(r,t,e,n){if(t===null)return-1;let i=0;if(n||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===r)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return pP(t,r)}function dP(r,t,e=!1){for(let n=0;n<t.length;n++)if(uP(r,t[n],e))return!0;return!1}function fP(r){for(let t=0;t<r.length;t++){let e=r[t];if(aE(e))return t}return r.length}function pP(r,t){let e=r.indexOf(4);if(e>-1)for(e++;e<r.length;){let n=r[e];if(typeof n=="number")return-1;if(n===t)return e;e++}return-1}function yS(r,t){return r?":not("+t.trim()+")":t}function hP(r){let t=r[0],e=1,n=2,i="",o=!1;for(;e<r.length;){let s=r[e];if(typeof s=="string")if(n&2){let a=r[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!ii(s)&&(t+=yS(o,i),i=""),n=s,o=o||!ii(n);e++}return i!==""&&(t+=yS(o,i)),t}function gP(r){return r.map(hP).join(",")}function vP(r){let t=[],e=[],n=1,i=2;for(;n<r.length;){let o=r[n];if(typeof o=="string")i===2?o!==""&&t.push(o,r[++n]):i===8&&e.push(o);else{if(!ii(i))break;i=o}n++}return{attrs:t,classes:e}}function un(r){return Ou(()=>{let t=hE(r),e=St(De({},t),{decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===oE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Ni.Emulated,styles:r.styles||Vr,_:null,schemas:r.schemas||null,tView:null,id:""});gE(e);let n=r.dependencies;return e.directiveDefs=wS(n,!1),e.pipeDefs=wS(n,!0),e.id=CP(e),e})}function mP(r){return jo(r)||cE(r)}function yP(r){return r!==null}function li(r){return Ou(()=>({type:r.type,bootstrap:r.bootstrap||Vr,declarations:r.declarations||Vr,imports:r.imports||Vr,exports:r.exports||Vr,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function CS(r,t){if(r==null)return nl;let e={};for(let n in r)if(r.hasOwnProperty(n)){let i=r[n],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=n,t&&(t[i]=o)}return e}function bt(r){return Ou(()=>{let t=hE(r);return gE(t),t})}function jo(r){return r[BI]||null}function cE(r){return r[jI]||null}function dE(r){return r[UI]||null}function fE(r){let t=jo(r)||cE(r)||dE(r);return t!==null?t.standalone:!1}function pE(r,t){let e=r[WI]||null;if(!e&&t===!0)throw new Error(`Type ${xn(r)} does not have '\u0275mod' property.`);return e}function hE(r){let t={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:r.inputs||nl,exportAs:r.exportAs||null,standalone:r.standalone===!0,signals:r.signals===!0,selectors:r.selectors||Vr,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:CS(r.inputs,t),outputs:CS(r.outputs),debugInfo:null}}function gE(r){r.features?.forEach(t=>t(r))}function wS(r,t){if(!r)return null;let e=t?dE:mP;return()=>(typeof r=="function"?r():r).map(n=>e(n)).filter(yP)}function CP(r){let t=0,e=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(let i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483647+1,"c"+t}var vo=0,Ye=1,Ve=2,Wt=3,oi=4,ui=5,Tv=6,Eu=7,Hr=8,rl=9,il=10,en=11,xu=12,_S=13,dl=14,Li=15,bu=16,Xa=17,Mi=18,$f=19,vE=20,Ho=21,av=22,Bs=23,Uo=25,mE=1;var js=7,Rf=8,ol=9,mr=10,sl=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r[r.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",r}(sl||{});function Bo(r){return Array.isArray(r)&&typeof r[mE]=="object"}function si(r){return Array.isArray(r)&&r[mE]===!0}function yE(r){return(r.flags&4)!==0}function Kf(r){return r.componentOffset>-1}function ym(r){return(r.flags&1)===1}function Wo(r){return!!r.template}function wP(r){return(r[Ve]&512)!==0}function al(r,t){let e=r.hasOwnProperty(Df);return e?r[Df]:null}var Rv=class{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}};function ci(){return CE}function CE(r){return r.type.prototype.ngOnChanges&&(r.setInput=SP),_P}ci.ngInherit=!0;function _P(){let r=_E(this),t=r?.current;if(t){let e=r.previous;if(e===nl)r.previous=t;else for(let n in t)e[n]=t[n];r.current=null,this.ngOnChanges(t)}}function SP(r,t,e,n){let i=this.declaredInputs[e],o=_E(r)||EP(r,{previous:nl,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new Rv(l&&l.currentValue,t,a===nl),r[n]=t}var wE="__ngSimpleChanges__";function _E(r){return r[wE]||null}function EP(r,t){return r[wE]=t}var SS=null;var Ii=function(r,t,e){SS?.(r,t,e)},xP="svg",DP="math";function ki(r){for(;Array.isArray(r);)r=r[vo];return r}function SE(r,t){return ki(t[r])}function Br(r,t){return ki(t[r.index])}function EE(r,t){return r.data[t]}function $o(r,t){let e=t[r];return Bo(e)?e:e[vo]}function TP(r){return(r[Ve]&4)===4}function Cm(r){return(r[Ve]&128)===128}function RP(r){return si(r[Wt])}function Af(r,t){return t==null?null:r[t]}function xE(r){r[Xa]=0}function AP(r){r[Ve]&1024||(r[Ve]|=1024,Cm(r)&&Yf(r))}function OP(r,t){for(;r>0;)t=t[dl],r--;return t}function DE(r){return r[Ve]&9216||r[Bs]?.dirty}function TE(r){DE(r)&&Yf(r)}function Yf(r){let t=r[Wt];for(;t!==null&&!(si(t)&&t[Ve]&sl.HasChildViewsToRefresh||Bo(t)&&t[Ve]&8192);){if(si(t))t[Ve]|=sl.HasChildViewsToRefresh;else if(t[Ve]|=8192,!Cm(t))break;t=t[Wt]}}function RE(r,t){if((r[Ve]&256)===256)throw new Ae(911,!1);r[Ho]===null&&(r[Ho]=[]),r[Ho].push(t)}function bP(r,t){if(r[Ho]===null)return;let e=r[Ho].indexOf(t);e!==-1&&r[Ho].splice(e,1)}var qe={lFrame:NE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function FP(){return qe.lFrame.elementDepthCount}function IP(){qe.lFrame.elementDepthCount++}function PP(){qe.lFrame.elementDepthCount--}function AE(){return qe.bindingsEnabled}function MP(){return qe.skipHydrationRootTNode!==null}function NP(r){return qe.skipHydrationRootTNode===r}function LP(){qe.skipHydrationRootTNode=null}function ht(){return qe.lFrame.lView}function Hn(){return qe.lFrame.tView}function Zs(r){return qe.lFrame.contextLView=r,r[Hr]}function Js(r){return qe.lFrame.contextLView=null,r}function Zn(){let r=OE();for(;r!==null&&r.type===64;)r=r.parent;return r}function OE(){return qe.lFrame.currentTNode}function kP(){let r=qe.lFrame,t=r.currentTNode;return r.isParent?t:t.parent}function Fu(r,t){let e=qe.lFrame;e.currentTNode=r,e.isParent=t}function bE(){return qe.lFrame.isParent}function GP(){qe.lFrame.isParent=!1}function VP(){let r=qe.lFrame,t=r.bindingRootIndex;return t===-1&&(t=r.bindingRootIndex=r.tView.bindingStartIndex),t}function HP(){return qe.lFrame.bindingIndex}function BP(r){return qe.lFrame.bindingIndex=r}function wm(){return qe.lFrame.bindingIndex++}function FE(r){let t=qe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+r,e}function jP(){return qe.lFrame.inI18n}function UP(r,t){let e=qe.lFrame;e.bindingIndex=e.bindingRootIndex=r,Av(t)}function WP(){return qe.lFrame.currentDirectiveIndex}function Av(r){qe.lFrame.currentDirectiveIndex=r}function zP(r){let t=qe.lFrame.currentDirectiveIndex;return t===-1?null:r[t]}function IE(){return qe.lFrame.currentQueryIndex}function _m(r){qe.lFrame.currentQueryIndex=r}function $P(r){let t=r[Ye];return t.type===2?t.declTNode:t.type===1?r[ui]:null}function PE(r,t,e){if(e&et.SkipSelf){let i=t,o=r;for(;i=i.parent,i===null&&!(e&et.Host);)if(i=$P(o),i===null||(o=o[dl],i.type&10))break;if(i===null)return!1;t=i,r=o}let n=qe.lFrame=ME();return n.currentTNode=t,n.lView=r,!0}function Sm(r){let t=ME(),e=r[Ye];qe.lFrame=t,t.currentTNode=e.firstChild,t.lView=r,t.tView=e,t.contextLView=r,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ME(){let r=qe.lFrame,t=r===null?null:r.child;return t===null?NE(r):t}function NE(r){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return r!==null&&(r.child=t),t}function LE(){let r=qe.lFrame;return qe.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}var kE=LE;function Em(){let r=LE();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function KP(r){return(qe.lFrame.contextLView=OP(r,qe.lFrame.contextLView))[Hr]}function ea(){return qe.lFrame.selectedIndex}function Us(r){qe.lFrame.selectedIndex=r}function xm(){let r=qe.lFrame;return EE(r.tView,r.selectedIndex)}function YP(){return qe.lFrame.currentNamespace}var GE=!0;function Dm(){return GE}function Tm(r){GE=r}function qP(r,t,e){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(n){let s=CE(t);(e.preOrderHooks??=[]).push(r,s),(e.preOrderCheckHooks??=[]).push(r,s)}i&&(e.preOrderHooks??=[]).push(0-r,i),o&&((e.preOrderHooks??=[]).push(r,o),(e.preOrderCheckHooks??=[]).push(r,o))}function Rm(r,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){let o=r.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(r.contentHooks??=[]).push(-e,s),a&&((r.contentHooks??=[]).push(e,a),(r.contentCheckHooks??=[]).push(e,a)),l&&(r.viewHooks??=[]).push(-e,l),u&&((r.viewHooks??=[]).push(e,u),(r.viewCheckHooks??=[]).push(e,u)),c!=null&&(r.destroyHooks??=[]).push(e,c)}}function Cf(r,t,e){VE(r,t,3,e)}function wf(r,t,e,n){(r[Ve]&3)===e&&VE(r,t,e,n)}function lv(r,t){let e=r[Ve];(e&3)===t&&(e&=16383,e+=1,r[Ve]=e)}function VE(r,t,e,n){let i=n!==void 0?r[Xa]&65535:0,o=n??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],n!=null&&a>=n)break}else t[l]<0&&(r[Xa]+=65536),(a<o||o==-1)&&(XP(r,e,t,l),r[Xa]=(r[Xa]&4294901760)+l+2),l++}function ES(r,t){Ii(4,r,t);let e=vr(null);try{t.call(r)}finally{vr(e),Ii(5,r,t)}}function XP(r,t,e,n){let i=e[n]<0,o=e[n+1],s=i?-e[n]:e[n],a=r[s];i?r[Ve]>>14<r[Xa]>>16&&(r[Ve]&3)===t&&(r[Ve]+=16384,ES(a,o)):ES(a,o)}var tl=-1,Ws=class{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}};function QP(r){return r instanceof Ws}function ZP(r){return(r.flags&8)!==0}function JP(r){return(r.flags&16)!==0}function HE(r){return r!==tl}function Of(r){let t=r&32767;return r&32767}function eM(r){return r>>16}function bf(r,t){let e=eM(r),n=t;for(;e>0;)n=n[dl],e--;return n}var Ov=!0;function xS(r){let t=Ov;return Ov=r,t}var tM=256,BE=tM-1,jE=5,nM=0,Pi={};function rM(r,t,e){let n;typeof e=="string"?n=e.charCodeAt(0)||0:e.hasOwnProperty(wu)&&(n=e[wu]),n==null&&(n=e[wu]=nM++);let i=n&BE,o=1<<i;t.data[r+(i>>jE)]|=o}function Ff(r,t){let e=UE(r,t);if(e!==-1)return e;let n=t[Ye];n.firstCreatePass&&(r.injectorIndex=t.length,uv(n.data,r),uv(t,null),uv(n.blueprint,null));let i=Am(r,t),o=r.injectorIndex;if(HE(i)){let s=Of(i),a=bf(i,t),l=a[Ye].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function uv(r,t){r.push(0,0,0,0,0,0,0,0,t)}function UE(r,t){return r.injectorIndex===-1||r.parent&&r.parent.injectorIndex===r.injectorIndex||t[r.injectorIndex+8]===null?-1:r.injectorIndex}function Am(r,t){if(r.parent&&r.parent.injectorIndex!==-1)return r.parent.injectorIndex;let e=0,n=null,i=t;for(;i!==null;){if(n=YE(i),n===null)return tl;if(e++,i=i[dl],n.injectorIndex!==-1)return n.injectorIndex|e<<16}return tl}function bv(r,t,e){rM(r,t,e)}function iM(r,t){if(t==="class")return r.classes;if(t==="style")return r.styles;let e=r.attrs;if(e){let n=e.length,i=0;for(;i<n;){let o=e[i];if(aE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<n&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function WE(r,t,e){if(e&et.Optional||r!==void 0)return r;mm(t,"NodeInjector")}function zE(r,t,e,n){if(e&et.Optional&&n===void 0&&(n=null),!(e&(et.Self|et.Host))){let i=r[rl],o=Gr(void 0);try{return i?i.get(t,n,e&et.Optional):rE(t,n,e&et.Optional)}finally{Gr(o)}}return WE(n,t,e)}function $E(r,t,e,n=et.Default,i){if(r!==null){if(t[Ve]&2048&&!(n&et.Self)){let s=lM(r,t,e,n,Pi);if(s!==Pi)return s}let o=KE(r,t,e,n,Pi);if(o!==Pi)return o}return zE(t,e,n,i)}function KE(r,t,e,n,i){let o=sM(e);if(typeof o=="function"){if(!PE(t,r,n))return n&et.Host?WE(i,e,n):zE(t,e,n,i);try{let s;if(s=o(n),s==null&&!(n&et.Optional))mm(e);else return s}finally{kE()}}else if(typeof o=="number"){let s=null,a=UE(r,t),l=tl,u=n&et.Host?t[Li][ui]:null;for((a===-1||n&et.SkipSelf)&&(l=a===-1?Am(r,t):t[a+8],l===tl||!TS(n,!1)?a=-1:(s=t[Ye],a=Of(l),t=bf(l,t)));a!==-1;){let c=t[Ye];if(DS(o,a,c.data)){let d=oM(a,t,e,s,n,u);if(d!==Pi)return d}l=t[a+8],l!==tl&&TS(n,t[Ye].data[a+8]===u)&&DS(o,a,t)?(s=c,a=Of(l),t=bf(l,t)):a=-1}}return i}function oM(r,t,e,n,i,o){let s=t[Ye],a=s.data[r+8],l=n==null?Kf(a)&&Ov:n!=s&&(a.type&3)!==0,u=i&et.Host&&o===a,c=_f(a,s,e,l,u);return c!==null?zs(t,s,c,a):Pi}function _f(r,t,e,n,i){let o=r.providerIndexes,s=t.data,a=o&1048575,l=r.directiveStart,u=r.directiveEnd,c=o>>20,d=n?a:a+c,f=i?a+c:u;for(let p=d;p<f;p++){let h=s[p];if(p<l&&e===h||p>=l&&h.type===e)return p}if(i){let p=s[l];if(p&&Wo(p)&&p.type===e)return l}return null}function zs(r,t,e,n){let i=r[e],o=t.data;if(QP(i)){let s=i;s.resolving&&$I(zI(o[e]));let a=xS(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?Gr(s.injectImpl):null,c=PE(r,n,et.Default);try{i=r[e]=s.factory(void 0,o,r,n),t.firstCreatePass&&e>=n.directiveStart&&qP(e,o[e],t)}finally{u!==null&&Gr(u),xS(a),s.resolving=!1,kE()}}return i}function sM(r){if(typeof r=="string")return r.charCodeAt(0)||0;let t=r.hasOwnProperty(wu)?r[wu]:void 0;return typeof t=="number"?t>=0?t&BE:aM:t}function DS(r,t,e){let n=1<<r;return!!(e[t+(r>>jE)]&n)}function TS(r,t){return!(r&et.Self)&&!(r&et.Host&&t)}var Hs=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return $E(this._tNode,this._lView,t,zf(n),e)}};function aM(){return new Hs(Zn(),ht())}function Hi(r){return Ou(()=>{let t=r.prototype.constructor,e=t[Df]||Fv(t),n=Object.prototype,i=Object.getPrototypeOf(r.prototype).constructor;for(;i&&i!==n;){let o=i[Df]||Fv(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fv(r){return XS(r)?()=>{let t=Fv(Vn(r));return t&&t()}:al(r)}function lM(r,t,e,n,i){let o=r,s=t;for(;o!==null&&s!==null&&s[Ve]&2048&&!(s[Ve]&512);){let a=KE(o,s,e,n|et.Self,Pi);if(a!==Pi)return a;let l=o.parent;if(!l){let u=s[vE];if(u){let c=u.get(e,Pi,n);if(c!==Pi)return c}l=YE(s),s=s[dl]}o=l}return i}function YE(r){let t=r[Ye],e=t.type;return e===2?t.declTNode:e===1?r[ui]:null}function Om(r){return iM(Zn(),r)}var gf="__parameters__";function uM(r){return function(...e){if(r){let n=r(...e);for(let i in n)this[i]=n[i]}}}function qE(r,t,e){return Ou(()=>{let n=uM(t);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,c){let d=l.hasOwnProperty(gf)?l[gf]:Object.defineProperty(l,gf,{value:[]})[gf];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=r,i.annotationCls=i,i})}function cM(r){return typeof r=="function"}function dM(r,t,e){if(r.length!==t.length)return!1;for(let n=0;n<r.length;n++){let i=r[n],o=t[n];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function fM(r){return r.flat(Number.POSITIVE_INFINITY)}function bm(r,t){r.forEach(e=>Array.isArray(e)?bm(e,t):t(e))}function XE(r,t,e){t>=r.length?r.push(e):r.splice(t,0,e)}function If(r,t){return t>=r.length-1?r.pop():r.splice(t,1)[0]}function pM(r,t){let e=[];for(let n=0;n<r;n++)e.push(t);return e}function hM(r,t,e,n){let i=r.length;if(i==t)r.push(e,n);else if(i===1)r.push(n,r[0]),r[0]=e;else{for(i--,r.push(r[i-1],r[i]);i>t;){let o=i-2;r[i]=r[o],i--}r[t]=e,r[t+1]=n}}function gM(r,t,e){let n=Iu(r,t);return n>=0?r[n|1]=e:(n=~n,hM(r,n,t,e)),n}function cv(r,t){let e=Iu(r,t);if(e>=0)return r[e|1]}function Iu(r,t){return vM(r,t,1)}function vM(r,t,e){let n=0,i=r.length>>e;for(;i!==n;){let o=n+(i-n>>1),s=r[o<<e];if(t===s)return o<<e;s>t?i=o:n=o+1}return~(i<<e)}var Pu=iE(qE("Optional"),8);var qf=iE(qE("SkipSelf"),4);var Mu=new Ge("ENVIRONMENT_INITIALIZER"),QE=new Ge("INJECTOR",-1),ZE=new Ge("INJECTOR_DEF_TYPES"),Pf=class{get(t,e=_u){if(e===_u){let n=new Error(`NullInjectorError: No provider for ${xn(t)}!`);throw n.name="NullInjectorError",n}return e}};function Xf(r){return{\u0275providers:r}}function mM(...r){return{\u0275providers:JE(!0,r),\u0275fromNgModule:!0}}function JE(r,...t){let e=[],n=new Set,i,o=s=>{e.push(s)};return bm(t,s=>{let a=s;Iv(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&ex(i,o),e}function ex(r,t){for(let e=0;e<r.length;e++){let{ngModule:n,providers:i}=r[e];Fm(i,o=>{t(o,n)})}}function Iv(r,t,e,n){if(r=Vn(r),!r)return!1;let i=null,o=hS(r),s=!o&&jo(r);if(!o&&!s){let l=r.ngModule;if(o=hS(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=r}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Iv(u,t,e,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let u;try{bm(o.imports,c=>{Iv(c,t,e,n)&&(u||=[],u.push(c))})}finally{}u!==void 0&&ex(u,t)}if(!a){let u=al(i)||(()=>new i);t({provide:i,useFactory:u,deps:Vr},i),t({provide:ZE,useValue:i,multi:!0},i),t({provide:Mu,useValue:()=>Ne(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=r;Fm(l,c=>{t(c,u)})}}else return!1;return i!==r&&r.providers!==void 0}function Fm(r,t){for(let e of r)QS(e)&&(e=e.\u0275providers),Array.isArray(e)?Fm(e,t):t(e)}var yM=xt({provide:String,useValue:xt});function tx(r){return r!==null&&typeof r=="object"&&yM in r}function CM(r){return!!(r&&r.useExisting)}function wM(r){return!!(r&&r.useFactory)}function ll(r){return typeof r=="function"}function _M(r){return!!r.useClass}var Qf=new Ge("Set Injector scope."),Sf={},SM={},dv;function Im(){return dv===void 0&&(dv=new Pf),dv}var yr=class{},Du=class extends yr{get destroyed(){return this._destroyed}constructor(t,e,n,i){super(),this.parent=e,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mv(t,s=>this.processProvider(s)),this.records.set(QE,Qa(void 0,this)),i.has("environment")&&this.records.set(yr,Qa(void 0,this));let o=this.records.get(Qf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ZE,Vr,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let e of this._ngOnDestroyHooks)e.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=Vo(this),n=Gr(void 0),i;try{return t()}finally{Vo(e),Gr(n)}}get(t,e=_u,n=et.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(fS))return t[fS](this);n=zf(n);let i,o=Vo(this),s=Gr(void 0);try{if(!(n&et.SkipSelf)){let l=this.records.get(t);if(l===void 0){let u=RM(t)&&Wf(t);u&&this.injectableDefInScope(u)?l=Qa(Pv(t),Sf):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=n&et.Self?Im():this.parent;return e=n&et.Optional&&e===_u?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Tf]=a[Tf]||[]).unshift(xn(t)),o)throw a;return iP(a,t,"R3InjectorError",this.source)}else throw a}finally{Gr(s),Vo(o)}}resolveInjectorInitializers(){let t=Vo(this),e=Gr(void 0),n;try{let i=this.get(Mu,Vr,et.Self);for(let o of i)o()}finally{Vo(t),Gr(e)}}toString(){let t=[],e=this.records;for(let n of e.keys())t.push(xn(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(t){t=Vn(t);let e=ll(t)?t:Vn(t&&t.provide),n=xM(t);if(!ll(t)&&t.multi===!0){let i=this.records.get(e);i||(i=Qa(void 0,Sf,!0),i.factory=()=>xv(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}else{let i=this.records.get(e)}this.records.set(e,n)}hydrate(t,e){return e.value===Sf&&(e.value=SM,e.value=e.factory()),typeof e.value=="object"&&e.value&&TM(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Vn(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Pv(r){let t=Wf(r),e=t!==null?t.factory:al(r);if(e!==null)return e;if(r instanceof Ge)throw new Ae(204,!1);if(r instanceof Function)return EM(r);throw new Ae(204,!1)}function EM(r){let t=r.length;if(t>0){let n=pM(t,"?");throw new Ae(204,!1)}let e=qI(r);return e!==null?()=>e.factory(r):()=>new r}function xM(r){if(tx(r))return Qa(void 0,r.useValue);{let t=nx(r);return Qa(t,Sf)}}function nx(r,t,e){let n;if(ll(r)){let i=Vn(r);return al(i)||Pv(i)}else if(tx(r))n=()=>Vn(r.useValue);else if(wM(r))n=()=>r.useFactory(...xv(r.deps||[]));else if(CM(r))n=()=>Ne(Vn(r.useExisting));else{let i=Vn(r&&(r.useClass||r.provide));if(DM(r))n=()=>new i(...xv(r.deps));else return al(i)||Pv(i)}return n}function Qa(r,t,e=!1){return{factory:r,value:t,multi:e?[]:void 0}}function DM(r){return!!r.deps}function TM(r){return r!==null&&typeof r=="object"&&typeof r.ngOnDestroy=="function"}function RM(r){return typeof r=="function"||typeof r=="object"&&r instanceof Ge}function Mv(r,t){for(let e of r)Array.isArray(e)?Mv(e,t):e&&QS(e)?Mv(e.\u0275providers,t):t(e)}function Ko(r,t){r instanceof Du&&r.assertNotDestroyed();let e,n=Vo(r),i=Gr(void 0);try{return t()}finally{Vo(n),Gr(i)}}function AM(r){if(!nE()&&!tP())throw new Ae(-203,!1)}function RS(r,t=null,e=null,n){let i=rx(r,t,e,n);return i.resolveInjectorInitializers(),i}function rx(r,t=null,e=null,n,i=new Set){let o=[e||Vr,mM(r)];return n=n||(typeof r=="object"?void 0:xn(r)),new Du(o,t||Im(),n||null,i)}var Bi=(()=>{let t=class t{static create(n,i){if(Array.isArray(n))return RS({name:""},i,n,"");{let o=n.name??"";return RS({name:o},n.parent,n.providers,o)}}};t.THROW_IF_NOT_FOUND=_u,t.NULL=new Pf,t.\u0275prov=Re({token:t,providedIn:"any",factory:()=>Ne(QE)}),t.__NG_ELEMENT_ID__=-1;let r=t;return r})();var Nv;function ix(r){Nv=r}function OM(){if(Nv!==void 0)return Nv;if(typeof document<"u")return document;throw new Ae(210,!1)}var Pm=new Ge("AppId",{providedIn:"root",factory:()=>bM}),bM="ng",Mm=new Ge("Platform Initializer"),ta=new Ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Nm=new Ge("CSP nonce",{providedIn:"root",factory:()=>OM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function ox(r){return r instanceof Function?r():r}function FM(r){return(r??Ee(Bi)).get(ta)==="browser"}function sx(r){return(r.flags&128)===128}var go=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(go||{});var ax=new Map,IM=0;function PM(){return IM++}function MM(r){ax.set(r[$f],r)}function NM(r){ax.delete(r[$f])}var AS="__ngContext__";function $s(r,t){Bo(t)?(r[AS]=t[$f],MM(t)):r[AS]=t}var LM;function Lm(r,t){return LM(r,t)}function km(r){let t=r[Wt];return si(t)?t[Wt]:t}function lx(r){return cx(r[xu])}function ux(r){return cx(r[oi])}function cx(r){for(;r!==null&&!si(r);)r=r[oi];return r}function Za(r,t,e,n,i){if(n!=null){let o,s=!1;si(n)?o=n:Bo(n)&&(s=!0,n=n[vo]);let a=ki(n);r===0&&e!==null?i==null?hx(t,e,a):Mf(t,e,a,i||null,!0):r===1&&e!==null?Mf(t,e,a,i||null,!0):r===2?eN(t,a,s):r===3&&t.destroyNode(a),o!=null&&nN(t,r,o,e,i)}}function kM(r,t){return r.createText(t)}function GM(r,t,e){r.setValue(t,e)}function dx(r,t,e){return r.createElement(t,e)}function VM(r,t){let e=t[en];Nu(r,t,e,2,null,null),t[vo]=null,t[ui]=null}function HM(r,t,e,n,i,o){n[vo]=i,n[ui]=t,Nu(r,n,e,1,i,o)}function BM(r,t){Nu(r,t,t[en],2,null,null)}function jM(r){let t=r[xu];if(!t)return fv(r[Ye],r);for(;t;){let e=null;if(Bo(t))e=t[xu];else{let n=t[mr];n&&(e=n)}if(!e){for(;t&&!t[oi]&&t!==r;)Bo(t)&&fv(t[Ye],t),t=t[Wt];t===null&&(t=r),Bo(t)&&fv(t[Ye],t),e=t&&t[oi]}t=e}}function UM(r,t,e,n){let i=mr+n,o=e.length;n>0&&(e[i-1][oi]=t),n<o-mr?(t[oi]=e[i],XE(e,mr+n,t)):(e.push(t),t[oi]=null),t[Wt]=e;let s=t[bu];s!==null&&e!==s&&WM(s,t);let a=t[Mi];a!==null&&a.insertView(r),TE(t),t[Ve]|=128}function WM(r,t){let e=r[ol],i=t[Wt][Wt][Li];t[Li]!==i&&(r[Ve]|=sl.HasTransplantedViews),e===null?r[ol]=[t]:e.push(t)}function fx(r,t){let e=r[ol],n=e.indexOf(t),i=t[Wt];e.splice(n,1)}function Lv(r,t){if(r.length<=mr)return;let e=mr+t,n=r[e];if(n){let i=n[bu];i!==null&&i!==r&&fx(i,n),t>0&&(r[e-1][oi]=n[oi]);let o=If(r,mr+t);VM(n[Ye],n);let s=o[Mi];s!==null&&s.detachView(o[Ye]),n[Wt]=null,n[oi]=null,n[Ve]&=-129}return n}function px(r,t){if(!(t[Ve]&256)){let e=t[en];t[Bs]&&V_(t[Bs]),e.destroyNode&&Nu(r,t,e,3,null,null),jM(t)}}function fv(r,t){if(!(t[Ve]&256)){t[Ve]&=-129,t[Ve]|=256,$M(r,t),zM(r,t),t[Ye].type===1&&t[en].destroy();let e=t[bu];if(e!==null&&si(t[Wt])){e!==t[Wt]&&fx(e,t);let n=t[Mi];n!==null&&n.detachView(r)}NM(t)}}function zM(r,t){let e=r.cleanup,n=t[Eu];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[e[o+1]];e[o].call(s)}n!==null&&(t[Eu]=null);let i=t[Ho];if(i!==null){t[Ho]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function $M(r,t){let e;if(r!=null&&(e=r.destroyHooks)!=null)for(let n=0;n<e.length;n+=2){let i=t[e[n]];if(!(i instanceof Ws)){let o=e[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ii(4,a,l);try{l.call(a)}finally{Ii(5,a,l)}}else{Ii(4,i,o);try{o.call(i)}finally{Ii(5,i,o)}}}}}function KM(r,t,e){return YM(r,t.parent,e)}function YM(r,t,e){let n=t;for(;n!==null&&n.type&40;)t=n,n=t.parent;if(n===null)return e[vo];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=r.data[n.directiveStart+i];if(o===Ni.None||o===Ni.Emulated)return null}return Br(n,e)}}function Mf(r,t,e,n,i){r.insertBefore(t,e,n,i)}function hx(r,t,e){r.appendChild(t,e)}function OS(r,t,e,n,i){n!==null?Mf(r,t,e,n,i):hx(r,t,e)}function qM(r,t,e,n){r.removeChild(t,e,n)}function Gm(r,t){return r.parentNode(t)}function XM(r,t){return r.nextSibling(t)}function QM(r,t,e){return JM(r,t,e)}function ZM(r,t,e){return r.type&40?Br(r,e):null}var JM=ZM,bS;function Vm(r,t,e,n){let i=KM(r,n,t),o=t[en],s=n.parent||t[ui],a=QM(s,n,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)OS(o,i,e[l],a,!1);else OS(o,i,e,a,!1);bS!==void 0&&bS(o,n,t,e,i)}function Ef(r,t){if(t!==null){let e=t.type;if(e&3)return Br(t,r);if(e&4)return kv(-1,r[t.index]);if(e&8){let n=t.child;if(n!==null)return Ef(r,n);{let i=r[t.index];return si(i)?kv(-1,i):ki(i)}}else{if(e&32)return Lm(t,r)()||ki(r[t.index]);{let n=gx(r,t);if(n!==null){if(Array.isArray(n))return n[0];let i=km(r[Li]);return Ef(i,n)}else return Ef(r,t.next)}}}return null}function gx(r,t){if(t!==null){let n=r[Li][ui],i=t.projection;return n.projection[i]}return null}function kv(r,t){let e=mr+r+1;if(e<t.length){let n=t[e],i=n[Ye].firstChild;if(i!==null)return Ef(n,i)}return t[js]}function eN(r,t,e){let n=Gm(r,t);n&&qM(r,n,t,e)}function Hm(r,t,e,n,i,o,s){for(;e!=null;){let a=n[e.index],l=e.type;if(s&&t===0&&(a&&$s(ki(a),n),e.flags|=2),(e.flags&32)!==32)if(l&8)Hm(r,t,e.child,n,i,o,!1),Za(t,r,i,a,o);else if(l&32){let u=Lm(e,n),c;for(;c=u();)Za(t,r,i,c,o);Za(t,r,i,a,o)}else l&16?tN(r,t,n,e,i,o):Za(t,r,i,a,o);e=s?e.projectionNext:e.next}}function Nu(r,t,e,n,i,o){Hm(e,n,r.firstChild,t,i,o,!1)}function tN(r,t,e,n,i,o){let s=e[Li],l=s[ui].projection[n.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let c=l[u];Za(t,r,i,c,o)}else{let u=l,c=s[Wt];sx(n)&&(u.flags|=128),Hm(r,t,u,c,i,o,!0)}}function nN(r,t,e,n,i){let o=e[js],s=ki(e);o!==s&&Za(t,r,n,o,i);for(let a=mr;a<e.length;a++){let l=e[a];Nu(l[Ye],l,r,t,n,o)}}function rN(r,t,e,n,i){if(t)i?r.addClass(e,n):r.removeClass(e,n);else{let o=n.indexOf("-")===-1?void 0:go.DashCase;i==null?r.removeStyle(e,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=go.Important),r.setStyle(e,n,i,o))}}function iN(r,t,e){r.setAttribute(t,"style",e)}function vx(r,t,e){e===""?r.removeAttribute(t,"class"):r.setAttribute(t,"class",e)}function mx(r,t,e){let{mergedAttrs:n,classes:i,styles:o}=e;n!==null&&Dv(r,t,n),i!==null&&vx(r,t,i),o!==null&&iN(r,t,o)}var vf;function oN(){if(vf===void 0&&(vf=null,Vs.trustedTypes))try{vf=Vs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return vf}function FS(r){return oN()?.createScriptURL(r)||r}var Nf=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZS})`}};function Lu(r){return r instanceof Nf?r.changingThisBreaksApplicationSecurity:r}function Bm(r,t){let e=sN(r);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ZS})`)}return e===t}function sN(r){return r instanceof Nf&&r.getTypeName()||null}var aN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yx(r){return r=String(r),r.match(aN)?r:"unsafe:"+r}var Zf=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Zf||{});function lN(r){let t=wx();return t?t.sanitize(Zf.URL,r)||"":Bm(r,"URL")?Lu(r):yx(Gs(r))}function uN(r){let t=wx();if(t)return FS(t.sanitize(Zf.RESOURCE_URL,r)||"");if(Bm(r,"ResourceURL"))return FS(Lu(r));throw new Ae(904,!1)}function cN(r,t){return t==="src"&&(r==="embed"||r==="frame"||r==="iframe"||r==="media"||r==="script")||t==="href"&&(r==="base"||r==="link")?uN:lN}function Cx(r,t,e){return cN(t,e)(r)}function wx(){let r=ht();return r&&r[il].sanitizer}var dN="h",fN="b";var pN=(r,t,e)=>null;function jm(r,t,e=!1){return pN(r,t,e)}var Gv=class{},Lf=class{};function hN(r){let t=Error(`No component factory found for ${xn(r)}.`);return t[gN]=r,t}var gN="ngComponent";var Vv=class{resolveComponentFactory(t){throw hN(t)}},fl=(()=>{let t=class t{};t.NULL=new Vv;let r=t;return r})();function vN(){return pl(Zn(),ht())}function pl(r,t){return new mn(Br(r,t))}var mn=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=vN;let r=t;return r})();function mN(r){return r instanceof mn?r.nativeElement:r}var Tu=class{},di=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>yN();let r=t;return r})();function yN(){let r=ht(),t=Zn(),e=$o(t.index,r);return(Bo(e)?e:r)[en]}var CN=(()=>{let t=class t{};t.\u0275prov=Re({token:t,providedIn:"root",factory:()=>null});let r=t;return r})(),Ks=class{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}},wN=new Ks("17.0.5"),pv={};function _x(r){return Um(r)?Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r:!1}function _N(r,t){if(Array.isArray(r))for(let e=0;e<r.length;e++)t(r[e]);else{let e=r[Symbol.iterator](),n;for(;!(n=e.next()).done;)t(n.value)}}function Um(r){return r!==null&&(typeof r=="function"||typeof r=="object")}var Hv=class{constructor(){}supports(t){return _x(t)}create(t){return new Bv(t)}},SN=(r,t)=>t,Bv=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||SN}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,o=null;for(;e||n;){let s=!n||e&&e.currentIndex<IS(n,i,o)?e:n,a=IS(s,i,o),l=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){let p=f<o.length?o[f]:o[f]=0,h=p+f;c<=h&&h<u&&(o[f]=p+1)}let d=s.previousIndex;o[d]=c-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!_x(t))throw new Ae(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,n=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),n=!0):(n&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,_N(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),n=!0):(n&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new jv(e,n),o,i)),t}_verifyReinsertion(t,e,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new kf),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,n=t._next;return e===null?this._itHead=n:e._next=n,n===null?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new kf),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},jv=class{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Uv=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;n!==null;n=n._nextDup)if((e===null||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let e=t._prevDup,n=t._nextDup;return e===null?this._head=n:e._nextDup=n,n===null?this._tail=e:n._prevDup=e,this._head===null}},kf=class{constructor(){this.map=new Map}put(t){let e=t.trackById,n=this.map.get(e);n||(n=new Uv,this.map.set(e,n)),n.add(t)}get(t,e){let n=t,i=this.map.get(n);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function IS(r,t,e){let n=r.previousIndex;if(n===null)return n;let i=0;return e&&n<e.length&&(i=e[n]),n+t+i}var Wv=class{constructor(){}supports(t){return t instanceof Map||Um(t)}create(){return new zv}},zv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Um(t)))throw new Ae(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,n);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,e);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let n=new $v(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}},$v=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function PS(){return new Jf([new Hv])}var Jf=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,i){if(i!=null){let o=i.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||PS()),deps:[[t,new qf,new Pu]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i!=null)return i;throw new Ae(901,!1)}};t.\u0275prov=Re({token:t,providedIn:"root",factory:PS});let r=t;return r})();function MS(){return new Wm([new Wv])}var Wm=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,i){if(i){let o=i.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||MS()),deps:[[t,new qf,new Pu]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i)return i;throw new Ae(901,!1)}};t.\u0275prov=Re({token:t,providedIn:"root",factory:MS});let r=t;return r})();function Gf(r,t,e,n,i=!1){for(;e!==null;){let o=t[e.index];o!==null&&n.push(ki(o)),si(o)&&EN(o,n);let s=e.type;if(s&8)Gf(r,t,e.child,n);else if(s&32){let a=Lm(e,t),l;for(;l=a();)n.push(l)}else if(s&16){let a=gx(t,e);if(Array.isArray(a))n.push(...a);else{let l=km(t[Li]);Gf(l[Ye],l,a,n,!0)}}e=i?e.projectionNext:e.next}return n}function EN(r,t){for(let e=mr;e<r.length;e++){let n=r[e],i=n[Ye].firstChild;i!==null&&Gf(n[Ye],n,i,t)}r[js]!==r[vo]&&t.push(r[js])}var Sx=[];function xN(r){return r[Bs]??DN(r)}function DN(r){let t=Sx.pop()??Object.create(RN);return t.lView=r,t}function TN(r){r.lView[Bs]!==r&&(r.lView=null,Sx.push(r))}var RN=St(De({},L_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Yf(r.lView)},consumerOnSignalRead(){this.lView[Bs]=this}}),AN="ngOriginalError";function hv(r){return r[AN]}var Gi=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&hv(t);for(;e&&hv(e);)e=hv(e);return e||null}};var Ex=!1,ON=new Ge("",{providedIn:"root",factory:()=>Ex});var ji={};function mt(r){xx(Hn(),ht(),ea()+r,!1)}function xx(r,t,e,n){if(!n)if((t[Ve]&3)===3){let o=r.preOrderCheckHooks;o!==null&&Cf(t,o,e)}else{let o=r.preOrderHooks;o!==null&&wf(t,o,0,e)}Us(e)}function ye(r,t=et.Default){let e=ht();if(e===null)return Ne(r,t);let n=Zn();return $E(n,e,Vn(r),t)}function Dx(){let r="invalid";throw new Error(r)}function bN(r,t){let e=r.hostBindingOpCodes;if(e!==null)try{for(let n=0;n<e.length;n++){let i=e[n];if(i<0)Us(~i);else{let o=i,s=e[++n],a=e[++n];UP(s,o);let l=t[o];a(2,l)}}}finally{Us(-1)}}function ep(r,t,e,n,i,o,s,a,l,u,c){let d=t.blueprint.slice();return d[vo]=i,d[Ve]=n|4|128|8,(u!==null||r&&r[Ve]&2048)&&(d[Ve]|=2048),xE(d),d[Wt]=d[dl]=r,d[Hr]=e,d[il]=s||r&&r[il],d[en]=a||r&&r[en],d[rl]=l||r&&r[rl]||null,d[ui]=o,d[$f]=PM(),d[Tv]=c,d[vE]=u,d[Li]=t.type==2?r[Li]:d,d}function tp(r,t,e,n,i){let o=r.data[t];if(o===null)o=FN(r,t,e,n,i),jP()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=n,o.attrs=i;let s=kP();o.injectorIndex=s===null?-1:s.injectorIndex}return Fu(o,!0),o}function FN(r,t,e,n,i){let o=OE(),s=bE(),a=s?o:o&&o.parent,l=r.data[t]=kN(r,a,e,t,n,i);return r.firstChild===null&&(r.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Tx(r,t,e,n){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(n),r.blueprint.push(n),r.data.push(null);return i}function Rx(r,t,e,n,i){let o=ea(),s=n&2;try{Us(-1),s&&t.length>Uo&&xx(r,t,Uo,!1),Ii(s?2:0,i),e(n,i)}finally{Us(o),Ii(s?3:1,i)}}function Ax(r,t,e){if(yE(t)){let n=vr(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=r.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{vr(n)}}}function Ox(r,t,e){AE()&&(UN(r,t,e,Br(e,t)),(e.flags&64)===64&&Nx(r,t,e))}function bx(r,t,e=Br){let n=t.localNames;if(n!==null){let i=t.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?e(t,r):r[s];r[i++]=a}}}function Fx(r){let t=r.tView;return t===null||t.incompleteFirstPass?r.tView=zm(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):t}function zm(r,t,e,n,i,o,s,a,l,u,c){let d=Uo+n,f=d+i,p=IN(d,f),h=typeof u=="function"?u():u;return p[Ye]={type:r,blueprint:p,template:e,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1,ssrId:c}}function IN(r,t){let e=[];for(let n=0;n<t;n++)e.push(n<r?null:ji);return e}function PN(r,t,e,n){let o=n.get(ON,Ex)||e===Ni.ShadowDom,s=r.selectRootElement(t,o);return MN(s),s}function MN(r){NN(r)}var NN=r=>null;function LN(r,t,e,n){let i=Vx(t);i.push(e),r.firstCreatePass&&Hx(r).push(n,i.length-1)}function kN(r,t,e,n,i,o){let s=t?t.injectorIndex:-1,a=0;return MP()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function NS(r,t,e,n){for(let i in r)if(r.hasOwnProperty(i)){e=e===null?{}:e;let o=r[i];n===null?LS(e,t,i,o):n.hasOwnProperty(i)&&LS(e,t,n[i],o)}return e}function LS(r,t,e,n){r.hasOwnProperty(e)?r[e].push(t,n):r[e]=[t,n]}function GN(r,t,e){let n=t.directiveStart,i=t.directiveEnd,o=r.data,s=t.attrs,a=[],l=null,u=null;for(let c=n;c<i;c++){let d=o[c],f=e?e.get(d):null,p=f?f.inputs:null,h=f?f.outputs:null;l=NS(d.inputs,c,l,p),u=NS(d.outputs,c,u,h);let g=l!==null&&s!==null&&!uE(t)?eL(l,c,s):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}function VN(r){return r==="class"?"className":r==="for"?"htmlFor":r==="formaction"?"formAction":r==="innerHtml"?"innerHTML":r==="readonly"?"readOnly":r==="tabindex"?"tabIndex":r}function Ix(r,t,e,n,i,o,s,a){let l=Br(t,e),u=t.inputs,c;!a&&u!=null&&(c=u[n])?($m(r,e,c,n,i),Kf(t)&&HN(e,t.index)):t.type&3?(n=VN(n),i=s!=null?s(i,t.value||"",n):i,o.setProperty(l,n,i)):t.type&12}function HN(r,t){let e=$o(t,r);e[Ve]&16||(e[Ve]|=64)}function Px(r,t,e,n){if(AE()){let i=n===null?null:{"":-1},o=zN(r,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Mx(r,t,e,s,i,a),i&&$N(e,n,i)}e.mergedAttrs=Su(e.mergedAttrs,e.attrs)}function Mx(r,t,e,n,i,o){for(let u=0;u<n.length;u++)bv(Ff(e,t),r,n[u].type);YN(e,r.data.length,n.length);for(let u=0;u<n.length;u++){let c=n[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=Tx(r,t,n.length,null);for(let u=0;u<n.length;u++){let c=n[u];e.mergedAttrs=Su(e.mergedAttrs,c.hostAttrs),qN(r,e,t,l,c),KN(l,c,i),c.contentQueries!==null&&(e.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(e.flags|=64);let d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((r.preOrderHooks??=[]).push(e.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}GN(r,e,o)}function BN(r,t,e,n,i){let o=i.hostBindings;if(o){let s=r.hostBindingOpCodes;s===null&&(s=r.hostBindingOpCodes=[]);let a=~t.index;jN(s)!=a&&s.push(a),s.push(e,n,o)}}function jN(r){let t=r.length;for(;t>0;){let e=r[--t];if(typeof e=="number"&&e<0)return e}return 0}function UN(r,t,e,n){let i=e.directiveStart,o=e.directiveEnd;Kf(e)&&XN(t,e,r.data[i+e.componentOffset]),r.firstCreatePass||Ff(e,t),$s(n,t);let s=e.initialInputs;for(let a=i;a<o;a++){let l=r.data[a],u=zs(t,r,a,e);if($s(u,t),s!==null&&JN(t,a-i,u,l,e,s),Wo(l)){let c=$o(e.index,t);c[Hr]=zs(t,r,a,e)}}}function Nx(r,t,e){let n=e.directiveStart,i=e.directiveEnd,o=e.index,s=WP();try{Us(o);for(let a=n;a<i;a++){let l=r.data[a],u=t[a];Av(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&WN(l,u)}}finally{Us(-1),Av(s)}}function WN(r,t){r.hostBindings!==null&&r.hostBindings(1,t)}function zN(r,t){let e=r.directiveRegistry,n=null,i=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(dP(t,s.selectors,!1))if(n||(n=[]),Wo(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let l=a.length;Kv(r,t,l)}else n.unshift(s),Kv(r,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function Kv(r,t,e){t.componentOffset=e,(r.components??=[]).push(t.index)}function $N(r,t,e){if(t){let n=r.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new Ae(-301,!1);n.push(t[i],o)}}}function KN(r,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=r;Wo(t)&&(e[""]=r)}}function YN(r,t,e){r.flags|=1,r.directiveStart=t,r.directiveEnd=t+e,r.providerIndexes=t}function qN(r,t,e,n,i){r.data[n]=i;let o=i.factory||(i.factory=al(i.type,!0)),s=new Ws(o,Wo(i),ye);r.blueprint[n]=s,e[n]=s,BN(r,t,n,Tx(r,e,i.hostVars,ji),i)}function XN(r,t,e){let n=Br(t,r),i=Fx(e),o=r[il].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=np(r,ep(r,i,null,s,n,t,null,o.createRenderer(n,e),null,null,null));r[t.index]=a}function QN(r,t,e,n,i,o){let s=Br(r,t);ZN(t[en],s,o,r.value,e,n,i)}function ZN(r,t,e,n,i,o,s){if(o==null)r.removeAttribute(t,i,e);else{let a=s==null?Gs(o):s(o,n||"",i);r.setAttribute(t,i,a,e)}}function JN(r,t,e,n,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],c=s[a++];Lx(n,e,l,u,c)}}function Lx(r,t,e,n,i){let o=vr(null);try{let s=r.inputTransforms;s!==null&&s.hasOwnProperty(n)&&(i=s[n].call(t,i)),r.setInput!==null?r.setInput(t,i,e,n):t[n]=i}finally{vr(o)}}function eL(r,t,e){let n=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(r.hasOwnProperty(o)){n===null&&(n=[]);let s=r[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(o,s[a+1],e[i+1]);break}}i+=2}return n}function kx(r,t,e,n){return[r,!0,0,t,null,n,null,e,null,null]}function Gx(r,t){let e=r.contentQueries;if(e!==null){let n=vr(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=r.data[s];_m(o),a.contentQueries(2,t[s],s)}}}finally{vr(n)}}}function np(r,t){return r[xu]?r[_S][oi]=t:r[xu]=t,r[_S]=t,t}function Yv(r,t,e){_m(0);let n=vr(null);try{t(r,e)}finally{vr(n)}}function Vx(r){return r[Eu]||(r[Eu]=[])}function Hx(r){return r.cleanup||(r.cleanup=[])}function Bx(r,t){let e=r[rl],n=e?e.get(Gi,null):null;n&&n.handleError(t)}function $m(r,t,e,n,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=t[s],u=r.data[s];Lx(u,l,n,a,i)}}function jx(r,t,e){let n=SE(t,r);GM(r[en],n,e)}var tL=100;function nL(r,t=!0){let e=r[il],n=e.rendererFactory,i=e.afterRenderEventManager,o=!1;o||(n.begin?.(),i?.begin());try{let s=r[Ye],a=r[Hr];Ux(s,r,s.template,a),rL(r)}catch(s){throw t&&Bx(r,s),s}finally{o||(n.end?.(),e.inlineEffectRunner?.flush(),i?.end())}}function rL(r){let t=0;for(;DE(r);){if(t===tL)throw new Ae(103,!1);t++,$x(r,1)}}function Ux(r,t,e,n){let i=t[Ve];if((i&256)===256)return;let o=!1;!o&&t[il].inlineEffectRunner?.flush(),Sm(t);let s=null,a=null;!o&&iL(r)&&(a=xN(t),s=k_(a));try{xE(t),BP(r.bindingStartIndex),e!==null&&Rx(r,t,e,2,n);let l=(i&3)===3;if(!o)if(l){let d=r.preOrderCheckHooks;d!==null&&Cf(t,d,null)}else{let d=r.preOrderHooks;d!==null&&wf(t,d,0,null),lv(t,0)}if(oL(t),Wx(t,0),r.contentQueries!==null&&Gx(r,t),!o)if(l){let d=r.contentCheckHooks;d!==null&&Cf(t,d)}else{let d=r.contentHooks;d!==null&&wf(t,d,1),lv(t,1)}bN(r,t);let u=r.components;u!==null&&Kx(t,u,0);let c=r.viewQuery;if(c!==null&&Yv(2,c,n),!o)if(l){let d=r.viewCheckHooks;d!==null&&Cf(t,d)}else{let d=r.viewHooks;d!==null&&wf(t,d,2),lv(t,2)}if(r.firstUpdatePass===!0&&(r.firstUpdatePass=!1),t[av]){for(let d of t[av])d();t[av]=null}o||(t[Ve]&=-73)}catch(l){throw Yf(t),l}finally{a!==null&&(G_(a,s),TN(a)),Em()}}function iL(r){return r.type!==2}function Wx(r,t){for(let e=lx(r);e!==null;e=ux(e)){e[Ve]&=~sl.HasChildViewsToRefresh;for(let n=mr;n<e.length;n++){let i=e[n];zx(i,t)}}}function oL(r){for(let t=lx(r);t!==null;t=ux(t)){if(!(t[Ve]&sl.HasTransplantedViews))continue;let e=t[ol];for(let n=0;n<e.length;n++){let i=e[n],o=i[Wt];AP(i)}}}function sL(r,t,e){let n=$o(t,r);zx(n,e)}function zx(r,t){Cm(r)&&$x(r,t)}function $x(r,t){let n=r[Ye],i=r[Ve],o=r[Bs],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Gg(o)),o&&(o.dirty=!1),r[Ve]&=-9217,s)Ux(n,r,n.template,r[Hr]);else if(i&8192){Wx(r,1);let a=n.components;a!==null&&Kx(r,a,1)}}function Kx(r,t,e){for(let n=0;n<t.length;n++)sL(r,t[n],e)}function Km(r){for(;r;){r[Ve]|=64;let t=km(r);if(wP(r)&&!t)return r;r=t}return null}var Ys=class{get rootNodes(){let t=this._lView,e=t[Ye];return Gf(e,t,e.firstChild,[])}constructor(t,e,n=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Hr]}set context(t){this._lView[Hr]=t}get destroyed(){return(this._lView[Ve]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Wt];if(si(t)){let e=t[Rf],n=e?e.indexOf(this):-1;n>-1&&(Lv(t,n),If(e,n))}this._attachedToViewContainer=!1}px(this._lView[Ye],this._lView)}onDestroy(t){RE(this._lView,t)}markForCheck(){Km(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ve]&=-129}reattach(){TE(this._lView),this._lView[Ve]|=128}detectChanges(){nL(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,BM(this._lView[Ye],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=t}},hl=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=aL;let r=t;return r})();function aL(r){return lL(Zn(),ht(),(r&16)===16)}function lL(r,t,e){if(Kf(r)&&!e){let n=$o(r.index,t);return new Ys(n,n)}else if(r.type&47){let n=t[Li];return new Ys(n,t)}return null}var Yx=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=uL,t.__NG_ENV_ID__=n=>n;let r=t;return r})(),qv=class extends Yx{constructor(t){super(),this._lView=t}onDestroy(t){return RE(this._lView,t),()=>bP(this._lView,t)}};function uL(){return new qv(ht())}var kS=new Set;function Ym(r){kS.has(r)||(kS.add(r),performance?.mark?.("mark_use_counter",{detail:{feature:r}}))}var Xv=class extends En{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i=t,o=e||(()=>null),s=n;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=gv(o),i&&(i=gv(i)),s&&(s=gv(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof an&&t.add(a),a}};function gv(r){return t=>{setTimeout(r,void 0,t)}}var re=Xv;function GS(...r){}function cL(){let r=typeof Vs.requestAnimationFrame=="function",t=Vs[r?"requestAnimationFrame":"setTimeout"],e=Vs[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){let n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}var Et=class r{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new re(!1),this.onMicrotaskEmpty=new re(!1),this.onStable=new re(!1),this.onError=new re(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=cL().nativeRequestAnimationFrame,pL(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!r.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(r.isInAngularZone())throw new Ae(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,dL,GS,GS);try{return o.runTask(s,e,n)}finally{o.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}},dL={};function qm(r){if(r._nesting==0&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function fL(r){r.isCheckStableRunning||r.lastRequestAnimationFrameId!==-1||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Vs,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Qv(r),r.isCheckStableRunning=!0,qm(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Qv(r))}function pL(r){let t=()=>{fL(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,i,o,s,a)=>{if(hL(a))return e.invokeTask(i,o,s,a);try{return VS(r),e.invokeTask(i,o,s,a)}finally{(r.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||r.shouldCoalesceRunChangeDetection)&&t(),HS(r)}},onInvoke:(e,n,i,o,s,a,l)=>{try{return VS(r),e.invoke(i,o,s,a,l)}finally{r.shouldCoalesceRunChangeDetection&&t(),HS(r)}},onHasTask:(e,n,i,o)=>{e.hasTask(i,o),n===i&&(o.change=="microTask"?(r._hasPendingMicrotasks=o.microTask,Qv(r),qm(r)):o.change=="macroTask"&&(r.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,i,o)=>(e.handleError(i,o),r.runOutsideAngular(()=>r.onError.emit(o)),!1)})}function Qv(r){r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&r.lastRequestAnimationFrameId!==-1?r.hasPendingMicrotasks=!0:r.hasPendingMicrotasks=!1}function VS(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function HS(r){r._nesting--,qm(r)}var qx=new Ge("",{providedIn:"root",factory:Xx});function Xx(){let r=Ee(Et),t=!0,e=new at(i=>{t=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{i.next(t),i.complete()})}),n=new at(i=>{let o;r.runOutsideAngular(()=>{o=r.onStable.subscribe(()=>{Et.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});let s=r.onUnstable.subscribe(()=>{Et.assertInAngularZone(),t&&(t=!1,r.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}});return Jg(e,n.pipe(pf()))}function hL(r){return!Array.isArray(r)||r.length!==1?!1:r[0].data?.__ignore_ng_zone__===!0}var Ja=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(Ja||{}),gL={destroy(){}};function Xm(r,t){!t&&AM(Xm);let e=t?.injector??Ee(Bi);if(!FM(e))return gL;Ym("NgAfterNextRender");let n=e.get(Qx),i=n.handler??=new Jv,o=t?.phase??Ja.MixedReadWrite,s=()=>{i.unregister(l),a()},a=e.get(Yx).onDestroy(s),l=new Zv(e,o,()=>{s(),r()});return i.register(l),{destroy:s}}var Zv=class{constructor(t,e,n){this.phase=e,this.callbackFn=n,this.zone=t.get(Et),this.errorHandler=t.get(Gi,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},Jv=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ja.EarlyRead]:new Set,[Ja.Write]:new Set,[Ja.MixedReadWrite]:new Set,[Ja.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Ae(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let e of t)e.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},Qx=(()=>{let t=class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=Re({token:t,providedIn:"root",factory:()=>new t});let r=t;return r})();function vL(r,t){let e=$o(t,r),n=e[Ye];mL(n,e);let i=e[vo];i!==null&&e[Tv]===null&&(e[Tv]=jm(i,e[rl])),Qm(n,e,e[Hr])}function mL(r,t){for(let e=t.length;e<r.blueprint.length;e++)t.push(r.blueprint[e])}function Qm(r,t,e){Sm(t);try{let n=r.viewQuery;n!==null&&Yv(1,n,e);let i=r.template;i!==null&&Rx(r,t,i,1,e),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Gx(r,t),r.staticViewQueries&&Yv(2,r.viewQuery,e);let o=r.components;o!==null&&yL(t,o)}catch(n){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),n}finally{t[Ve]&=-5,Em()}}function yL(r,t){for(let e=0;e<t.length;e++)vL(r,t[e])}function em(r,t,e){let n=e?r.styles:null,i=e?r.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=dS(i,a);else if(o==2){let l=a,u=t[++s];n=dS(n,l+": "+u+";")}}e?r.styles=n:r.stylesWithoutHost=n,e?r.classes=i:r.classesWithoutHost=i}var Vf=class extends fl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=jo(t);return new ul(e,this.ngModule)}};function BS(r){let t=[];for(let e in r)if(r.hasOwnProperty(e)){let n=r[e];t.push({propName:n,templateName:e})}return t}function CL(r){let t=r.toLowerCase();return t==="svg"?xP:t==="math"?DP:null}var tm=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=zf(n);let i=this.injector.get(t,pv,n);return i!==pv||e===pv?i:this.parentInjector.get(t,e,n)}},ul=class extends Lf{get inputs(){let t=this.componentDef,e=t.inputTransforms,n=BS(t.inputs);if(e!==null)for(let i of n)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return n}get outputs(){return BS(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=gP(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,i){i=i||this.ngModule;let o=i instanceof yr?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new tm(t,o):t,a=s.get(Tu,null);if(a===null)throw new Ae(407,!1);let l=s.get(CN,null),u=s.get(Qx,null),c={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u},d=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=n?PN(d,n,this.componentDef.encapsulation,s):dx(d,f,CL(f)),h=4608,g=this.componentDef.onPush?576:528,v=this.componentDef.signals?h:g,m=null;p!==null&&(m=jm(p,s,!0));let C=zm(0,null,null,1,0,null,null,null,null,null,null),y=ep(null,C,null,v,null,null,c,d,s,null,m);Sm(y);let x,P;try{let R=this.componentDef,E,O=null;R.findHostDirectiveDefs?(E=[],O=new Map,R.findHostDirectiveDefs(R,E,O),E.push(R)):E=[R];let I=wL(y,p),k=_L(I,p,R,E,y,c,d);P=EE(C,Uo),p&&xL(d,R,p,n),e!==void 0&&DL(P,this.ngContentSelectors,e),x=EL(k,R,E,O,y,[TL]),Qm(C,y,null)}finally{Em()}return new nm(this.componentType,x,pl(P,y),y,P)}},nm=class extends Gv{constructor(t,e,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Ys(i,void 0,!1),this.componentType=t}setInput(t,e){let n=this._tNode.inputs,i;if(n!==null&&(i=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;$m(o[Ye],o,i,t,e),this.previousInputValues.set(t,e);let s=$o(this._tNode.index,o);Km(s)}}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function wL(r,t){let e=r[Ye],n=Uo;return r[n]=t,tp(e,n,2,"#host",null)}function _L(r,t,e,n,i,o,s){let a=i[Ye];SL(n,r,t,s);let l=null;t!==null&&(l=jm(t,i[rl]));let u=o.rendererFactory.createRenderer(t,e),c=16;e.signals?c=4096:e.onPush&&(c=64);let d=ep(i,Fx(e),null,c,i[r.index],r,o,u,null,null,l);return a.firstCreatePass&&Kv(a,r,n.length-1),np(i,d),i[r.index]=d}function SL(r,t,e,n){for(let i of r)t.mergedAttrs=Su(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(em(t,t.mergedAttrs,!0),e!==null&&mx(n,e,t))}function EL(r,t,e,n,i,o){let s=Zn(),a=i[Ye],l=Br(s,i);Mx(a,i,s,e,null,n);for(let c=0;c<e.length;c++){let d=s.directiveStart+c,f=zs(i,a,d,s);$s(f,i)}Nx(a,i,s),l&&$s(l,i);let u=zs(i,a,s.directiveStart+s.componentOffset,s);if(r[Hr]=i[Hr]=u,o!==null)for(let c of o)c(u,t);return Ax(a,s,r),u}function xL(r,t,e,n){if(n)Dv(r,e,["ng-version",wN.full]);else{let{attrs:i,classes:o}=vP(t.selectors[0]);i&&Dv(r,e,i),o&&o.length>0&&vx(r,e,o.join(" "))}}function DL(r,t,e){let n=r.projection=[];for(let i=0;i<t.length;i++){let o=e[i];n.push(o!=null?Array.from(o):null)}}function TL(){let r=Zn();Rm(ht()[Ye],r)}function RL(r){return Object.getPrototypeOf(r.prototype).constructor}function Cr(r){let t=RL(r.type),e=!0,n=[r];for(;t;){let i;if(Wo(r))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ae(903,!1);i=t.\u0275dir}if(i){if(e){n.push(i);let s=r;s.inputs=mf(r.inputs),s.inputTransforms=mf(r.inputTransforms),s.declaredInputs=mf(r.declaredInputs),s.outputs=mf(r.outputs);let a=i.hostBindings;a&&FL(r,a);let l=i.viewQuery,u=i.contentQueries;if(l&&OL(r,l),u&&bL(r,u),hf(r.inputs,i.inputs),hf(r.declaredInputs,i.declaredInputs),hf(r.outputs,i.outputs),i.inputTransforms!==null&&(s.inputTransforms===null&&(s.inputTransforms={}),hf(s.inputTransforms,i.inputTransforms)),Wo(i)&&i.data.animation){let c=r.data;c.animation=(c.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(r),a===Cr&&(e=!1)}}t=Object.getPrototypeOf(t)}AL(n)}function AL(r){let t=0,e=null;for(let n=r.length-1;n>=0;n--){let i=r[n];i.hostVars=t+=i.hostVars,i.hostAttrs=Su(i.hostAttrs,e=Su(e,i.hostAttrs))}}function mf(r){return r===nl?{}:r===Vr?[]:r}function OL(r,t){let e=r.viewQuery;e?r.viewQuery=(n,i)=>{t(n,i),e(n,i)}:r.viewQuery=t}function bL(r,t){let e=r.contentQueries;e?r.contentQueries=(n,i,o)=>{t(n,i,o),e(n,i,o)}:r.contentQueries=t}function FL(r,t){let e=r.hostBindings;e?r.hostBindings=(n,i)=>{t(n,i),e(n,i)}:r.hostBindings=t}function Zm(r){let t=r.inputConfig,e={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];Array.isArray(i)&&i[2]&&(e[n]=i[2])}r.inputTransforms=e}function IL(r,t,e){return r[t]=e}function qs(r,t,e){let n=r[t];return Object.is(n,e)?!1:(r[t]=e,!0)}function PL(r,t,e,n){let i=qs(r,t,e);return qs(r,t+1,n)||i}function Zx(r,t,e,n,i){let o=PL(r,t,e,n);return qs(r,t+2,i)||o}function rp(r,t,e,n){let i=ht(),o=wm();if(qs(i,o,t)){let s=Hn(),a=xm();QN(a,i,r,t,e,n)}return rp}function Jx(r,t,e,n){return qs(r,wm(),e)?t+Gs(e)+n:ji}function ML(r,t,e,n,i,o,s,a){let l=HP(),u=Zx(r,l,e,i,s);return FE(3),u?t+Gs(e)+n+Gs(i)+o+Gs(s)+a:ji}function yf(r,t){return r<<17|t<<2}function Xs(r){return r>>17&32767}function NL(r){return(r&2)==2}function LL(r,t){return r&131071|t<<17}function rm(r){return r|2}function cl(r){return(r&131068)>>2}function vv(r,t){return r&-131069|t<<2}function kL(r){return(r&1)===1}function im(r){return r|1}function GL(r,t,e,n,i,o){let s=o?t.classBindings:t.styleBindings,a=Xs(s),l=cl(s);r[n]=e;let u=!1,c;if(Array.isArray(e)){let d=e;c=d[1],(c===null||Iu(d,c)>0)&&(u=!0)}else c=e;if(i)if(l!==0){let f=Xs(r[a+1]);r[n+1]=yf(f,a),f!==0&&(r[f+1]=vv(r[f+1],n)),r[a+1]=LL(r[a+1],n)}else r[n+1]=yf(a,0),a!==0&&(r[a+1]=vv(r[a+1],n)),a=n;else r[n+1]=yf(l,0),a===0?a=n:r[l+1]=vv(r[l+1],n),l=n;u&&(r[n+1]=rm(r[n+1])),jS(r,c,n,!0,o),jS(r,c,n,!1,o),VL(t,c,r,n,o),s=yf(a,l),o?t.classBindings=s:t.styleBindings=s}function VL(r,t,e,n,i){let o=i?r.residualClasses:r.residualStyles;o!=null&&typeof t=="string"&&Iu(o,t)>=0&&(e[n+1]=im(e[n+1]))}function jS(r,t,e,n,i){let o=r[e+1],s=t===null,a=n?Xs(o):cl(o),l=!1;for(;a!==0&&(l===!1||s);){let u=r[a],c=r[a+1];HL(u,t)&&(l=!0,r[a+1]=n?im(c):rm(c)),a=n?Xs(c):cl(c)}l&&(r[e+1]=n?rm(o):im(o))}function HL(r,t){return r===null||t==null||(Array.isArray(r)?r[1]:r)===t?!0:Array.isArray(r)&&typeof t=="string"?Iu(r,t)>=0:!1}function wt(r,t,e){let n=ht(),i=wm();if(qs(n,i,t)){let o=Hn(),s=xm();Ix(o,s,n,r,t,n[en],e,!1)}return wt}function US(r,t,e,n,i){let o=t.inputs,s=i?"class":"style";$m(r,e,o[s],s,n)}function ip(r,t){return BL(r,t,null,!0),ip}function BL(r,t,e,n){let i=ht(),o=Hn(),s=FE(2);if(o.firstUpdatePass&&UL(o,r,s,n),t!==ji&&qs(i,s,t)){let a=o.data[ea()];YL(o,a,i,i[en],r,i[s+1]=qL(t,e),n,s)}}function jL(r,t){return t>=r.expandoStartIndex}function UL(r,t,e,n){let i=r.data;if(i[e+1]===null){let o=i[ea()],s=jL(r,e);XL(o,n)&&t===null&&!s&&(t=!1),t=WL(i,o,t,n),GL(i,o,t,e,s,n)}}function WL(r,t,e,n){let i=zP(r),o=n?t.residualClasses:t.residualStyles;if(i===null)(n?t.classBindings:t.styleBindings)===0&&(e=mv(null,r,t,e,n),e=Ru(e,t.attrs,n),o=null);else{let s=t.directiveStylingLast;if(s===-1||r[s]!==i)if(e=mv(i,r,t,e,n),o===null){let l=zL(r,t,n);l!==void 0&&Array.isArray(l)&&(l=mv(null,r,t,l[1],n),l=Ru(l,t.attrs,n),$L(r,t,n,l))}else o=KL(r,t,n)}return o!==void 0&&(n?t.residualClasses=o:t.residualStyles=o),e}function zL(r,t,e){let n=e?t.classBindings:t.styleBindings;if(cl(n)!==0)return r[Xs(n)]}function $L(r,t,e,n){let i=e?t.classBindings:t.styleBindings;r[Xs(i)]=n}function KL(r,t,e){let n,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=r[o].hostAttrs;n=Ru(n,s,e)}return Ru(n,t.attrs,e)}function mv(r,t,e,n,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],n=Ru(n,o.hostAttrs,i),o!==r);)a++;return r!==null&&(e.directiveStylingLast=a),n}function Ru(r,t,e){let n=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===n&&(Array.isArray(r)||(r=r===void 0?[]:["",r]),gM(r,s,e?!0:t[++o]))}return r===void 0?null:r}function YL(r,t,e,n,i,o,s,a){if(!(t.type&3))return;let l=r.data,u=l[a+1],c=kL(u)?WS(l,t,e,i,cl(u),s):void 0;if(!Hf(c)){Hf(o)||NL(u)&&(o=WS(l,null,e,i,a,s));let d=SE(ea(),e);rN(n,s,d,i,o)}}function WS(r,t,e,n,i,o){let s=t===null,a;for(;i>0;){let l=r[i],u=Array.isArray(l),c=u?l[1]:l,d=c===null,f=e[i+1];f===ji&&(f=d?Vr:void 0);let p=d?cv(f,n):c===n?f:void 0;if(u&&!Hf(p)&&(p=cv(l,n)),Hf(p)&&(a=p,s))return a;let h=r[i+1];i=s?Xs(h):cl(h)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=cv(l,n))}return a}function Hf(r){return r!==void 0}function qL(r,t){return r==null||r===""||(typeof t=="string"?r=r+t:typeof r=="object"&&(r=xn(Lu(r)))),r}function XL(r,t){return(r.flags&(t?8:16))!==0}var Aoe=new RegExp(`^(\\d+)*(${fN}|${dN})*(.*)`);var QL=(r,t)=>null;function zS(r,t){return QL(r,t)}function ZL(r,t,e,n){let i=t.tView,s=r[Ve]&4096?4096:16,a=ep(r,i,e,s,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null),l=r[t.index];a[bu]=l;let u=r[Mi];return u!==null&&(a[Mi]=u.createEmbeddedView(i)),Qm(i,a,e),a}function $S(r,t){return!t||sx(r)}function JL(r,t,e,n=!0){let i=t[Ye];if(UM(i,t,r,e),n){let o=kv(e,r),s=t[en],a=Gm(s,r[js]);a!==null&&HM(i,r[ui],s,t,a,o)}}var Ui=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=ek;let r=t;return r})();function ek(){let r=Zn();return tD(r,ht())}var tk=Ui,eD=class extends tk{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return pl(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){let t=Am(this._hostTNode,this._hostLView);if(HE(t)){let e=bf(t,this._hostLView),n=Of(t),i=e[Ye].data[n+8];return new Hs(i,e)}else return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=KS(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-mr}createEmbeddedView(t,e,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=zS(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,$S(this._hostTNode,s)),a}createComponent(t,e,n,i,o){let s=t&&!cM(t),a;if(s)a=e;else{let h=e||{};a=h.index,n=h.injector,i=h.projectableNodes,o=h.environmentInjector||h.ngModuleRef}let l=s?t:new ul(jo(t)),u=n||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?u:this.parentInjector).get(yr,null);g&&(o=g)}let c=jo(l.componentType??{}),d=zS(this._lContainer,c?.id??null),f=d?.firstChild??null,p=l.create(u,i,f,o);return this.insertImpl(p.hostView,a,$S(this._hostTNode,d)),p}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,n){let i=t._lView;if(RP(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Wt],u=new eD(l,l[ui],l[Wt]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return JL(s,i,o,n),t.attachToViewContainerRef(),XE(yv(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=KS(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),n=Lv(this._lContainer,e);n&&(If(yv(this._lContainer),e),px(n[Ye],n))}detach(t){let e=this._adjustIndex(t,-1),n=Lv(this._lContainer,e);return n&&If(yv(this._lContainer),e)!=null?new Ys(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function KS(r){return r[Rf]}function yv(r){return r[Rf]||(r[Rf]=[])}function tD(r,t){let e,n=t[r.index];return si(n)?e=n:(e=kx(n,t,null,r),t[r.index]=e,np(t,e)),rk(e,t,r,n),new eD(e,r,t)}function nk(r,t){let e=r[en],n=e.createComment(""),i=Br(t,r),o=Gm(e,i);return Mf(e,o,n,XM(e,i),!1),n}var rk=sk,ik=(r,t,e)=>!1;function ok(r,t,e){return ik(r,t,e)}function sk(r,t,e,n){if(r[js])return;let i;e.type&8?i=ki(n):i=nk(t,e),r[js]=i}function ak(r,t,e,n,i,o,s,a,l){let u=t.consts,c=tp(t,r,4,s||null,Af(u,a));Px(t,e,c,Af(u,l)),Rm(t,c);let d=c.tView=zm(2,c,n,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}function Jn(r,t,e,n,i,o,s,a){let l=ht(),u=Hn(),c=r+Uo,d=u.firstCreatePass?ak(c,u,l,t,e,n,i,o,s):u.data[c];Fu(d,!1);let f=lk(u,l,d,r);Dm()&&Vm(u,l,f,d),$s(f,l);let p=kx(f,l,f,d);return l[c]=p,np(l,p),ok(p,d,l),ym(d)&&Ox(u,l,d),s!=null&&bx(l,d,a),Jn}var lk=uk;function uk(r,t,e,n){return Tm(!0),t[en].createComment("")}function ck(r,t,e,n,i,o){let s=t.consts,a=Af(s,i),l=tp(t,r,2,n,a);return Px(t,e,l,Af(s,o)),l.attrs!==null&&em(l,l.attrs,!1),l.mergedAttrs!==null&&em(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function Te(r,t,e,n){let i=ht(),o=Hn(),s=Uo+r,a=i[en],l=o.firstCreatePass?ck(s,o,i,t,e,n):o.data[s],u=dk(o,i,l,a,t,r);i[s]=u;let c=ym(l);return Fu(l,!0),mx(a,u,l),(l.flags&32)!==32&&Dm()&&Vm(o,i,u,l),FP()===0&&$s(u,i),IP(),c&&(Ox(o,i,l),Ax(o,l,i)),n!==null&&bx(i,l),Te}function ve(){let r=Zn();bE()?GP():(r=r.parent,Fu(r,!1));let t=r;NP(t)&&LP(),PP();let e=Hn();return e.firstCreatePass&&(Rm(e,r),yE(r)&&e.queries.elementEnd(r)),t.classesWithoutHost!=null&&ZP(t)&&US(e,t,ht(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&JP(t)&&US(e,t,ht(),t.stylesWithoutHost,!1),ve}function Ft(r,t,e,n){return Te(r,t,e,n),ve(),Ft}var dk=(r,t,e,n,i,o)=>(Tm(!0),dx(n,i,YP()));function na(){return ht()}var Bf="en-US";var fk=Bf;function pk(r){KI(r,"Expected localeId to be defined"),typeof r=="string"&&(fk=r.toLowerCase().replace(/_/g,"-"))}function ra(r){return!!r&&typeof r.then=="function"}function nD(r){return!!r&&typeof r.subscribe=="function"}function Ot(r,t,e,n){let i=ht(),o=Hn(),s=Zn();return gk(o,i,i[en],s,r,t,n),Ot}function hk(r,t,e,n){let i=r.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===n){let a=t[Eu],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function gk(r,t,e,n,i,o,s){let a=ym(n),u=r.firstCreatePass&&Hx(r),c=t[Hr],d=Vx(t),f=!0;if(n.type&3||s){let g=Br(n,t),v=s?s(g):g,m=d.length,C=s?x=>s(ki(x[n.index])):n.index,y=null;if(!s&&a&&(y=hk(r,t,i,n.index)),y!==null){let x=y.__ngLastListenerFn__||y;x.__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,f=!1}else{o=qS(n,t,c,o,!1);let x=e.listen(v,i,o);d.push(o,x),u&&u.push(i,C,m,m+1)}}else o=qS(n,t,c,o,!1);let p=n.outputs,h;if(f&&p!==null&&(h=p[i])){let g=h.length;if(g)for(let v=0;v<g;v+=2){let m=h[v],C=h[v+1],P=t[m][C].subscribe(o),R=d.length;d.push(o,P),u&&u.push(i,n.index,R,-(R+1))}}}function YS(r,t,e,n){try{return Ii(6,t,e),e(n)!==!1}catch(i){return Bx(r,i),!1}finally{Ii(7,t,e)}}function qS(r,t,e,n,i){return function o(s){if(s===Function)return n;let a=r.componentOffset>-1?$o(r.index,t):t;Km(a);let l=YS(t,e,n,s),u=o.__ngNextListenerFn__;for(;u;)l=YS(t,e,u,s)&&l,u=u.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function Wi(r=1){return KP(r)}function op(r,t,e){return rD(r,"",t,"",e),op}function rD(r,t,e,n,i){let o=ht(),s=Jx(o,t,e,n);if(s!==ji){let a=Hn(),l=xm();Ix(a,l,o,r,s,o[en],i,!1)}return rD}function je(r,t=""){let e=ht(),n=Hn(),i=r+Uo,o=n.firstCreatePass?tp(n,i,1,t,null):n.data[i],s=vk(n,e,o,t,r);e[i]=s,Dm()&&Vm(n,e,s,o),Fu(o,!1)}var vk=(r,t,e,n,i)=>(Tm(!0),kM(t[en],n));function Jm(r){return gl("",r,""),Jm}function gl(r,t,e){let n=ht(),i=Jx(n,r,t,e);return i!==ji&&jx(n,ea(),i),gl}function e0(r,t,e,n,i,o,s){let a=ht(),l=ML(a,r,t,e,n,i,o,s);return l!==ji&&jx(a,ea(),l),e0}function mk(r,t,e){let n=Hn();if(n.firstCreatePass){let i=Wo(r);om(e,n.data,n.blueprint,i,!0),om(t,n.data,n.blueprint,i,!1)}}function om(r,t,e,n,i){if(r=Vn(r),Array.isArray(r))for(let o=0;o<r.length;o++)om(r[o],t,e,n,i);else{let o=Hn(),s=ht(),a=Zn(),l=ll(r)?r:Vn(r.provide),u=nx(r),c=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(ll(r)||!r.multi){let p=new Ws(u,i,ye),h=wv(l,t,i?c:c+f,d);h===-1?(bv(Ff(a,s),o,l),Cv(o,r,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(p),s.push(p)):(e[h]=p,s[h]=p)}else{let p=wv(l,t,c+f,d),h=wv(l,t,c,c+f),g=p>=0&&e[p],v=h>=0&&e[h];if(i&&!v||!i&&!g){bv(Ff(a,s),o,l);let m=wk(i?Ck:yk,e.length,i,n,u);!i&&v&&(e[h].providerFactory=m),Cv(o,r,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(m),s.push(m)}else{let m=iD(e[i?h:p],u,!i&&n);Cv(o,r,p>-1?p:h,m)}!i&&n&&v&&e[h].componentProviders++}}}function Cv(r,t,e,n){let i=ll(t),o=_M(t);if(i||o){let l=(o?Vn(t.useClass):t).prototype.ngOnDestroy;if(l){let u=r.destroyHooks||(r.destroyHooks=[]);if(!i&&t.multi){let c=u.indexOf(e);c===-1?u.push(e,[n,l]):u[c+1].push(n,l)}else u.push(e,l)}}}function iD(r,t,e){return e&&r.componentProviders++,r.multi.push(t)-1}function wv(r,t,e,n){for(let i=e;i<n;i++)if(t[i]===r)return i;return-1}function yk(r,t,e,n){return sm(this.multi,[])}function Ck(r,t,e,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=zs(e,e[Ye],this.providerFactory.index,n);o=a.slice(0,s),sm(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],sm(i,o);return o}function sm(r,t){for(let e=0;e<r.length;e++){let n=r[e];t.push(n())}return t}function wk(r,t,e,n,i){let o=new Ws(r,e,ye);return o.multi=[],o.index=t,o.componentProviders=0,iD(o,i,n&&!e),o}function zi(r,t=[]){return e=>{e.providersResolver=(n,i)=>mk(n,i?i(r):r,t)}}var zo=class{},Au=class{};var am=class extends zo{constructor(t,e,n){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vf(this);let i=pE(t);this._bootstrapComponents=ox(i.bootstrap),this._r3Injector=rx(t,e,[{provide:zo,useValue:this},{provide:fl,useValue:this.componentFactoryResolver},...n],xn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},lm=class extends Au{constructor(t){super(),this.moduleType=t}create(t){return new am(this.moduleType,t,[])}};var jf=class extends zo{constructor(t){super(),this.componentFactoryResolver=new Vf(this),this.instance=null;let e=new Du([...t.providers,{provide:zo,useValue:this},{provide:fl,useValue:this.componentFactoryResolver}],t.parent||Im(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function sp(r,t,e=null){return new jf({providers:r,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var _k=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=JE(!1,n.type),o=i.length>0?sp([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=Re({token:t,providedIn:"environment",factory:()=>new t(Ne(yr))});let r=t;return r})();function Dn(r){Ym("NgStandalone"),r.getStandaloneInjector=t=>t.get(_k).getOrCreateStandaloneInjector(r)}function oD(r,t,e,n,i,o){return Ek(ht(),VP(),r,t,e,n,i,o)}function Sk(r,t){let e=r[t];return e===ji?void 0:e}function Ek(r,t,e,n,i,o,s,a){let l=t+e;return Zx(r,l,i,o,s)?IL(r,l+3,a?n.call(a,i,o,s):n(i,o,s)):Sk(r,l+3)}function xk(){return this._results[Symbol.iterator]()}var um=class r{get changes(){return this._changes||(this._changes=new re)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let e=r.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=xk)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let n=fM(t);(this._changesDetected=!dM(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},Qs=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Rk;let r=t;return r})(),Dk=Qs,Tk=class extends Dk{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,n){let i=ZL(this._declarationLView,this._declarationTContainer,t,{injector:e,dehydratedView:n});return new Ys(i)}};function Rk(){return t0(Zn(),ht())}function t0(r,t){return r.type&4?new Tk(t,r,pl(r,t)):null}var cm=class r{constructor(t){this.queryList=t,this.matches=null}clone(){return new r(this.queryList)}setDirty(){this.queryList.setDirty()}},dm=class r{constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let n=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<n;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new r(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)dD(t,e).matches!==null&&this.queries[e].setDirty()}},Uf=class{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}},fm=class r{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){let i=e!==null?e.length:0,o=this.getByIndex(n).embeddedTView(t,i);o&&(o.indexInDeclarationView=n,e!==null?e.push(o):e=[o])}return e!==null?new r(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},pm=class r{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new r(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==e;)n=n.parent;return e===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(t,e,Ak(e,o)),this.matchTNodeWithReadOption(t,e,_f(e,t,o,!1,!1))}else n===Qs?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,_f(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===mn||i===Ui||i===Qs&&e.type&4)this.addMatch(e.index,-2);else{let o=_f(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function Ak(r,t){let e=r.localNames;if(e!==null){for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1]}return null}function Ok(r,t){return r.type&11?pl(r,t):r.type&4?t0(r,t):null}function bk(r,t,e,n){return e===-1?Ok(t,r):e===-2?Fk(r,t,n):zs(r,r[Ye],e,t)}function Fk(r,t,e){if(e===mn)return pl(t,r);if(e===Qs)return t0(t,r);if(e===Ui)return tD(t,r)}function sD(r,t,e,n){let i=t[Mi].queries[n];if(i.matches===null){let o=r.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let c=o[u];a.push(bk(t,c,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function hm(r,t,e,n){let i=r.queries.getByIndex(e),o=i.matches;if(o!==null){let s=sD(r,t,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let u=o[a+1],c=t[-l];for(let d=mr;d<c.length;d++){let f=c[d];f[bu]===f[Wt]&&hm(f[Ye],f,u,n)}if(c[ol]!==null){let d=c[ol];for(let f=0;f<d.length;f++){let p=d[f];hm(p[Ye],p,u,n)}}}}}return n}function ap(r){let t=ht(),e=Hn(),n=IE();_m(n+1);let i=dD(e,n);if(r.dirty&&TP(t)===((i.metadata.flags&2)===2)){if(i.matches===null)r.reset([]);else{let o=i.crossesNgTemplate?hm(e,t,n,[]):sD(e,t,i,n);r.reset(o,mN),r.notifyOnChanges()}return!0}return!1}function aD(r,t,e){let n=Hn();n.firstCreatePass&&(cD(n,new Uf(r,t,e),-1),(t&2)===2&&(n.staticViewQueries=!0)),uD(n,ht(),t)}function lD(r,t,e,n){let i=Hn();if(i.firstCreatePass){let o=Zn();cD(i,new Uf(t,e,n),o.index),Pk(i,r),(e&2)===2&&(i.staticContentQueries=!0)}uD(i,ht(),e)}function lp(){return Ik(ht(),IE())}function Ik(r,t){return r[Mi].queries[t].queryList}function uD(r,t,e){let n=new um((e&4)===4);LN(r,t,n,n.destroy),t[Mi]===null&&(t[Mi]=new dm),t[Mi].queries.push(new cm(n))}function cD(r,t,e){r.queries===null&&(r.queries=new fm),r.queries.track(new pm(t,e))}function Pk(r,t){let e=r.contentQueries||(r.contentQueries=[]),n=e.length?e[e.length-1]:-1;t!==n&&e.push(r.queries.length-1,t)}function dD(r,t){return r.queries.getByIndex(t)}var up=new Ge("Application Initializer"),fD=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=Ee(up,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(ra(s))n.push(s);else if(nD(s)){let a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),cp=(()=>{let t=class t{log(n){console.log(n)}warn(n){console.warn(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"platform"});let r=t;return r})();function Mk(){return typeof $localize<"u"&&$localize.locale||Bf}var n0=new Ge("LocaleId",{providedIn:"root",factory:()=>Ee(n0,et.Optional|et.SkipSelf)||Mk()});var r0=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new vn(!1)}add(){this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),gm=class{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},dp=(()=>{let t=class t{compileModuleSync(n){return new lm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),o=pE(n),s=ox(o.declarations).reduce((a,l)=>{let u=jo(l);return u&&a.push(new ul(u)),a},[]);return new gm(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var pD=new Ge("");var xf=null;var hD=new Ge("PlatformDestroyListeners"),fp=new Ge("appBootstrapListener");function Nk(){H_(()=>{throw new Ae(600,!1)})}function Lk(r){return r.isBoundToModule}function kk(r=[]){if(xf)return xf;let t=Vk(r);return xf=t,Nk(),Gk(t),t}function Gk(r){r.get(Mm,null)?.forEach(e=>e())}function gD(r){try{let{rootComponent:t,appProviders:e,platformProviders:n}=r,i=kk(n),o=[zk(),...e||[]],a=new jf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Et);return l.run(()=>{a.resolveInjectorInitializers();let u=a.get(Gi,null),c;l.runOutsideAngular(()=>{c=l.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),f=i.get(hD);return f.add(d),a.onDestroy(()=>{c.unsubscribe(),f.delete(d)}),Bk(u,l,()=>{let p=a.get(fD);return p.runInitializers(),p.donePromise.then(()=>{let h=a.get(n0,Bf);pk(h||Bf);let g=a.get(ku);return t!==void 0&&g.bootstrap(t),g})})})}catch(t){return Promise.reject(t)}}function Vk(r=[],t){return Bi.create({name:t,providers:[{provide:Qf,useValue:"platform"},{provide:hD,useValue:new Set([()=>xf=null])},...r]})}function Hk(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}function Bk(r,t,e){try{let n=e();return ra(n)?n.catch(i=>{throw t.runOutsideAngular(()=>r.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>r.handleError(n)),n}}var ku=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ee(vD),this.zoneIsStable=Ee(qx),this.componentTypes=[],this.components=[],this.isStable=Ee(r0).hasPendingTasks.pipe(Qn(n=>n?be(!1):this.zoneIsStable),tv(),pf()),this._injector=Ee(yr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof Lf;if(!this._injector.get(fD).done){let h="Cannot bootstrap as there are still asynchronous initializers running."+(!o&&fE(n)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new Ae(405,!1)}let a;o?a=n:a=this._injector.get(fl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=Lk(a)?void 0:this._injector.get(zo),u=i||a.selector,c=a.create(Bi.NULL,[],u,l),d=c.location.nativeElement,f=c.injector.get(pD,null);return f?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),_v(this.components,c),f?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;_v(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(fp,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_v(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ae(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function _v(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}var vD=new Ge("",{providedIn:"root",factory:()=>Ee(Gi).handleError.bind(void 0)});function jk(){let r=Ee(Et),t=Ee(Gi);return e=>r.runOutsideAngular(()=>t.handleError(e))}var Uk=(()=>{let t=class t{constructor(){this.zone=Ee(Et),this.applicationRef=Ee(ku)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Wk(r){return[{provide:Et,useFactory:r},{provide:Mu,multi:!0,useFactory:()=>{let t=Ee(Uk,{optional:!0});return()=>t.initialize()}},{provide:vD,useFactory:jk},{provide:qx,useFactory:Xx}]}function zk(r){let t=Wk(()=>new Et(Hk(r)));return Xf([[],t])}function vl(r){return typeof r=="boolean"?r:r!=null&&r!=="false"}function mD(r){let t=jo(r);if(!t)return null;let e=new ul(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var o0=null;function yo(){return o0}function ED(r){o0||(o0=r)}var pp=class{},Bn=new Ge("DocumentToken"),u0=(()=>{let t=class t{historyGo(n){throw new Error("Not implemented")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:()=>(()=>Ee($k))(),providedIn:"platform"});let r=t;return r})(),xD=new Ge("Location Initialized"),$k=(()=>{let t=class t extends u0{constructor(){super(),this._doc=Ee(Bn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yo().getBaseHref(this._doc)}onPopState(n){let i=yo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=yo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:()=>(()=>new t)(),providedIn:"platform"});let r=t;return r})();function c0(r,t){if(r.length==0)return t;if(t.length==0)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?r+t.substring(1):e==1?r+t:r+"/"+t}function yD(r){let t=r.match(/#|\?|$/),e=t&&t.index||r.length,n=e-(r[e-1]==="/"?1:0);return r.slice(0,n)+r.slice(e)}function mo(r){return r&&r[0]!=="?"?"?"+r:r}var Co=(()=>{let t=class t{historyGo(n){throw new Error("Not implemented")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:()=>(()=>Ee(d0))(),providedIn:"root"});let r=t;return r})(),DD=new Ge("appBaseHref"),d0=(()=>{let t=class t extends Co{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ee(Bn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return c0(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+mo(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+mo(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+mo(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(i){return new(i||t)(Ne(u0),Ne(DD,8))},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),TD=(()=>{let t=class t extends Co{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=c0(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+mo(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+mo(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(i){return new(i||t)(Ne(u0),Ne(DD,8))},t.\u0275prov=Re({token:t,factory:t.\u0275fac});let r=t;return r})(),ml=(()=>{let t=class t{constructor(n){this._subject=new re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=qk(yD(CD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+mo(i))}normalize(n){return t.stripTrailingSlash(Yk(this._basePath,CD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mo(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mo(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};t.normalizeQueryParams=mo,t.joinWithSlash=c0,t.stripTrailingSlash=yD,t.\u0275fac=function(i){return new(i||t)(Ne(Co))},t.\u0275prov=Re({token:t,factory:()=>Kk(),providedIn:"root"});let r=t;return r})();function Kk(){return new ml(Ne(Co))}function Yk(r,t){if(!r||!t.startsWith(r))return t;let e=t.substring(r.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function CD(r){return r.replace(/\/index.html$/,"")}function qk(r){if(new RegExp("^(https?:)?//").test(r)){let[,e]=r.split(/\/\/[^\/]+/);return e}return r}function RD(r,t){t=encodeURIComponent(t);for(let e of r.split(";")){let n=e.indexOf("="),[i,o]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var i0=/\s+/,wD=[],AD=(()=>{let t=class t{constructor(n,i,o,s){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=wD,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(i0):wD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(i0):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(i0).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};t.\u0275fac=function(i){return new(i||t)(ye(Jf),ye(Wm),ye(mn),ye(di))},t.\u0275dir=bt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});let r=t;return r})();var s0=class{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yl=(()=>{let t=class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(!1)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new s0(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let l=i.get(s);i.move(l,a),_D(l,o)}});for(let o=0,s=i.length;o<s;o++){let l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);_D(s,o)})}static ngTemplateContextGuard(n,i){return!0}};t.\u0275fac=function(i){return new(i||t)(ye(Ui),ye(Qs),ye(Jf))},t.\u0275dir=bt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let r=t;return r})();function _D(r,t){r.context.$implicit=t.item}var Yo=(()=>{let t=class t{constructor(n,i){this._viewContainer=n,this._context=new a0,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){SD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){SD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};t.\u0275fac=function(i){return new(i||t)(ye(Ui),ye(Qs))},t.\u0275dir=bt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let r=t;return r})(),a0=class{constructor(){this.$implicit=null,this.ngIf=null}};function SD(r,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${r} must be a TemplateRef, but received '${xn(t)}'.`)}var fi=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=li({type:t}),t.\u0275inj=ai({});let r=t;return r})(),OD="browser",Xk="server";function f0(r){return r===Xk}var bD=(()=>{let t=class t{};t.\u0275prov=Re({token:t,providedIn:"root",factory:()=>new l0(Ne(Bn),window)});let r=t;return r})(),l0=class{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;let e=Qk(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){let e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function Qk(r,t){let e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if(typeof r.createTreeWalker=="function"&&r.body&&typeof r.body.attachShadow=="function"){let n=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=n.nextNode()}}return null}var hp=class{};var g0=class extends pp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},v0=class r extends g0{static makeCurrent(){ED(new r)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Zk();return e==null?null:Jk(e)}resetBaseElement(){Vu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return RD(document.cookie,t)}},Vu=null;function Zk(){return Vu=Vu||document.querySelector("base"),Vu?Vu.getAttribute("href"):null}function Jk(r){return new URL(r,"http://a").pathname}var e2=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac});let r=t;return r})(),m0=new Ge("EventManagerPlugins"),MD=(()=>{let t=class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new Ae(5101,!1);return this._eventNameToPlugin.set(n,i),i}};t.\u0275fac=function(i){return new(i||t)(Ne(m0),Ne(Et))},t.\u0275prov=Re({token:t,factory:t.\u0275fac});let r=t;return r})(),gp=class{constructor(t){this._doc=t}},p0="ng-app-id",ND=(()=>{let t=class t{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=f0(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${p0}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(p0),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(p0,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(i){return new(i||t)(Ne(Bn),Ne(Pm),Ne(Nm,8),Ne(ta))},t.\u0275prov=Re({token:t,factory:t.\u0275fac});let r=t;return r})(),h0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},C0=/%COMP%/g,LD="%COMP%",t2=`_nghost-${LD}`,n2=`_ngcontent-${LD}`,r2=!0,i2=new Ge("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>r2});function o2(r){return n2.replace(C0,r)}function s2(r){return t2.replace(C0,r)}function kD(r,t){return t.map(e=>e.replace(C0,r))}var FD=(()=>{let t=class t{constructor(n,i,o,s,a,l,u,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=f0(l),this.defaultRenderer=new Hu(n,a,u,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ni.ShadowDom&&(i=St(De({},i),{encapsulation:Ni.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof vp?o.applyToHost(n):o instanceof Bu&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ni.Emulated:s=new vp(u,c,i,this.appId,d,a,l,f);break;case Ni.ShadowDom:return new y0(u,c,n,i,a,l,this.nonce,f);default:s=new Bu(u,c,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(i){return new(i||t)(Ne(MD),Ne(ND),Ne(Pm),Ne(i2),Ne(Bn),Ne(ta),Ne(Et),Ne(Nm))},t.\u0275prov=Re({token:t,factory:t.\u0275fac});let r=t;return r})(),Hu=class{constructor(t,e,n,i){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(h0[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(ID(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(ID(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new Ae(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;let o=h0[i];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let i=h0[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(go.DashCase|go.Important)?t.style.setProperty(e,n,i&go.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&go.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n){if(typeof t=="string"&&(t=yo().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function ID(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var y0=class extends Hu{constructor(t,e,n,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=kD(i.id,i.styles);for(let c of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bu=class extends Hu{constructor(t,e,n,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=l?kD(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},vp=class extends Bu{constructor(t,e,n,i,o,s,a,l){let u=i+"-"+n.id;super(t,e,n,o,s,a,l,u),this.contentAttr=o2(u),this.hostAttr=s2(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},a2=(()=>{let t=class t extends gp{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};t.\u0275fac=function(i){return new(i||t)(Ne(Bn))},t.\u0275prov=Re({token:t,factory:t.\u0275fac});let r=t;return r})(),PD=["alt","control","meta","shift"],l2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u2={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},c2=(()=>{let t=class t extends gp{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,o){let s=t.parseEventName(i),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yo().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),PD.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),a+=c+".")}),a+=s,i.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(n,i){let o=l2[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),PD.forEach(a=>{if(a!==o){let l=u2[a];l(n)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{t.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(i){return new(i||t)(Ne(Bn))},t.\u0275prov=Re({token:t,factory:t.\u0275fac});let r=t;return r})();function GD(r,t){return gD(De({rootComponent:r},d2(t)))}function d2(r){return{appProviders:[...v2,...r?.providers??[]],platformProviders:g2}}function f2(){v0.makeCurrent()}function p2(){return new Gi}function h2(){return ix(document),document}var g2=[{provide:ta,useValue:OD},{provide:Mm,useValue:f2,multi:!0},{provide:Bn,useFactory:h2,deps:[]}];var v2=[{provide:Qf,useValue:"root"},{provide:Gi,useFactory:p2,deps:[]},{provide:m0,useClass:a2,multi:!0,deps:[Bn,Et,ta]},{provide:m0,useClass:c2,multi:!0,deps:[Bn]},FD,ND,MD,{provide:Tu,useExisting:FD},{provide:hp,useClass:e2,deps:[]},[]];function m2(){return new w0(Ne(Bn))}var w0=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(i){return new(i||t)(Ne(Bn))},t.\u0275prov=Re({token:t,factory:function(i){let o=null;return i?o=new i:o=m2(),o},providedIn:"root"});let r=t;return r})();var Ke="primary",rc=Symbol("RouteTitle"),D0=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function El(r){return new D0(r)}function C2(r,t,e){let n=e.path.split("/");if(n.length>r.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<r.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=r[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function w2(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!$i(r[e],t[e]))return!1;return!0}function $i(r,t){let e=r?T0(r):void 0,n=t?T0(t):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!YD(r[i],t[i]))return!1;return!0}function T0(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function YD(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;let e=[...r].sort(),n=[...t].sort();return e.every((i,o)=>n[o]===i)}else return r===t}function qD(r){return r.length>0?r[r.length-1]:null}function Jo(r){return Qg(r)?r:ra(r)?Dt(Promise.resolve(r)):be(r)}var _2={exact:QD,subset:ZD},XD={exact:S2,subset:E2,ignored:()=>!0};function VD(r,t,e){return _2[e.paths](r.root,t.root,e.matrixParams)&&XD[e.queryParams](r.queryParams,t.queryParams)&&!(e.fragment==="exact"&&r.fragment!==t.fragment)}function S2(r,t){return $i(r,t)}function QD(r,t,e){if(!oa(r.segments,t.segments)||!Cp(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!r.children[n]||!QD(r.children[n],t.children[n],e))return!1;return!0}function E2(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>YD(r[e],t[e]))}function ZD(r,t,e){return JD(r,t,t.segments,e)}function JD(r,t,e,n){if(r.segments.length>e.length){let i=r.segments.slice(0,e.length);return!(!oa(i,e)||t.hasChildren()||!Cp(i,e,n))}else if(r.segments.length===e.length){if(!oa(r.segments,e)||!Cp(r.segments,e,n))return!1;for(let i in t.children)if(!r.children[i]||!ZD(r.children[i],t.children[i],n))return!1;return!0}else{let i=e.slice(0,r.segments.length),o=e.slice(r.segments.length);return!oa(r.segments,i)||!Cp(r.segments,i,n)||!r.children[Ke]?!1:JD(r.children[Ke],t,o,n)}}function Cp(r,t,e){return t.every((n,i)=>XD[e](r[i].parameters,n.parameters))}var qo=class{constructor(t=new gt([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=El(this.queryParams)),this._queryParamMap}toString(){return T2.serialize(this)}},gt=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wp(this)}},ia=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=El(this.parameters)),this._parameterMap}toString(){return tT(this)}};function x2(r,t){return oa(r,t)&&r.every((e,n)=>$i(e.parameters,t[n].parameters))}function oa(r,t){return r.length!==t.length?!1:r.every((e,n)=>e.path===t[n].path)}function D2(r,t){let e=[];return Object.entries(r.children).forEach(([n,i])=>{n===Ke&&(e=e.concat(t(i,n)))}),Object.entries(r.children).forEach(([n,i])=>{n!==Ke&&(e=e.concat(t(i,n)))}),e}var ic=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:()=>(()=>new Yu)(),providedIn:"root"});let r=t;return r})(),Yu=class{parse(t){let e=new A0(t);return new qo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${ju(t.root,!0)}`,n=O2(t.queryParams),i=typeof t.fragment=="string"?`#${R2(t.fragment)}`:"";return`${e}${n}${i}`}},T2=new Yu;function wp(r){return r.segments.map(t=>tT(t)).join("/")}function ju(r,t){if(!r.hasChildren())return wp(r);if(t){let e=r.children[Ke]?ju(r.children[Ke],!1):"",n=[];return Object.entries(r.children).forEach(([i,o])=>{i!==Ke&&n.push(`${i}:${ju(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=D2(r,(n,i)=>i===Ke?[ju(r.children[Ke],!1)]:[`${i}:${ju(n,!1)}`]);return Object.keys(r.children).length===1&&r.children[Ke]!=null?`${wp(r)}/${e[0]}`:`${wp(r)}/(${e.join("//")})`}}function eT(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mp(r){return eT(r).replace(/%3B/gi,";")}function R2(r){return encodeURI(r)}function R0(r){return eT(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _p(r){return decodeURIComponent(r)}function HD(r){return _p(r.replace(/\+/g,"%20"))}function tT(r){return`${R0(r.path)}${A2(r.parameters)}`}function A2(r){return Object.keys(r).map(t=>`;${R0(t)}=${R0(r[t])}`).join("")}function O2(r){let t=Object.keys(r).map(e=>{let n=r[e];return Array.isArray(n)?n.map(i=>`${mp(e)}=${mp(i)}`).join("&"):`${mp(e)}=${mp(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}var b2=/^[^\/()?;#]+/;function _0(r){let t=r.match(b2);return t?t[0]:""}var F2=/^[^\/()?;=#]+/;function I2(r){let t=r.match(F2);return t?t[0]:""}var P2=/^[^=?&#]+/;function M2(r){let t=r.match(P2);return t?t[0]:""}var N2=/^[^&#]+/;function L2(r){let t=r.match(N2);return t?t[0]:""}var A0=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Ke]=new gt(t,e)),n}parseSegment(){let t=_0(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ae(4009,!1);return this.capture(t),new ia(_p(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=I2(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let i=_0(this.remaining);i&&(n=i,this.capture(n))}t[_p(e)]=_p(n)}parseQueryParam(t){let e=M2(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=L2(this.remaining);s&&(n=s,this.capture(n))}let i=HD(e),o=HD(n);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=_0(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ae(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ke);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[Ke]:new gt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ae(4011,!1)}};function nT(r){return r.segments.length>0?new gt([],{[Ke]:r}):r}function rT(r){let t={};for(let n of Object.keys(r.children)){let i=r.children[n],o=rT(i);if(n===Ke&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new gt(r.segments,t);return k2(e)}function k2(r){if(r.numberOfChildren===1&&r.children[Ke]){let t=r.children[Ke];return new gt(r.segments.concat(t.segments),t.children)}return r}function xl(r){return r instanceof qo}function G2(r,t,e=null,n=null){let i=iT(r);return oT(i,t,e,n)}function iT(r){let t;function e(o){let s={};for(let l of o.children){let u=e(l);s[l.outlet]=u}let a=new gt(o.url,s);return o===r&&(t=a),a}let n=e(r.root),i=nT(n);return t??i}function oT(r,t,e,n){let i=r;for(;i.parent;)i=i.parent;if(t.length===0)return S0(i,i,i,e,n);let o=V2(t);if(o.toRoot())return S0(i,i,new gt([],{}),e,n);let s=H2(o,i,r),a=s.processChildren?zu(s.segmentGroup,s.index,o.commands):aT(s.segmentGroup,s.index,o.commands);return S0(i,s.segmentGroup,a,e,n)}function Sp(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function qu(r){return typeof r=="object"&&r!=null&&r.outlets}function S0(r,t,e,n,i){let o={};n&&Object.entries(n).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let s;r===t?s=e:s=sT(r,t,e);let a=nT(rT(s));return new qo(a,o,i)}function sT(r,t,e){let n={};return Object.entries(r.children).forEach(([i,o])=>{o===t?n[i]=e:n[i]=sT(o,t,e)}),new gt(r.segments,n)}var Ep=class{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Sp(n[0]))throw new Ae(4003,!1);let i=n.find(qu);if(i&&i!==qD(n))throw new Ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function V2(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new Ep(!0,0,r);let t=0,e=!1,n=r.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ep(e,t,n)}var _l=class{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function H2(r,t,e){if(r.isAbsolute)return new _l(t,!0,0);if(!e)return new _l(t,!1,NaN);if(e.parent===null)return new _l(e,!0,0);let n=Sp(r.commands[0])?0:1,i=e.segments.length-1+n;return B2(e,i,r.numberOfDoubleDots)}function B2(r,t,e){let n=r,i=t,o=e;for(;o>i;){if(o-=i,n=n.parent,!n)throw new Ae(4005,!1);i=n.segments.length}return new _l(n,!1,i-o)}function j2(r){return qu(r[0])?r[0].outlets:{[Ke]:r}}function aT(r,t,e){if(r||(r=new gt([],{})),r.segments.length===0&&r.hasChildren())return zu(r,t,e);let n=U2(r,t,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){let o=new gt(r.segments.slice(0,n.pathIndex),{});return o.children[Ke]=new gt(r.segments.slice(n.pathIndex),r.children),zu(o,0,i)}else return n.match&&i.length===0?new gt(r.segments,{}):n.match&&!r.hasChildren()?O0(r,t,e):n.match?zu(r,0,i):O0(r,t,e)}function zu(r,t,e){if(e.length===0)return new gt(r.segments,{});{let n=j2(e),i={};if(Object.keys(n).some(o=>o!==Ke)&&r.children[Ke]&&r.numberOfChildren===1&&r.children[Ke].segments.length===0){let o=zu(r.children[Ke],t,e);return new gt(r.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=aT(r.children[o],t,s))}),Object.entries(r.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new gt(r.segments,i)}}function U2(r,t,e){let n=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=e.length)return o;let s=r.segments[i],a=e[n];if(qu(a))break;let l=`${a}`,u=n<e.length-1?e[n+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!jD(l,u,s))return o;n+=2}else{if(!jD(l,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function O0(r,t,e){let n=r.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(qu(o)){let l=W2(o.outlets);return new gt(n,l)}if(i===0&&Sp(e[0])){let l=r.segments[t];n.push(new ia(l.path,BD(e[0]))),i++;continue}let s=qu(o)?o.outlets[Ke]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Sp(a)?(n.push(new ia(s,BD(a))),i+=2):(n.push(new ia(s,{})),i++)}return new gt(n,{})}function W2(r){let t={};return Object.entries(r).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=O0(new gt([],{}),0,n))}),t}function BD(r){let t={};return Object.entries(r).forEach(([e,n])=>t[e]=`${n}`),t}function jD(r,t,e){return r==e.path&&$i(t,e.parameters)}var $u="imperative",jr=class{constructor(t,e){this.id=t,this.url=e}},Dl=class extends jr{constructor(t,e,n="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pi=class extends jr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xo=class extends jr{constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qo=class extends jr{constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i,this.type=16}},Xu=class extends jr{constructor(t,e,n,i){super(t,e),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xp=class extends jr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b0=class extends jr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},F0=class extends jr{constructor(t,e,n,i,o){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},I0=class extends jr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},P0=class extends jr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},M0=class{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},N0=class{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},L0=class{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},k0=class{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},G0=class{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},V0=class{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dp=class{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Qu=class{},Zu=class{constructor(t){this.url=t}};var H0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oc,this.attachRef=null}},oc=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new H0,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Tp=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=B0(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=B0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=j0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return j0(t,this._root).map(e=>e.value)}};function B0(r,t){if(r===t.value)return t;for(let e of t.children){let n=B0(r,e);if(n)return n}return null}function j0(r,t){if(r===t.value)return[t];for(let e of t.children){let n=j0(r,e);if(n.length)return n.unshift(t),n}return[]}var wr=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function wl(r){let t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}var Rp=class extends Tp{constructor(t,e){super(t),this.snapshot=e,Z0(this,t)}toString(){return this.snapshot.toString()}};function lT(r,t){let e=z2(r,t),n=new vn([new ia("",{})]),i=new vn({}),o=new vn({}),s=new vn({}),a=new vn(""),l=new Zo(n,i,s,a,o,Ke,t,e.root);return l.snapshot=e.root,new Rp(new wr(l,[]),e)}function z2(r,t){let e={},n={},i={},o="",s=new Ju([],e,i,o,n,Ke,t,null,{});return new Ap("",new wr(s,[]))}var Zo=class{constructor(t,e,n,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(lt(u=>u[rc]))??be(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(lt(t=>El(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(lt(t=>El(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Q0(r,t,e="emptyOnly"){let n,{routeConfig:i}=r;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:De(De({},t.params),r.params),data:De(De({},t.data),r.data),resolve:De(De(De(De({},r.data),t.data),i?.data),r._resolvedData)}:n={params:r.params,data:r.data,resolve:De(De({},r.data),r._resolvedData??{})},i&&cT(i)&&(n.resolve[rc]=i.title),n}var Ju=class{get title(){return this.data?.[rc]}constructor(t,e,n,i,o,s,a,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=El(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=El(this.queryParams)),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ap=class extends Tp{constructor(t,e){super(e),this.url=t,Z0(this,e)}toString(){return uT(this._root)}};function Z0(r,t){t.value._routerState=r,t.children.forEach(e=>Z0(r,e))}function uT(r){let t=r.children.length>0?` { ${r.children.map(uT).join(", ")} } `:"";return`${r.value}${t}`}function E0(r){if(r.snapshot){let t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,$i(t.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),$i(t.params,e.params)||r.paramsSubject.next(e.params),w2(t.url,e.url)||r.urlSubject.next(e.url),$i(t.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function U0(r,t){let e=$i(r.params,t.params)&&x2(r.url,t.url),n=!r.parent!=!t.parent;return e&&!n&&(!r.parent||U0(r.parent,t.parent))}function cT(r){return typeof r.title=="string"||r.title===null}var J0=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ke,this.activateEvents=new re,this.deactivateEvents=new re,this.attachEvents=new re,this.detachEvents=new re,this.parentContexts=Ee(oc),this.location=Ee(Ui),this.changeDetector=Ee(hl),this.environmentInjector=Ee(yr),this.inputBinder=Ee(Pp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ae(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Ae(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new W0(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=bt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ci]});let r=t;return r})(),W0=class{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Zo?this.route:t===oc?this.childContexts:this.parent.get(t,e)}},Pp=new Ge(""),UD=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,o=yu([i.queryParams,i.params,i.data]).pipe(Qn(([s,a,l],u)=>(l=De(De(De({},s),a),l),u===0?be(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let a=mD(i.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac});let r=t;return r})();function $2(r,t,e){let n=ec(r,t._root,e?e._root:void 0);return new Rp(n,t)}function ec(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let i=K2(r,t,e);return new wr(n,i)}else{if(r.shouldAttach(t.value)){let o=r.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ec(r,a)),s}}let n=Y2(t.value),i=t.children.map(o=>ec(r,o));return new wr(n,i)}}function K2(r,t,e){return t.children.map(n=>{for(let i of e.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return ec(r,n,i);return ec(r,n)})}function Y2(r){return new Zo(new vn(r.url),new vn(r.params),new vn(r.queryParams),new vn(r.fragment),new vn(r.data),r.outlet,r.component,r)}var dT="ngNavigationCancelingError";function fT(r,t){let{redirectTo:e,navigationBehaviorOptions:n}=xl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=pT(!1,0,t);return i.url=e,i.navigationBehaviorOptions=n,i}function pT(r,t,e){let n=new Error("NavigationCancelingError: "+(r||""));return n[dT]=!0,n.cancellationCode=t,e&&(n.url=e),n}function q2(r){return hT(r)&&xl(r.url)}function hT(r){return r&&r[dT]}var X2=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=un({type:t,selectors:[["ng-component"]],standalone:!0,features:[Dn],decls:1,vars:0,template:function(i,o){i&1&&Ft(0,"router-outlet")},dependencies:[J0],encapsulation:2});let r=t;return r})();function Q2(r,t){return r.providers&&!r._injector&&(r._injector=sp(r.providers,t,`Route: ${r.path}`)),r._injector??t}function ey(r){let t=r.children&&r.children.map(ey),e=t?St(De({},r),{children:t}):De({},r);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ke&&(e.component=X2),e}function Ki(r){return r.outlet||Ke}function Z2(r,t){let e=r.filter(n=>Ki(n)===t);return e.push(...r.filter(n=>Ki(n)!==t)),e}function sc(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var J2=(r,t,e,n)=>lt(i=>(new z0(t,i.targetRouterState,i.currentRouterState,e,n).activate(r),i)),z0=class{constructor(t,e,n,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),E0(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let i=wl(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=wl(t);for(let s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=wl(t);for(let s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let i=wl(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new V0(o.value.snapshot))}),t.children.length&&this.forwardEvent(new k0(t.value.snapshot))}activateRoutes(t,e,n){let i=t.value,o=e?e.value:null;if(E0(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),E0(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=sc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}},Op=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Sl=class{constructor(t,e){this.component=t,this.route=e}};function eG(r,t,e){let n=r._root,i=t?t._root:null;return Uu(n,i,e,[n.value])}function tG(r){let t=r.routeConfig?r.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:r,guards:t}}function Rl(r,t){let e=Symbol(),n=t.get(r,e);return n===e?typeof r=="function"&&!JS(r)?r:t.get(r):n}function Uu(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wl(t);return r.children.forEach(s=>{nG(s,o[s.value.outlet],e,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ku(a,e.getContext(s),i)),i}function nG(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=r.value,s=t?t.value:null,a=e?e.getContext(r.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=rG(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Op(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Uu(r,t,a?a.children:null,n,i):Uu(r,t,e,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sl(a.outlet.component,s))}else s&&Ku(t,a,i),i.canActivateChecks.push(new Op(n)),o.component?Uu(r,null,a?a.children:null,n,i):Uu(r,null,e,n,i);return i}function rG(r,t,e){if(typeof e=="function")return e(r,t);switch(e){case"pathParamsChange":return!oa(r.url,t.url);case"pathParamsOrQueryParamsChange":return!oa(r.url,t.url)||!$i(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U0(r,t)||!$i(r.queryParams,t.queryParams);case"paramsChange":default:return!U0(r,t)}}function Ku(r,t,e){let n=wl(r),i=r.value;Object.entries(n).forEach(([o,s])=>{i.component?t?Ku(s,t.children.getContext(o),e):Ku(s,null,e):Ku(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Sl(t.outlet.component,i)):e.canDeactivateChecks.push(new Sl(null,i)):e.canDeactivateChecks.push(new Sl(null,i))}function ac(r){return typeof r=="function"}function iG(r){return typeof r=="boolean"}function oG(r){return r&&ac(r.canLoad)}function sG(r){return r&&ac(r.canActivate)}function aG(r){return r&&ac(r.canActivateChild)}function lG(r){return r&&ac(r.canDeactivate)}function uG(r){return r&&ac(r.canMatch)}function gT(r){return r instanceof po||r?.name==="EmptyError"}var yp=Symbol("INITIAL_VALUE");function Tl(){return Qn(r=>yu(r.map(t=>t.pipe(ho(1),ov(yp)))).pipe(lt(t=>{for(let e of t)if(e!==!0){if(e===yp)return yp;if(e===!1||e instanceof qo)return e}return!0}),kr(t=>t!==yp),ho(1)))}function cG(r,t){return Ut(e=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?be(St(De({},e),{guardsResult:!0})):dG(s,n,i,r).pipe(Ut(a=>a&&iG(a)?fG(n,o,r,t):be(a)),lt(a=>St(De({},e),{guardsResult:a})))})}function dG(r,t,e,n){return Dt(r).pipe(Ut(i=>mG(i.component,i.route,e,t,n)),Fi(i=>i!==!0,!0))}function fG(r,t,e,n){return Dt(t).pipe(ks(i=>Ya(hG(i.route.parent,n),pG(i.route,n),vG(r,i.path,e),gG(r,i.route,e))),Fi(i=>i!==!0,!0))}function pG(r,t){return r!==null&&t&&t(new G0(r)),be(!0)}function hG(r,t){return r!==null&&t&&t(new L0(r)),be(!0)}function gG(r,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return be(!0);let i=n.map(o=>df(()=>{let s=sc(t)??e,a=Rl(o,s),l=sG(a)?a.canActivate(t,r):Ko(s,()=>a(t,r));return Jo(l).pipe(Fi())}));return be(i).pipe(Tl())}function vG(r,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>tG(s)).filter(s=>s!==null).map(s=>df(()=>{let a=s.guards.map(l=>{let u=sc(s.node)??e,c=Rl(l,u),d=aG(c)?c.canActivateChild(n,r):Ko(u,()=>c(n,r));return Jo(d).pipe(Fi())});return be(a).pipe(Tl())}));return be(o).pipe(Tl())}function mG(r,t,e,n,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return be(!0);let s=o.map(a=>{let l=sc(t)??i,u=Rl(a,l),c=lG(u)?u.canDeactivate(r,t,e,n):Ko(l,()=>u(r,t,e,n));return Jo(c).pipe(Fi())});return be(s).pipe(Tl())}function yG(r,t,e,n){let i=t.canLoad;if(i===void 0||i.length===0)return be(!0);let o=i.map(s=>{let a=Rl(s,r),l=oG(a)?a.canLoad(t,e):Ko(r,()=>a(t,e));return Jo(l)});return be(o).pipe(Tl(),vT(n))}function vT(r){return $g(ln(t=>{if(xl(t))throw fT(r,t)}),lt(t=>t===!0))}function CG(r,t,e,n){let i=t.canMatch;if(!i||i.length===0)return be(!0);let o=i.map(s=>{let a=Rl(s,r),l=uG(a)?a.canMatch(t,e):Ko(r,()=>a(t,e));return Jo(l)});return be(o).pipe(Tl(),vT(n))}var tc=class{constructor(t){this.segmentGroup=t||null}},bp=class extends Error{constructor(t){super(),this.urlTree=t}};function Cl(r){return Ka(new tc(r))}function wG(r){return Ka(new Ae(4e3,!1))}function _G(r){return Ka(pT(!1,3))}var $0=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new Ae(4002,!1)}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return be(n);if(i.numberOfChildren>1||!i.children[Ke])return wG(t.redirectTo);i=i.children[Ke]}}applyRedirectCommands(t,e,n){let i=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e.startsWith("/"))throw new bp(i);return i}applyRedirectCreateUrlTree(t,e,n,i){let o=this.createSegmentGroup(t,e.root,n,i);return new qo(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[i]=e[a]}else n[i]=o}),n}createSegmentGroup(t,e,n,i){let o=this.createSegments(t,e.segments,n,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,i)}),new gt(o,s)}createSegments(t,e,n,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,n))}findPosParam(t,e,n){let i=n[e.path.substring(1)];if(!i)throw new Ae(4001,!1);return i}findOrReturn(t,e){let n=0;for(let i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}},K0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SG(r,t,e,n,i){let o=ty(r,t,e);return o.matched?(n=Q2(t,n),CG(n,t,e,i).pipe(lt(s=>s===!0?o:De({},K0)))):be(o)}function ty(r,t,e){if(t.path==="")return t.pathMatch==="full"&&(r.hasChildren()||e.length>0)?De({},K0):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||C2)(e,r,t);if(!i)return De({},K0);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?De(De({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WD(r,t,e,n){return e.length>0&&DG(r,e,n)?{segmentGroup:new gt(t,xG(n,new gt(e,r.children))),slicedSegments:[]}:e.length===0&&TG(r,e,n)?{segmentGroup:new gt(r.segments,EG(r,t,e,n,r.children)),slicedSegments:e}:{segmentGroup:new gt(r.segments,r.children),slicedSegments:e}}function EG(r,t,e,n,i){let o={};for(let s of n)if(Mp(r,e,s)&&!i[Ki(s)]){let a=new gt([],{});o[Ki(s)]=a}return De(De({},i),o)}function xG(r,t){let e={};e[Ke]=t;for(let n of r)if(n.path===""&&Ki(n)!==Ke){let i=new gt([],{});e[Ki(n)]=i}return e}function DG(r,t,e){return e.some(n=>Mp(r,t,n)&&Ki(n)!==Ke)}function TG(r,t,e){return e.some(n=>Mp(r,t,n))}function Mp(r,t,e){return(r.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function RG(r,t,e,n){return Ki(r)!==n&&(n===Ke||!Mp(t,e,r))?!1:r.path==="**"?!0:ty(t,r,e).matched}function AG(r,t,e){return t.length===0&&!r.children[e]}var Y0=class{};function OG(r,t,e,n,i,o,s="emptyOnly"){return new q0(r,t,e,n,i,s,o).recognize()}var bG=31,q0=class{constructor(t,e,n,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new $0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ae(4002,!1)}recognize(){let t=WD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(lt(e=>{let n=new Ju([],Object.freeze({}),Object.freeze(De({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ke,this.rootComponentType,null,{}),i=new wr(n,e),o=new Ap("",i),s=G2(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Ke).pipe(ko(n=>{if(n instanceof bp)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof tc?this.noMatchError(n):n}))}inheritParamsAndData(t,e){let n=t.value,i=Q0(n,e,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,e,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,i,!0).pipe(lt(o=>o instanceof wr?[o]:[]))}processChildren(t,e,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return Dt(i).pipe(ks(o=>{let s=n.children[o],a=Z2(e,o);return this.processSegmentGroup(t,a,s,o)}),rv((o,s)=>(o.push(...s),o)),Go(null),nv(),Ut(o=>{if(o===null)return Cl(n);let s=mT(o);return FG(s),be(s)}))}processSegment(t,e,n,i,o,s){return Dt(e).pipe(ks(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,n,i,o,s).pipe(ko(l=>{if(l instanceof tc)return be(null);throw l}))),Fi(a=>!!a),ko(a=>{if(gT(a))return AG(n,i,o)?be(new Y0):Cl(n);throw a}))}processSegmentAgainstRoute(t,e,n,i,o,s,a){return RG(n,i,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,n,o,s):Cl(i):Cl(i)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:c}=i.path==="**"?zD(o):ty(e,i,o);if(!a)return Cl(e);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bG&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ut(f=>this.processSegment(t,n,e,f.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,o){let s;return n.path==="**"?(s=be(zD(i)),e.children={}):s=SG(e,n,i,t,this.urlSerializer),s.pipe(Qn(a=>a.matched?(t=n._injector??t,this.getChildConfig(t,n,i).pipe(Qn(({routes:l})=>{let u=n._loadedInjector??t,{consumedSegments:c,remainingSegments:d,parameters:f}=a,p=new Ju(c,f,Object.freeze(De({},this.urlTree.queryParams)),this.urlTree.fragment,PG(n),Ki(n),n.component??n._loadedComponent??null,n,MG(n)),{segmentGroup:h,slicedSegments:g}=WD(e,c,d,l);if(g.length===0&&h.hasChildren())return this.processChildren(u,l,h).pipe(lt(m=>m===null?null:new wr(p,m)));if(l.length===0&&g.length===0)return be(new wr(p,[]));let v=Ki(n)===o;return this.processSegment(u,l,h,g,v?Ke:o,!0).pipe(lt(m=>new wr(p,m instanceof wr?[m]:[])))}))):Cl(e)))}getChildConfig(t,e,n){return e.children?be({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?be({routes:e._loadedRoutes,injector:e._loadedInjector}):yG(t,e,n,this.urlSerializer).pipe(Ut(i=>i?this.configLoader.loadChildren(t,e).pipe(ln(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):_G(e))):be({routes:[],injector:t})}};function FG(r){r.sort((t,e)=>t.value.outlet===Ke?-1:e.value.outlet===Ke?1:t.value.outlet.localeCompare(e.value.outlet))}function IG(r){let t=r.value.routeConfig;return t&&t.path===""}function mT(r){let t=[],e=new Set;for(let n of r){if(!IG(n)){t.push(n);continue}let i=t.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),e.add(i)):t.push(n)}for(let n of e){let i=mT(n.children);t.push(new wr(n.value,i))}return t.filter(n=>!e.has(n))}function PG(r){return r.data||{}}function MG(r){return r.resolve||{}}function zD(r){return{matched:!0,parameters:r.length>0?qD(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function NG(r,t,e,n,i,o){return Ut(s=>OG(r,t,e,n,s.extractedUrl,i,o).pipe(lt(({state:a,tree:l})=>St(De({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function LG(r,t){return Ut(e=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return be(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of yT(l))s.add(u);let a=0;return Dt(s).pipe(ks(l=>o.has(l)?kG(l,n,r,t):(l.data=Q0(l,l.parent,r).resolve,be(void 0))),ln(()=>a++),qa(1),Ut(l=>a===s.size?be(e):qn))})}function yT(r){let t=r.children.map(e=>yT(e)).flat();return[r,...t]}function kG(r,t,e,n){let i=r.routeConfig,o=r._resolve;return i?.title!==void 0&&!cT(i)&&(o[rc]=i.title),GG(o,r,t,n).pipe(lt(s=>(r._resolvedData=s,r.data=Q0(r,r.parent,e).resolve,null)))}function GG(r,t,e,n){let i=T0(r);if(i.length===0)return be({});let o={};return Dt(i).pipe(Ut(s=>VG(r[s],t,e,n).pipe(Fi(),ln(a=>{o[s]=a}))),qa(1),ev(o),ko(s=>gT(s)?qn:Ka(s)))}function VG(r,t,e,n){let i=sc(t)??n,o=Rl(r,i),s=o.resolve?o.resolve(t,e):Ko(i,()=>o(t,e));return Jo(s)}function x0(r){return Qn(t=>{let e=r(t);return e?Dt(e).pipe(lt(()=>t)):be(t)})}var CT=(()=>{let t=class t{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Ke);return i}getResolvedTitleForRoute(n){return n.data[rc]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:()=>(()=>Ee(HG))(),providedIn:"root"});let r=t;return r})(),HG=(()=>{let t=class t extends CT{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};t.\u0275fac=function(i){return new(i||t)(Ne(w0))},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),lc=new Ge("",{providedIn:"root",factory:()=>({})}),nc=new Ge("ROUTES"),ny=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ee(dp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return be(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Jo(n.loadComponent()).pipe(lt(wT),ln(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Cu(()=>{this.componentLoaders.delete(n)})),o=new $a(i,()=>new En).pipe(za());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return be({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=BG(i,this.compiler,n,this.onLoadEndListener).pipe(Cu(()=>{this.childrenLoaders.delete(i)})),a=new $a(s,()=>new En).pipe(za());return this.childrenLoaders.set(i,a),a}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function BG(r,t,e,n){return Jo(r.loadChildren()).pipe(lt(wT),Ut(i=>i instanceof Au||Array.isArray(i)?be(i):Dt(t.compileModuleAsync(i))),lt(i=>{n&&n(r);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(nc,[],{optional:!0,self:!0}).flat()),{routes:s.map(ey),injector:o}}))}function jG(r){return r&&typeof r=="object"&&"default"in r}function wT(r){return jG(r)?r.default:r}var ry=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:()=>(()=>Ee(UG))(),providedIn:"root"});let r=t;return r})(),UG=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),_T=new Ge(""),ST=new Ge("");function WG(r,t,e){let n=r.get(ST),i=r.get(Bn);return r.get(Et).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),zG(r))),{onViewTransitionCreated:l}=n;return l&&Ko(r,()=>l({transition:a,from:t,to:e})),s})}function zG(r){return new Promise(t=>{Xm(t,{injector:r})})}var iy=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new En,this.transitionAbortSubject=new En,this.configLoader=Ee(ny),this.environmentInjector=Ee(yr),this.urlSerializer=Ee(ic),this.rootContexts=Ee(oc),this.location=Ee(ml),this.inputBindingEnabled=Ee(Pp,{optional:!0})!==null,this.titleStrategy=Ee(CT),this.options=Ee(lc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ee(ry),this.createViewTransition=Ee(_T,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>be(void 0),this.rootComponentType=null;let n=o=>this.events.next(new M0(o)),i=o=>this.events.next(new N0(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(St(De(De({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new vn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$u,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kr(s=>s.id!==0),lt(s=>St(De({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qn(s=>{this.currentTransition=s;let a=!1,l=!1;return be(s).pipe(ln(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?St(De({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qn(u=>{let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&d!=="reload"){let f="";return this.events.next(new Qo(u.id,this.urlSerializer.serialize(u.rawUrl),f,0)),u.resolve(null),qn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return be(u).pipe(Qn(f=>{let p=this.transitions?.getValue();return this.events.next(new Dl(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?qn:Promise.resolve(f)}),NG(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ln(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=St(De({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new xp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:p,source:h,restoredState:g,extras:v}=u,m=new Dl(f,this.urlSerializer.serialize(p),h,g);this.events.next(m);let C=lT(p,this.rootComponentType).snapshot;return this.currentTransition=s=St(De({},u),{targetSnapshot:C,urlAfterRedirects:p,extras:St(De({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,be(s)}else{let f="";return this.events.next(new Qo(u.id,this.urlSerializer.serialize(u.extractedUrl),f,1)),u.resolve(null),qn}}),ln(u=>{let c=new b0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),lt(u=>(this.currentTransition=s=St(De({},u),{guards:eG(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),cG(this.environmentInjector,u=>this.events.next(u)),ln(u=>{if(s.guardsResult=u.guardsResult,xl(u.guardsResult))throw fT(this.urlSerializer,u.guardsResult);let c=new F0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),kr(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),x0(u=>{if(u.guards.canActivateChecks.length)return be(u).pipe(ln(c=>{let d=new I0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Qn(c=>{let d=!1;return be(c).pipe(LG(this.paramsInheritanceStrategy,this.environmentInjector),ln({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),ln(c=>{let d=new P0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),x0(u=>{let c=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(ln(p=>{d.component=p}),lt(()=>{})));for(let p of d.children)f.push(...c(p));return f};return yu(c(u.targetSnapshot.root)).pipe(Go(),ho(1))}),x0(()=>this.afterPreactivation()),Qn(()=>{let{currentSnapshot:u,targetSnapshot:c}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return d?Dt(d).pipe(lt(()=>s)):be(s)}),lt(u=>{let c=$2(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=St(De({},u),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),ln(()=>{this.events.next(new Qu)}),J2(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ho(1),ln({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),sv(this.transitionAbortSubject.pipe(ln(u=>{throw u}))),Cu(()=>{if(!a&&!l){let u="";this.cancelNavigationTransition(s,u,1)}this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),ko(u=>{if(l=!0,hT(u))this.events.next(new Xo(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),q2(u)?this.events.next(new Zu(u.url)):s.resolve(!1);else{this.events.next(new Xu(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return qn}))}))}cancelNavigationTransition(n,i,o){let s=new Xo(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function $G(r){return r!==$u}var KG=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:()=>(()=>Ee(YG))(),providedIn:"root"});let r=t;return r})(),X0=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},YG=(()=>{let t=class t extends X0{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Hi(t)))(o||t)}})(),t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),ET=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:()=>(()=>Ee(qG))(),providedIn:"root"});let r=t;return r})(),qG=(()=>{let t=class t extends ET{constructor(){super(...arguments),this.location=Ee(ml),this.urlSerializer=Ee(ic),this.options=Ee(lc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ee(ry),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=lT(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Dl)this.stateMemento=this.createStateMemento();else if(n instanceof Qo)this.rawUrlTree=i.initialUrl;else if(n instanceof xp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else n instanceof Qu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Xo&&(n.code===3||n.code===2)?this.restoreHistory(i):n instanceof Xu?this.restoreHistory(i,!0):n instanceof pi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=De(De({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=De(De({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Hi(t)))(o||t)}})(),t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Wu=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(Wu||{});function xT(r,t){r.events.pipe(kr(e=>e instanceof pi||e instanceof Xo||e instanceof Xu||e instanceof Qo),lt(e=>e instanceof pi||e instanceof Qo?Wu.COMPLETE:(e instanceof Xo?e.code===0||e.code===1:!1)?Wu.REDIRECTING:Wu.FAILED),kr(e=>e!==Wu.REDIRECTING),ho(1)).subscribe(()=>{t()})}function XG(r){throw r}var QG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},er=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ee(cp),this.stateManager=Ee(ET),this.options=Ee(lc,{optional:!0})||{},this.pendingTasks=Ee(r0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ee(iy),this.urlSerializer=Ee(ic),this.location=Ee(ml),this.urlHandlingStrategy=Ee(ry),this._events=new En,this.errorHandler=this.options.errorHandler||XG,this.navigated=!1,this.routeReuseStrategy=Ee(KG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ee(nc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ee(Pp,{optional:!0}),this.eventsSubscription=new an,this.isNgZoneEnabled=Ee(Et)instanceof Et&&Et.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Xo&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof pi)this.navigated=!0;else if(i instanceof Zu){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||$G(o.source)};this.scheduleNavigation(a,$u,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}eV(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$u,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)}))}navigateToSyncWithBrowser(n,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=De({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let l=this.parseUrl(n);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ey),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,c=u?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=De(De({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let p=o?o.snapshot:this.routerState.snapshot.root;f=iT(p)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return oT(f,n,d,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=xl(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,$u,null,i)}navigate(n,i={skipLocationChange:!1}){return JG(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=De({},QG):i===!1?o=De({},ZG):o=i,xl(n))return VD(this.currentUrlTree,n,o);let s=this.parseUrl(n);return VD(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.keys(n).reduce((i,o)=>{let s=n[o];return s!=null&&(i[o]=s),i},{})}scheduleNavigation(n,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,c;a?(l=a.resolve,u=a.reject,c=a.promise):c=new Promise((f,p)=>{l=f,u=p});let d=this.pendingTasks.add();return xT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function JG(r){for(let t=0;t<r.length;t++)if(r[t]==null)throw new Ae(4008,!1)}function eV(r){return!(r instanceof Qu)&&!(r instanceof Zu)}var Fp=(()=>{let t=class t{constructor(n,i,o,s,a,l){this.router=n,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new En,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof pi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,o,s,a){if(this.urlTree===null||this.isAnchorElement&&(n!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let n=this.href===null?null:Cx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,n,i):o.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(i){return new(i||t)(ye(er),ye(Zo),Om("tabindex"),ye(di),ye(mn),ye(Co))},t.\u0275dir=bt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Ot("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&rp("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",vl],skipLocationChange:["skipLocationChange","skipLocationChange",vl],replaceUrl:["replaceUrl","replaceUrl",vl],routerLink:"routerLink"},standalone:!0,features:[Zm,ci]});let r=t;return r})(),DT=(()=>{let t=class t{get isActive(){return this._isActive}constructor(n,i,o,s,a){this.router=n,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new re,this.routerEventsSubscription=n.events.subscribe(l=>{l instanceof pi&&this.update()})}ngAfterContentInit(){be(this.links.changes,be(null)).pipe(bi()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Dt(n).pipe(bi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){let i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){let i=tV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>o.urlTree?n.isActive(o.urlTree,i):!1}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};t.\u0275fac=function(i){return new(i||t)(ye(er),ye(mn),ye(di),ye(hl),ye(Fp,8))},t.\u0275dir=bt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&lD(s,Fp,5),i&2){let a;ap(a=lp())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ci]});let r=t;return r})();function tV(r){return!!r.paths}var Ip=class{};var nV=(()=>{let t=class t{constructor(n,i,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(kr(n=>n instanceof pi),ks(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=sp(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Dt(o).pipe(bi())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(n,i):o=be(null);let s=o.pipe(Ut(a=>a===null?be(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Dt([s,a]).pipe(bi())}else return s})}};t.\u0275fac=function(i){return new(i||t)(Ne(er),Ne(dp),Ne(yr),Ne(Ip),Ne(ny))},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),TT=new Ge(""),rV=(()=>{let t=class t{constructor(n,i,o,s,a={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Dl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof pi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Qo&&n.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Dp&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dp(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(i){Dx()},t.\u0275prov=Re({token:t,factory:t.\u0275fac});let r=t;return r})();function RT(r,...t){return Xf([{provide:nc,multi:!0,useValue:r},[],{provide:Zo,useFactory:AT,deps:[er]},{provide:fp,multi:!0,useFactory:OT},t.map(e=>e.\u0275providers)])}function AT(r){return r.routerState.root}function uc(r,t){return{\u0275kind:r,\u0275providers:t}}function OT(){let r=Ee(Bi);return t=>{let e=r.get(ku);if(t!==e.components[0])return;let n=r.get(er),i=r.get(bT);r.get(oy)===1&&n.initialNavigation(),r.get(FT,null,et.Optional)?.setUpPreloading(),r.get(TT,null,et.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var bT=new Ge("",{factory:()=>new En}),oy=new Ge("",{providedIn:"root",factory:()=>1});function iV(){return uc(2,[{provide:oy,useValue:0},{provide:up,multi:!0,deps:[Bi],useFactory:t=>{let e=t.get(xD,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let i=t.get(er),o=t.get(bT);xT(i,()=>{n(!0)}),t.get(iy).afterPreactivation=()=>(n(!0),o.closed?be(void 0):o),i.initialNavigation()}))}}])}function oV(){return uc(3,[{provide:up,multi:!0,useFactory:()=>{let t=Ee(er);return()=>{t.setUpLocationChangeListener()}}},{provide:oy,useValue:2}])}var FT=new Ge("");function sV(r){return uc(0,[{provide:FT,useExisting:nV},{provide:Ip,useExisting:r}])}function aV(){return uc(8,[UD,{provide:Pp,useExisting:UD}])}function lV(r){let t=[{provide:_T,useValue:WG},{provide:ST,useValue:De({skipNextTransition:!!r?.skipInitialTransition},r)}];return uc(9,t)}var $D=new Ge("ROUTER_FORROOT_GUARD"),uV=[ml,{provide:ic,useClass:Yu},er,oc,{provide:Zo,useFactory:AT,deps:[er]},ny,[]],sy=(()=>{let t=class t{constructor(n){}static forRoot(n,i){return{ngModule:t,providers:[uV,[],{provide:nc,multi:!0,useValue:n},{provide:$D,useFactory:pV,deps:[[er,new Pu,new qf]]},{provide:lc,useValue:i||{}},i?.useHash?dV():fV(),cV(),i?.preloadingStrategy?sV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?hV(i):[],i?.bindToComponentInputs?aV().\u0275providers:[],i?.enableViewTransitions?lV().\u0275providers:[],gV()]}}static forChild(n){return{ngModule:t,providers:[{provide:nc,multi:!0,useValue:n}]}}};t.\u0275fac=function(i){return new(i||t)(Ne($D,8))},t.\u0275mod=li({type:t}),t.\u0275inj=ai({});let r=t;return r})();function cV(){return{provide:TT,useFactory:()=>{let r=Ee(bD),t=Ee(Et),e=Ee(lc),n=Ee(iy),i=Ee(ic);return e.scrollOffset&&r.setOffset(e.scrollOffset),new rV(i,n,r,t,e)}}}function dV(){return{provide:Co,useClass:TD}}function fV(){return{provide:Co,useClass:d0}}function pV(r){return"guarded"}function hV(r){return[r.initialNavigation==="disabled"?oV().\u0275providers:[],r.initialNavigation==="enabledBlocking"?iV().\u0275providers:[]]}var KD=new Ge("");function gV(){return[{provide:KD,useFactory:OT},{provide:fp,multi:!0,useExisting:KD}]}var IT=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=un({type:t,selectors:[["app-home"]],standalone:!0,features:[Dn],decls:3,vars:0,consts:[[1,"home-page"],["href","/upload-documents",1,"btn","btn-primary","btn-success","btn-lg","mt-5","text-center"]],template:function(i,o){i&1&&(Te(0,"div",0)(1,"a",1),je(2,"Upload & Compare"),ve()())},styles:[".home-page[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 58px);background-image:url(/assets/background-image.png);background-size:cover;background-repeat:no-repeat;background-color:#fff}.card-center-fifty[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;margin-top:150px}.card-center-fifty[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:40%;min-height:300px;max-width:60%}"]});let r=t;return r})();function Ji(r){return r==null||r===""?null:r}function X(r,t){return t===void 0&&(t=!1),r!=null&&(r!==""||t)}function Oe(r){return!X(r)}function lr(r){return r==null||r.length===0}function qc(r){return r!=null&&typeof r.toString=="function"?r.toString():null}function gs(r){if(r!==void 0){if(r===null||r==="")return null;if(typeof r=="number")return isNaN(r)?void 0:r;var t=parseInt(r,10);return isNaN(t)?void 0:t}}function lh(r){if(r!==void 0)return r===null||r===""?!1:typeof r=="boolean"?r:/true/i.test(r)}function vV(r){if(!(r==null||r===""))return r}function uC(r,t){var e=r?JSON.stringify(r):null,n=t?JSON.stringify(t):null;return e===n}function mV(r,t,e){e===void 0&&(e=!1);var n=r==null,i=t==null;if(r&&r.toNumber&&(r=r.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof r!="string"||!e)return o(r,t);try{return r.localeCompare(t)}catch{return o(r,t)}}function va(r){if(r instanceof Set||r instanceof Map){var t=[];return r.forEach(function(e){return t.push(e)}),t}return Object.values(r)}var yV=Object.freeze({__proto__:null,makeNull:Ji,exists:X,missing:Oe,missingOrEmpty:lr,toStringOrNull:qc,attrToNumber:gs,attrToBoolean:lh,attrToString:vV,jsonEquals:uC,defaultComparator:mV,values:va}),CV=function(){function r(){this.existingKeys={}}return r.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},r.prototype.getUniqueKey=function(t,e){t=qc(t);for(var n=0;;){var i=void 0;if(t?(i=t,n!==0&&(i+="_"+n)):e?(i=e,n!==0&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}},r}(),wV=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_V=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o};function Rn(r,t){var e,n;if(r!=null){if(Array.isArray(r)){for(var i=0;i<r.length;i++)t(i.toString(),r[i]);return}try{for(var o=wV(Object.entries(r)),s=o.next();!s.done;s=o.next()){var a=_V(s.value,2),l=a[0],u=a[1];t(l,u)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}}function bC(r){for(var t={},e=Object.keys(r),n=0;n<e.length;n++){var i=e[n],o=r[i];t[i]=o}return t}function SV(r){return JSON.parse(JSON.stringify(r))}function uh(r,t){if(r){var e=r,n={};return Object.keys(e).forEach(function(i){if(!(t&&t.indexOf(i)>=0)){var o=e[i],s=ch(o)&&o.constructor===Object;s?n[i]=uh(o):n[i]=o}}),n}}function WR(r,t){return r[t]}function zR(r,t,e){r[t]=e}function EV(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];e.forEach(function(i){return $R(r,t,i)})}function $R(r,t,e,n){var i=WR(r,e);i!==void 0&&zR(t,e,n?n(i):i)}function KR(r){var t={};return r.filter(function(e){return e!=null}).forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=null})}),Object.keys(t)}function ms(r){if(!r)return[];var t=Object;if(typeof t.values=="function")return t.values(r);var e=[];for(var n in r)r.hasOwnProperty(n)&&r.propertyIsEnumerable(n)&&e.push(r[n]);return e}function Ar(r,t,e,n){e===void 0&&(e=!0),n===void 0&&(n=!1),X(t)&&Rn(t,function(i,o){var s=r[i];if(s!==o){if(n){var a=s==null&&o!=null;if(a){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(s={},r[i]=s)}}ch(o)&&ch(s)&&!Array.isArray(s)?Ar(s,o,e,n):(e||o!==void 0)&&(r[i]=o)}})}function xV(r){return Oe(r)||Object.keys(r).length===0}function DV(r,t,e){if(r==null)return e;for(var n=t.split("."),i=r;n.length>1;)if(i=i[n.shift()],i==null)return e;var o=i[n[0]];return o??e}function TV(r,t,e){if(r!=null){var n=t.split("."),i=r;n.forEach(function(o,s){i[o]||(i[o]={}),s<n.length-1&&(i=i[o])}),i[n[n.length-1]]=e}}function Ll(r,t,e){if(!(!t||!r)){if(!e)return r[t];for(var n=t.split("."),i=r,o=0;o<n.length;o++){if(i==null)return;i=i[n[o]]}return i}}function YR(r,t,e){t===void 0&&(t=[]),Object.keys(r).forEach(function(s){var a=r[s];typeof a=="object"&&!t.includes(s)&&(r[s]=void 0)});var n=Object.getPrototypeOf(r),i={},o=function(s){return"AG Grid: Grid API function ".concat(s,`() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: `).concat(e)};Object.getOwnPropertyNames(n).forEach(function(s){var a=n[s];if(typeof a=="function"&&!t.includes(s)){var l=function(){console.warn(o(s))};i[s]={value:l,writable:!0}}}),Object.defineProperties(r,i)}function ch(r){return typeof r=="object"&&r!==null}var RV=Object.freeze({__proto__:null,iterateObject:Rn,cloneObject:bC,deepCloneObject:SV,deepCloneDefinition:uh,getProperty:WR,setProperty:zR,copyPropertiesIfPresent:EV,copyPropertyIfPresent:$R,getAllKeysInObjects:KR,getAllValuesInObject:ms,mergeDeep:Ar,missingOrEmptyObject:xV,get:DV,set:TV,getValueUsingField:Ll,removeAllReferences:YR,isNonNullObject:ch}),PT={};function Vl(r,t){PT[t]||(r(),PT[t]=!0)}function Pe(r){Vl(function(){return console.warn("AG Grid: "+r)},r)}function mi(r){Vl(function(){return console.error("AG Grid: "+r)},r)}function bh(r){if(r.name)return r.name;var t=/function\s+([^\(]+)/.exec(r.toString());return t&&t.length===2?t[1].trim():null}function Fh(r){return!!(r&&r.constructor&&r.call&&r.apply)}function qR(r){XR(r,400)}var ly=[],uy=!1;function cC(r){ly.push(r),!uy&&(uy=!0,window.setTimeout(function(){var t=ly.slice();ly.length=0,uy=!1,t.forEach(function(e){return e()})},0))}function XR(r,t){t===void 0&&(t=0),r.length>0&&window.setTimeout(function(){return r.forEach(function(e){return e()})},t)}function $r(r,t){var e;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this;window.clearTimeout(e),e=window.setTimeout(function(){r.apply(o,n)},t)}}function dC(r,t){var e=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s=new Date().getTime();s-e<t||(e=s,r.apply(o,n))}}function FC(r,t,e,n){e===void 0&&(e=100);var i=new Date().getTime(),o=null,s=!1,a=function(){var l=new Date().getTime()-i>e;(r()||l)&&(t(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&n&&console.warn(n))};a(),s||(o=window.setInterval(a,10))}function AV(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return r.reduce(function(n,i){return i(n)},e)}}function QR(r){r&&r()}var OV=function(){},bV=Object.freeze({__proto__:null,doOnce:Vl,warnOnce:Pe,errorOnce:mi,getFunctionName:bh,isFunction:Fh,executeInAWhile:qR,executeNextVMTurn:cC,executeAfter:XR,debounce:$r,throttle:dC,waitUntil:FC,compose:AV,callIfPresent:QR,noop:OV}),ge=function(r){return r.CommunityCoreModule="@ag-grid-community/core",r.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",r.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",r.CsvExportModule="@ag-grid-community/csv-export",r.EnterpriseCoreModule="@ag-grid-enterprise/core",r.RowGroupingModule="@ag-grid-enterprise/row-grouping",r.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",r.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",r.MenuModule="@ag-grid-enterprise/menu",r.SetFilterModule="@ag-grid-enterprise/set-filter",r.MultiFilterModule="@ag-grid-enterprise/multi-filter",r.StatusBarModule="@ag-grid-enterprise/status-bar",r.SideBarModule="@ag-grid-enterprise/side-bar",r.RangeSelectionModule="@ag-grid-enterprise/range-selection",r.MasterDetailModule="@ag-grid-enterprise/master-detail",r.RichSelectModule="@ag-grid-enterprise/rich-select",r.GridChartsModule="@ag-grid-enterprise/charts",r.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",r.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",r.ExcelExportModule="@ag-grid-enterprise/excel-export",r.ClipboardModule="@ag-grid-enterprise/clipboard",r.SparklinesModule="@ag-grid-enterprise/sparklines",r.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",r.AngularModule="@ag-grid-community/angular",r.ReactModule="@ag-grid-community/react",r.VueModule="@ag-grid-community/vue",r}(ge||{}),cc=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},MT=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Le=function(){function r(){}return r.register=function(t){r.__register(t,!0,void 0)},r.registerModules=function(t){r.__registerModules(t,!0,void 0)},r.__register=function(t,e,n){r.runVersionChecks(t),n!==void 0?(r.areGridScopedModules=!0,r.gridModulesMap[n]===void 0&&(r.gridModulesMap[n]={}),r.gridModulesMap[n][t.moduleName]=t):r.globalModulesMap[t.moduleName]=t,r.setModuleBased(e)},r.__unRegisterGridModules=function(t){delete r.gridModulesMap[t]},r.__registerModules=function(t,e,n){r.setModuleBased(e),t&&t.forEach(function(i){return r.__register(i,e,n)})},r.isValidModuleVersion=function(t){var e=cc(t.version.split(".")||[],2),n=e[0],i=e[1],o=cc(r.currentModuleVersion.split(".")||[],2),s=o[0],a=o[1];return n===s&&i===a},r.runVersionChecks=function(t){if(r.currentModuleVersion||(r.currentModuleVersion=t.version),t.version?r.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is incompatible. Please update all modules to the same version.")),t.validate){var e=t.validate();if(!e.isValid){var n=e;console.error("AG Grid: ".concat(n.message))}}},r.setModuleBased=function(t){r.moduleBased===void 0?r.moduleBased=t:r.moduleBased!==t&&Vl(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},r.__setIsBundled=function(){r.isBundled=!0},r.__assertRegistered=function(t,e,n){var i;if(this.__isRegistered(t,n))return!0;var o=e+t,s;if(r.isBundled)s="AG Grid: unable to use ".concat(e,` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`);else if(r.moduleBased||r.moduleBased===void 0){var a=(i=Object.entries(ge).find(function(l){var u=cc(l,2);u[0];var c=u[1];return c===t}))===null||i===void 0?void 0:i[0];s="AG Grid: unable to use ".concat(e," as the ").concat(a," is not registered").concat(r.areGridScopedModules?" for gridId: ".concat(n):"",`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `).concat(a," } from '").concat(t,`';
    
    ModuleRegistry.registerModules([ `).concat(a,` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`)}else s="AG Grid: unable to use ".concat(e,` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`);return Vl(function(){console.warn(s)},o),!1},r.__isRegistered=function(t,e){var n;return!!r.globalModulesMap[t]||!!(!((n=r.gridModulesMap[e])===null||n===void 0)&&n[t])},r.__getRegisteredModules=function(t){return MT(MT([],cc(va(r.globalModulesMap)),!1),cc(va(r.gridModulesMap[t]||{})),!1)},r.__getGridRegisteredModules=function(t){var e;return va((e=r.gridModulesMap[t])!==null&&e!==void 0?e:{})||[]},r.__isPackageBased=function(){return!r.moduleBased},r.globalModulesMap={},r.gridModulesMap={},r.areGridScopedModules=!1,r}(),FV=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},IV=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},PV=function(){function r(t,e){if(this.beanWrappers={},this.destroyed=!1,!(!t||!t.beanClasses)){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return r.prototype.getBeanInstances=function(){return va(this.beanWrappers).map(function(t){return t.beanInstance})},r.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},r.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),X(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},r.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Rn(this.beanWrappers,function(n,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=t.getBeansForParameters(o,i.bean.name),a=new(i.bean.bind.apply(i.bean,IV([null],FV(s),!1)));i.beanInstance=a});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(e))},r.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var n=void 0;t.prototype.constructor?n=bh(t.prototype.constructor):n=""+t,console.error("Context item ".concat(n," is not a bean"));return}var i={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=i},r.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(n){e.forEachMetaDataInHierarchy(n,function(i,o){var s=i.agClassAttributes;s&&s.forEach(function(a){var l=e.lookupBeanInstance(o,a.beanName,a.optional);n[a.attributeName]=l})})})},r.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(n){e.forEachMetaDataInHierarchy(n,function(i,o){Rn(i.autowireMethods,function(s,a){if(s!=="agConstructor"){var l=e.getBeansForParameters(a,o);n[s].apply(n,l)}})})})},r.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);n!=null;){var i=n.constructor;if(i.hasOwnProperty("__agBeanMetaData")){var o=i.__agBeanMetaData,s=this.getBeanName(i);e(o,s)}n=Object.getPrototypeOf(n)}},r.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString(),n=e.substring(9,e.indexOf("("));return n},r.prototype.getBeansForParameters=function(t,e){var n=this,i=[];return t&&Rn(t,function(o,s){var a=n.lookupBeanInstance(e,s);i[Number(o)]=a}),i},r.prototype.lookupBeanInstance=function(t,e,n){if(n===void 0&&(n=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(e," is used after the grid is destroyed!")),null;if(e==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var i=this.beanWrappers[e];return i?i.beanInstance:(n||console.error("AG Grid: unable to find bean reference ".concat(e," while initialising ").concat(t)),null)},r.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach(function(i){return n.callLifeCycleMethodsOnBean(i,e)})},r.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var i={};this.forEachMetaDataInHierarchy(t,function(s){var a=s[e];a&&a.forEach(function(l){l!=n&&(i[l]=!0)})});var o=Object.keys(i);o.forEach(function(s){return t[s]()})},r.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},r.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,Le.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},r.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},r.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(n){e.callLifeCycleMethodsOnBean(n,"preDestroyMethods","destroy");var i=n;typeof i.destroy=="function"&&i.destroy()}),[]):[]},r.prototype.isDestroyed=function(){return this.destroyed},r.prototype.getGridId=function(){return this.contextParams.gridId},r}();function NT(r,t,e){var n=Sa(r.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function ne(r,t,e){var n=Sa(r.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function Un(r,t,e){var n=Sa(r.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function fe(r){return function(t){var e=Sa(t);e.beanName=r}}function w(r){return function(t,e,n){ZR(t,r,!1,t,e,null)}}function rt(r){return function(t,e,n){ZR(t,r,!0,t,e,null)}}function ZR(r,t,e,n,i,o){if(t===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var s=Sa(r.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:t,optional:e})}function ur(r){return function(t,e,n){var i=typeof t=="function"?t:t.constructor,o;if(typeof n=="number"){var s=void 0;e?(o=Sa(i),s=e):(o=Sa(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][n]=r}}}function Sa(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}var LT=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dc=function(r,t){return function(e,n){t(e,n,r)}},ys=function(){function r(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return r.prototype.setBeans=function(t,e,n,i,o){if(i===void 0&&(i=null),o===void 0&&(o=null),this.frameworkOverrides=n,this.gridOptionsService=e,i){var s=e.useAsyncEvents();this.addGlobalListener(i,s)}o&&this.addGlobalListener(o,!1)},r.prototype.getListeners=function(t,e,n){var i=e?this.allAsyncListeners:this.allSyncListeners,o=i.get(t);return!o&&n&&(o=new Set,i.set(t,o)),o},r.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},r.prototype.addEventListener=function(t,e,n){n===void 0&&(n=!1),this.getListeners(t,n,!0).add(e)},r.prototype.removeEventListener=function(t,e,n){n===void 0&&(n=!1);var i=this.getListeners(t,n,!1);if(i&&(i.delete(e),i.size===0)){var o=n?this.allAsyncListeners:this.allSyncListeners;o.delete(t)}},r.prototype.addGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},r.prototype.removeGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},r.prototype.dispatchEvent=function(t){var e=t;if(this.gridOptionsService){var n=this.gridOptionsService,i=n.api,o=n.columnApi,s=n.context;e.api=i,e.columnApi=o,e.context=s}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},r.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},r.prototype.dispatchToListeners=function(t,e){var n=this,i,o=t.type;if(e&&"event"in t){var s=t.event;s instanceof Event&&(t.eventPath=s.composedPath())}var a=function(d,f){return d.forEach(function(p){f.has(p)&&(e?n.dispatchAsync(function(){return p(t)}):p(t))})},l=(i=this.getListeners(o,e,!1))!==null&&i!==void 0?i:new Set,u=new Set(l);u.size>0&&a(u,l);var c=new Set(e?this.globalAsyncListeners:this.globalSyncListeners);c.forEach(function(d){e?n.dispatchAsync(function(){return n.frameworkOverrides.dispatchEvent(o,function(){return d(o,t)},!0)}):n.frameworkOverrides.dispatchEvent(o,function(){return d(o,t)},!0)})},r.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},r.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},LT([dc(0,ur("loggerFactory")),dc(1,ur("gridOptionsService")),dc(2,ur("frameworkOverrides")),dc(3,ur("globalEventListener")),dc(4,ur("globalSyncEventListener"))],r.prototype,"setBeans",null),r=LT([fe("eventService")],r),r}(),Np=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MV={resizable:!0,sortable:!0},NV=0;function JR(){return NV++}var yt=function(){function r(t,e,n,i){this.instanceId=JR(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new ys,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=i,this.setState(t)}return r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setState=function(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);var e=t.sortIndex,n=t.initialSortIndex;e!==void 0?e!==null&&(this.sortIndex=e):n!==null&&(this.sortIndex=n);var i=t.hide,o=t.initialHide;i!==void 0?this.visible=!i:this.visible=!o,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var s=t.flex,a=t.initialFlex;s!==void 0?this.flex=s:a!==void 0&&(this.flex=a)},r.prototype.setColDef=function(t,e,n){n===void 0&&(n="api"),this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))},r.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},r.prototype.setParent=function(t){this.parent=t},r.prototype.getParent=function(){return this.parent},r.prototype.setOriginalParent=function(t){this.originalParent=t},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},r.prototype.initDotNotation=function(){var t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=X(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=X(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},r.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},r.prototype.initTooltip=function(){this.tooltipEnabled=X(this.colDef.tooltipField)||X(this.colDef.tooltipValueGetter)||X(this.colDef.tooltipComponent)},r.prototype.resetActualWidth=function(t){t===void 0&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},r.prototype.isEmptyGroup=function(){return!1},r.prototype.isRowGroupDisplayed=function(t){if(Oe(this.colDef)||Oe(this.colDef.showRowGroup))return!1;var e=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===t;return e||n},r.prototype.isPrimary=function(){return this.primary},r.prototype.isFilterAllowed=function(){var t=!!this.colDef.filter;return t},r.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},r.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},r.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},r.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},r.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},r.prototype.isSuppressNavigable=function(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var e=this.createColumnFunctionCallbackParams(t),n=this.colDef.suppressNavigable;return n(e)}return!1},r.prototype.isCellEditable=function(t){return t.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(t,this.colDef.editable)},r.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},r.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},r.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},r.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},r.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},r.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},r.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},r.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},r.prototype.getColDefValue=function(t){var e;return(e=this.colDef[t])!==null&&e!==void 0?e:MV[t]},r.prototype.isColumnFunc=function(t,e){if(typeof e=="boolean")return e;if(typeof e=="function"){var n=this.createColumnFunctionCallbackParams(t),i=e;return i(n)}return!1},r.prototype.setMoving=function(t,e){e===void 0&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},r.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},r.prototype.isMoving=function(){return this.moving},r.prototype.getSort=function(){return this.sort},r.prototype.setSort=function(t,e){e===void 0&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},r.prototype.setMenuVisible=function(t,e){e===void 0&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},r.prototype.isMenuVisible=function(){return this.menuVisible},r.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},r.prototype.isSortAscending=function(){return this.sort==="asc"},r.prototype.isSortDescending=function(){return this.sort==="desc"},r.prototype.isSortNone=function(){return Oe(this.sort)},r.prototype.isSorting=function(){return X(this.sort)},r.prototype.getSortIndex=function(){return this.sortIndex},r.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},r.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},r.prototype.getAggFunc=function(){return this.aggFunc},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.getRight=function(){return this.left+this.actualWidth},r.prototype.setLeft=function(t,e){e===void 0&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},r.prototype.isFilterActive=function(){return this.filterActive},r.prototype.setFilterActive=function(t,e,n){e===void 0&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var i=this.createColumnEvent("filterChanged",e);n&&Ar(i,n),this.eventService.dispatchEvent(i)},r.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},r.prototype.setPinned=function(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},r.prototype.setFirstRightPinned=function(t,e){e===void 0&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},r.prototype.setLastLeftPinned=function(t,e){e===void 0&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},r.prototype.isFirstRightPinned=function(){return this.firstRightPinned},r.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},r.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},r.prototype.isPinnedLeft=function(){return this.pinned==="left"},r.prototype.isPinnedRight=function(){return this.pinned==="right"},r.prototype.getPinned=function(){return this.pinned},r.prototype.setVisible=function(t,e){e===void 0&&(e="api");var n=t===!0;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},r.prototype.isVisible=function(){return this.visible},r.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},r.prototype.getColDef=function(){return this.colDef},r.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},r.prototype.getColId=function(){return this.colId},r.prototype.getId=function(){return this.colId},r.prototype.getUniqueId=function(){return this.colId},r.prototype.getDefinition=function(){return this.colDef},r.prototype.getActualWidth=function(){return this.actualWidth},r.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},r.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},r.prototype.createBaseColDefParams=function(t){var e={node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return e},r.prototype.getColSpan=function(t){if(Oe(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},r.prototype.getRowSpan=function(t){if(Oe(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},r.prototype.setActualWidth=function(t,e,n){e===void 0&&(e="api"),n===void 0&&(n=!1),this.minWidth!=null&&(t=Math.max(t,this.minWidth)),this.maxWidth!=null&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&e!=="flex"&&e!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},r.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},r.prototype.isGreaterThanMax=function(t){return this.maxWidth!=null?t>this.maxWidth:!1},r.prototype.getMinWidth=function(){return this.minWidth},r.prototype.getMaxWidth=function(){return this.maxWidth},r.prototype.getFlex=function(){return this.flex||0},r.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},r.prototype.setMinimum=function(t){t===void 0&&(t="api"),X(this.minWidth)&&this.setActualWidth(this.minWidth,t)},r.prototype.setRowGroupActive=function(t,e){e===void 0&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},r.prototype.isRowGroupActive=function(){return this.rowGroupActive},r.prototype.setPivotActive=function(t,e){e===void 0&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},r.prototype.isPivotActive=function(){return this.pivotActive},r.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},r.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},r.prototype.setValueActive=function(t,e){e===void 0&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},r.prototype.isValueActive=function(){return this.aggregationActive},r.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},r.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},r.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},r.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return e==null&&(e=t),e},r.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:r.EVENT_STATE_UPDATED,key:t})},r.EVENT_MOVING_CHANGED="movingChanged",r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_WIDTH_CHANGED="widthChanged",r.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",r.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",r.EVENT_VISIBLE_CHANGED="visibleChanged",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_COL_DEF_CHANGED="colDefChanged",r.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",r.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_PIVOT_CHANGED="columnPivotChanged",r.EVENT_VALUE_CHANGED="columnValueChanged",r.EVENT_STATE_UPDATED="columnStateUpdated",Np([w("gridOptionsService")],r.prototype,"gridOptionsService",void 0),Np([w("columnUtils")],r.prototype,"columnUtils",void 0),Np([w("columnHoverService")],r.prototype,"columnHoverService",void 0),Np([ne],r.prototype,"initialise",null),r}(),LV=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nt=function(){function r(t,e,n,i){this.localEventService=new ys,this.expandable=!1,this.instanceId=JR(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=i}return r.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},r.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setOriginalParent=function(t){this.originalParent=t},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.getLevel=function(){return this.level},r.prototype.isVisible=function(){return this.children?this.children.some(function(t){return t.isVisible()}):!1},r.prototype.isPadding=function(){return this.padding},r.prototype.setExpanded=function(t){this.expanded=t===void 0?!1:t;var e={type:r.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(e)},r.prototype.isExpandable=function(){return this.expandable},r.prototype.isExpanded=function(){return this.expanded},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getId=function(){return this.getGroupId()},r.prototype.setChildren=function(t){this.children=t},r.prototype.getChildren=function(){return this.children},r.prototype.getColGroupDef=function(){return this.colGroupDef},r.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},r.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof yt?t.push(e):e instanceof r&&e.addLeafColumns(t)})},r.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},r.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(n){return n.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(n){return n.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},r.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,n=!1,i=this.findChildrenRemovingPadding(),o=0,s=i.length;o<s;o++){var a=i[o];if(a.isVisible()){var l=a.getColumnGroupShow();l==="open"?(t=!0,n=!0):l==="closed"?(e=!0,n=!0):(t=!0,e=!0)}}var u=t&&e&&n;if(this.expandable!==u){this.expandable=u;var c={type:r.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},r.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(n){n.forEach(function(i){var o=i instanceof r&&i.isPadding();o?e(i.children):t.push(i)})};return e(this.children),t},r.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},r.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_EXPANDABLE_CHANGED="expandableChanged",LV([Un],r.prototype,"destroy",null),r}(),kV={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function eA(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0;e<r.length;e++){var n=r[e];if(X(n))return n}return null}function GV(r){return r!=null&&r.length>0}function ut(r){if(!(!r||!r.length))return r[r.length-1]}function Do(r,t,e){return r==null&&t==null?!0:r!=null&&t!=null&&r.length===t.length&&r.every(function(n,i){return e?e(n,t[i]):t[i]===n})}function VV(r,t){return Do(r,t)}function tA(r){return r.sort(function(t,e){return t-e})}function HV(r,t){if(r)for(var e=r.length-2;e>=0;e--){var n=r[e]===t,i=r[e+1]===t;n&&i&&r.splice(e+1,1)}}function IC(r,t){var e=r.indexOf(t);e>=0&&(r[e]=r[r.length-1],r.pop())}function Tr(r,t){var e=r.indexOf(t);e>=0&&r.splice(e,1)}function nA(r,t){for(var e=0;e<t.length;e++)IC(r,t[e])}function rA(r,t){for(var e=0;e<t.length;e++)Tr(r,t[e])}function Xc(r,t,e){r.splice(e,0,t)}function BV(r,t,e){if(!(r==null||t==null))for(var n=t.length-1;n>=0;n--){var i=t[n];Xc(r,i,e)}}function fC(r,t,e){rA(r,t),t.slice().reverse().forEach(function(n){return Xc(r,n,e)})}function Kr(r,t){return r.indexOf(t)>-1}function iA(r){return[].concat.apply([],r)}function pC(r,t){t==null||r==null||t.forEach(function(e){return r.push(e)})}function jV(r){return r.map(qc)}function UV(r,t){if(r!=null)for(var e=r.length-1;e>=0;e--)t(r[e],e)}var WV=Object.freeze({__proto__:null,firstExistingValue:eA,existsAndNotEmpty:GV,last:ut,areEqual:Do,shallowCompare:VV,sortNumerically:tA,removeRepeatsFromArray:HV,removeFromUnorderedArray:IC,removeFromArray:Tr,removeAllFromUnorderedArray:nA,removeAllFromArray:rA,insertIntoArray:Xc,insertArrayIntoArray:BV,moveInArray:fC,includes:Kr,flatten:iA,pushAll:pC,toStrings:jV,forEachReverse:UV}),oA="__ag_Grid_Stop_Propagation",zV=["touchstart","touchend","touchmove","touchcancel","scroll"],cy={};function to(r){r[oA]=!0}function Ci(r){return r[oA]===!0}var PC=function(){var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},t=function(e){if(typeof cy[e]=="boolean")return cy[e];var n=document.createElement(r[e]||"div");return e="on"+e,cy[e]=e in n};return t}();function dh(r,t,e){for(var n=t;n;){var i=r.getDomData(n,e);if(i)return i;n=n.parentElement}return null}function fh(r,t){return!t||!r?!1:aA(t).indexOf(r)>=0}function sA(r){for(var t=[],e=r.target;e;)t.push(e),e=e.parentElement;return t}function aA(r){var t=r;return t.path?t.path:t.composedPath?t.composedPath():sA(t)}function lA(r,t,e,n){var i=Kr(zV,e),o=i?{passive:!0}:void 0;r&&r.addEventListener&&r.addEventListener(t,e,n,o)}var $V=Object.freeze({__proto__:null,stopPropagationForAgGrid:to,isStopPropagationForAgGrid:Ci,isEventSupported:PC,getCtrlForEventTarget:dh,isElementInEventPath:fh,createEventPath:sA,getEventPath:aA,addSafePassiveEventListener:lA}),sa=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Q=function(){function r(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return r.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},r.prototype.getContext=function(){return this.context},r.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:r.EVENT_DESTROYED})},r.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new ys),this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},r.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},r.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},r.prototype.addManagedListener=function(t,e,n){var i=this;if(!this.destroyed){t instanceof HTMLElement?lA(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var o=function(){return t.removeEventListener(e,n),i.destroyFunctions=i.destroyFunctions.filter(function(s){return s!==o}),null};return this.destroyFunctions.push(o),o}},r.prototype.setupGridOptionListener=function(t,e){var n=this;this.gridOptionsService.addEventListener(t,e);var i=function(){return n.gridOptionsService.removeEventListener(t,e),n.destroyFunctions=n.destroyFunctions.filter(function(o){return o!==i}),null};this.destroyFunctions.push(i)},r.prototype.addManagedPropertyListener=function(t,e){this.destroyed||this.setupGridOptionListener(t,e)},r.prototype.addManagedPropertyListeners=function(t,e){var n=this;if(!this.destroyed){var i=t.join("-")+this.propertyListenerId++,o=function(s){if(s.changeSet){if(s.changeSet&&s.changeSet.id===n.lastChangeSetIdLookup[i])return;n.lastChangeSetIdLookup[i]=s.changeSet.id}var a={type:"gridPropertyChanged",changeSet:s.changeSet};e(a)};t.forEach(function(s){return n.setupGridOptionListener(s,o)})}},r.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},r.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},r.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},r.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},r.prototype.destroyBeans=function(t,e){var n=this;return t&&t.forEach(function(i){return n.destroyBean(i,e)}),[]},r.EVENT_DESTROYED="destroyed",sa([w("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),sa([w("context")],r.prototype,"context",void 0),sa([w("eventService")],r.prototype,"eventService",void 0),sa([w("gridOptionsService")],r.prototype,"gridOptionsService",void 0),sa([w("localeService")],r.prototype,"localeService",void 0),sa([w("environment")],r.prototype,"environment",void 0),sa([Un],r.prototype,"destroy",null),r}(),KV=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YV=function(r,t){return function(e,n){t(e,n,r)}},qV=function(r){KV(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,n,i){var o=new CV,s=this.extractExistingTreeData(i),a=s.existingCols,l=s.existingGroups,u=s.existingColKeys;o.addExistingKeys(u);var c=this.recursivelyCreateColumns(e,0,n,a,o,l),d=this.findMaxDept(c,0);this.logger.log("Number of levels for grouped columns is "+d);var f=this.balanceColumnTree(c,0,d,o),p=function(h,g){h instanceof Nt&&h.setupExpandable(),h.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,f,p),{columnTree:f,treeDept:d}},t.prototype.extractExistingTreeData=function(e){var n=[],i=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(s){if(s instanceof Nt){var a=s;i.push(a)}else{var l=s;o.push(l.getId()),n.push(l)}}),{existingCols:n,existingGroups:i,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,n){var i=this;return e.map(function(o){return i.createAutoGroupTreeItem(n,o)})},t.prototype.createAutoGroupTreeItem=function(e,n){for(var i=this.findDepth(e),o=n,s=i-1;s>=0;s--){var a=new Nt(null,"FAKE_PATH_".concat(n.getId(),"}_").concat(s),!0,s);this.createBean(a),a.setChildren([o]),o.setOriginalParent(a),o=a}return i===0&&n.setOriginalParent(null),o},t.prototype.findDepth=function(e){for(var n=0,i=e;i&&i[0]&&i[0]instanceof Nt;)n++,i=i[0].getChildren();return n},t.prototype.balanceColumnTree=function(e,n,i,o){for(var s=[],a=0;a<e.length;a++){var l=e[a];if(l instanceof Nt){var u=l,c=this.balanceColumnTree(u.getChildren(),n+1,i,o);u.setChildren(c),s.push(u)}else{for(var d=void 0,f=void 0,p=i-1;p>=n;p--){var h=o.getUniqueKey(null,null),g=this.createMergedColGroupDef(null),v=new Nt(g,h,!0,n);this.createBean(v),f&&f.setChildren([v]),f=v,d||(d=f)}if(d&&f){s.push(d);var m=e.some(function(C){return C instanceof Nt});if(m){f.setChildren([l]);continue}else{f.setChildren(e);break}}s.push(l)}}return s},t.prototype.findMaxDept=function(e,n){for(var i=n,o=0;o<e.length;o++){var s=e[o];if(s instanceof Nt){var a=s,l=this.findMaxDept(a.getChildren(),n+1);i<l&&(i=l)}}return i},t.prototype.recursivelyCreateColumns=function(e,n,i,o,s,a){if(!e)return[];for(var l=new Array(e.length),u=0;u<l.length;u++){var c=e[u];this.isColumnGroup(c)?l[u]=this.createColumnGroup(i,c,n,o,s,a):l[u]=this.createColumn(i,c,o,s)}return l},t.prototype.createColumnGroup=function(e,n,i,o,s,a){var l=this.createMergedColGroupDef(n),u=s.getUniqueKey(l.groupId||null,null),c=new Nt(l,u,!1,i);this.createBean(c);var d=this.findExistingGroup(n,a);d&&a.splice(d.idx,1);var f=d?.group;f&&c.setExpanded(f.isExpanded());var p=this.recursivelyCreateColumns(l.children,i+1,e,o,s,a);return c.setChildren(p),c},t.prototype.createMergedColGroupDef=function(e){var n={};return Object.assign(n,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(n,e),n},t.prototype.createColumn=function(e,n,i,o){var s=this.findExistingColumn(n,i);s&&i?.splice(s.idx,1);var a=s?.column;if(a){var u=this.addColumnDefaultAndTypes(n,a.getColId());a.setColDef(u,n),this.applyColumnState(a,u)}else{var l=o.getUniqueKey(n.colId,n.field),u=this.addColumnDefaultAndTypes(n,l);a=new yt(u,n,l,e),this.context.createBean(a)}return this.dataTypeService.addColumnListeners(a),a},t.prototype.applyColumnState=function(e,n){var i=gs(n.flex);i!==void 0&&e.setFlex(i);var o=e.getFlex()<=0;if(o){var s=gs(n.width);if(s!=null)e.setActualWidth(s);else{var a=e.getActualWidth();e.setActualWidth(a)}}n.sort!==void 0&&(n.sort=="asc"||n.sort=="desc"?e.setSort(n.sort):e.setSort(void 0));var l=gs(n.sortIndex);l!==void 0&&e.setSortIndex(l);var u=lh(n.hide);u!==void 0&&e.setVisible(!u),n.pinned!==void 0&&e.setPinned(n.pinned)},t.prototype.findExistingColumn=function(e,n){if(n)for(var i=0;i<n.length;i++){var o=n[i].getUserProvidedColDef();if(o){var s=e.colId!=null;if(s){if(n[i].getId()===e.colId)return{idx:i,column:n[i]};continue}var a=e.field!=null;if(a){if(o.field===e.field)return{idx:i,column:n[i]};continue}if(o===e)return{idx:i,column:n[i]}}}},t.prototype.findExistingGroup=function(e,n){var i=e.groupId!=null;if(i)for(var o=0;o<n.length;o++){var s=n[o],a=s.getColGroupDef();if(a&&s.getId()===e.groupId)return{idx:o,group:s}}},t.prototype.addColumnDefaultAndTypes=function(e,n){var i={},o=this.gridOptionsService.get("defaultColDef");Ar(i,o,!1,!0);var s=this.dataTypeService.updateColDefAndGetColumnType(i,e,n);s&&this.assignColumnTypes(s,i),Ar(i,e,!1,!0);var a=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&a&&l&&Ar(i,{sort:a.sort,initialSort:a.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i},t.prototype.assignColumnTypes=function(e,n){if(e.length){var i=Object.assign({},kV),o=this.gridOptionsService.get("columnTypes")||{};Rn(o,function(s,a){if(s in i)console.warn("AG Grid: the column type '".concat(s,"' is a default column type and cannot be overridden."));else{var l=a;l.type&&Pe("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[s]=a}}),e.forEach(function(s){var a=i[s.trim()];a?Ar(n,a,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}},t.prototype.isColumnGroup=function(e){return e.children!==void 0},Lp([w("columnUtils")],t.prototype,"columnUtils",void 0),Lp([w("dataTypeService")],t.prototype,"dataTypeService",void 0),Lp([YV(0,ur("loggerFactory"))],t.prototype,"setBeans",null),t=Lp([fe("columnFactory")],t),t}(Q),XV=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tn=function(){function r(t,e,n,i){this.displayedChildren=[],this.localEventService=new ys,this.groupId=e,this.partId=n,this.providedColumnGroup=t,this.pinned=i}return r.createUniqueId=function(t,e){return t+"_"+e},r.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},r.prototype.getParent=function(){return this.parent},r.prototype.setParent=function(t){this.parent=t},r.prototype.getUniqueId=function(){return r.createUniqueId(this.groupId,this.partId)},r.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},r.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(function(e){return e.isMoving()})},r.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof r&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var t=ut(this.displayedChildren),e=t.getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_LEFT_CHANGED)))},r.prototype.getPinned=function(){return this.pinned},r.prototype.createAgEvent=function(t){return{type:t}},r.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getPartId=function(){return this.partId},r.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(n){t===n&&(e=!0),n instanceof r&&n.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},r.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},r.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},r.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},r.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},r.prototype.getDisplayedChildren=function(){return this.displayedChildren},r.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},r.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},r.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},r.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},r.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},r.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},r.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof yt?t.push(e):e instanceof r&&e.addDisplayedLeafColumns(t)})},r.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof yt?t.push(e):e instanceof r&&e.addLeafColumns(t)})},r.prototype.getChildren=function(){return this.children},r.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},r.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},r.prototype.getPaddingLevel=function(){var t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()},r.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;e!=null&&e.isPadding();)e=e.getParent();var n=e?e.providedColumnGroup.isExpandable():!1;if(!n){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(i){var o=i instanceof r&&(!i.displayedChildren||!i.displayedChildren.length);if(!o){var s=i.getColumnGroupShow();switch(s){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED))},r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",XV([w("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),_=function(){function r(){}return r.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",r.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",r.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",r.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",r.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",r.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",r.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",r.EVENT_COLUMN_MOVED="columnMoved",r.EVENT_COLUMN_VISIBLE="columnVisible",r.EVENT_COLUMN_PINNED="columnPinned",r.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",r.EVENT_COLUMN_RESIZED="columnResized",r.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",r.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",r.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",r.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",r.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",r.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",r.EVENT_ROW_GROUP_OPENED="rowGroupOpened",r.EVENT_ROW_DATA_UPDATED="rowDataUpdated",r.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",r.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",r.EVENT_CHART_CREATED="chartCreated",r.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",r.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",r.EVENT_CHART_DESTROYED="chartDestroyed",r.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",r.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",r.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",r.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",r.EVENT_MODEL_UPDATED="modelUpdated",r.EVENT_CUT_START="cutStart",r.EVENT_CUT_END="cutEnd",r.EVENT_PASTE_START="pasteStart",r.EVENT_PASTE_END="pasteEnd",r.EVENT_FILL_START="fillStart",r.EVENT_FILL_END="fillEnd",r.EVENT_RANGE_DELETE_START="rangeDeleteStart",r.EVENT_RANGE_DELETE_END="rangeDeleteEnd",r.EVENT_UNDO_STARTED="undoStarted",r.EVENT_UNDO_ENDED="undoEnded",r.EVENT_REDO_STARTED="redoStarted",r.EVENT_REDO_ENDED="redoEnded",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",r.EVENT_CELL_CLICKED="cellClicked",r.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",r.EVENT_CELL_MOUSE_DOWN="cellMouseDown",r.EVENT_CELL_CONTEXT_MENU="cellContextMenu",r.EVENT_CELL_VALUE_CHANGED="cellValueChanged",r.EVENT_CELL_EDIT_REQUEST="cellEditRequest",r.EVENT_ROW_VALUE_CHANGED="rowValueChanged",r.EVENT_CELL_FOCUSED="cellFocused",r.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",r.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_SELECTION_CHANGED="selectionChanged",r.EVENT_TOOLTIP_SHOW="tooltipShow",r.EVENT_TOOLTIP_HIDE="tooltipHide",r.EVENT_CELL_KEY_DOWN="cellKeyDown",r.EVENT_CELL_MOUSE_OVER="cellMouseOver",r.EVENT_CELL_MOUSE_OUT="cellMouseOut",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_MODIFIED="filterModified",r.EVENT_FILTER_OPENED="filterOpened",r.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",r.EVENT_ROW_CLICKED="rowClicked",r.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",r.EVENT_GRID_READY="gridReady",r.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",r.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",r.EVENT_VIEWPORT_CHANGED="viewportChanged",r.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",r.EVENT_FIRST_DATA_RENDERED="firstDataRendered",r.EVENT_DRAG_STARTED="dragStarted",r.EVENT_DRAG_STOPPED="dragStopped",r.EVENT_CHECKBOX_CHANGED="checkboxChanged",r.EVENT_ROW_EDITING_STARTED="rowEditingStarted",r.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",r.EVENT_CELL_EDITING_STARTED="cellEditingStarted",r.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",r.EVENT_BODY_SCROLL="bodyScroll",r.EVENT_BODY_SCROLL_END="bodyScrollEnd",r.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",r.EVENT_PAGINATION_CHANGED="paginationChanged",r.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",r.EVENT_STORE_REFRESHED="storeRefreshed",r.EVENT_STATE_UPDATED="stateUpdated",r.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",r.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",r.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",r.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",r.EVENT_FLASH_CELLS="flashCells",r.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",r.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",r.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",r.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",r.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",r.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",r.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",r.EVENT_ROW_DRAG_ENTER="rowDragEnter",r.EVENT_ROW_DRAG_MOVE="rowDragMove",r.EVENT_ROW_DRAG_LEAVE="rowDragLeave",r.EVENT_ROW_DRAG_END="rowDragEnd",r.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",r.EVENT_POPUP_TO_FRONT="popupToFront",r.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",r.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",r.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",r.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",r.EVENT_STORE_UPDATED="storeUpdated",r.EVENT_FILTER_DESTROYED="filterDestroyed",r.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",r.EVENT_ROW_COUNT_READY="rowCountReady",r.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",r.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",r.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",r.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",r.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",r}(),uA=function(){function r(){this.existingIds={}}return r.prototype.getInstanceIdForKey=function(t){var e=this.existingIds[t],n;return typeof e!="number"?n=0:n=e+1,this.existingIds[t]=n,n},r}(),QV=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),dy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ea="ag-Grid-AutoColumn",ZV=function(r){QV(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createAutoGroupColumns=function(e){var n=this,i=[],o=this.gridOptionsService.get("treeData"),s=this.gridOptionsService.isGroupMultiAutoColumn();return o&&s&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),s=!1),s?e.forEach(function(a,l){i.push(n.createOneAutoGroupColumn(a,l))}):i.push(this.createOneAutoGroupColumn()),i},t.prototype.updateAutoGroupColumns=function(e){var n=this;e.forEach(function(i,o){return n.updateOneAutoGroupColumn(i,o)})},t.prototype.createOneAutoGroupColumn=function(e,n){var i;e?i="".concat(Ea,"-").concat(e.getId()):i=Ea;var o=this.createAutoGroupColDef(i,e,n);o.colId=i;var s=new yt(o,null,i,!0);return this.context.createBean(s),s},t.prototype.updateOneAutoGroupColumn=function(e,n){var i=e.getColDef(),o=typeof i.showRowGroup=="string"?i.showRowGroup:void 0,s=o!=null?this.columnModel.getPrimaryColumn(o):void 0,a=this.createAutoGroupColDef(e.getId(),s??void 0,n);e.setColDef(a,null),this.columnFactory.applyColumnState(e,a)},t.prototype.createAutoGroupColDef=function(e,n,i){var o=this.createBaseColDef(n),s=this.gridOptionsService.get("autoGroupColumnDef");if(Ar(o,s),o=this.columnFactory.addColumnDefaultAndTypes(o,e),!this.gridOptionsService.get("treeData")){var a=Oe(o.field)&&Oe(o.valueGetter)&&Oe(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";a&&(o.filter=!1)}i&&i>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=o.valueGetter||o.field!=null;return l&&!u&&(o.sortIndex=void 0,o.initialSort=void 0),o},t.prototype.createBaseColDef=function(e){var n=this.gridOptionsService.get("autoGroupColumnDef"),i=this.localeService.getLocaleTextFunc(),o={headerName:i("group","Group")},s=n&&(n.cellRenderer||n.cellRendererSelector);if(s||(o.cellRenderer="agGroupCellRenderer"),e){var a=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:a.headerValueGetter}),a.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:a.cellRenderer,innerRendererParams:a.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},dy([w("columnModel")],t.prototype,"columnModel",void 0),dy([w("columnFactory")],t.prototype,"columnFactory",void 0),t=dy([fe("autoGroupColService")],t),t}(Q),JV=/[&<>"']/g,eH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tH(r){var t=String.fromCharCode;function e(d){var f=[];if(!d)return[];for(var p=d.length,h=0,g,v;h<p;)g=d.charCodeAt(h++),g>=55296&&g<=56319&&h<p?(v=d.charCodeAt(h++),(v&64512)==56320?f.push(((g&1023)<<10)+(v&1023)+65536):(f.push(g),h--)):f.push(g);return f}function n(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function i(d,f){return t(d>>f&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var f=d.toString(16).toUpperCase(),p=f.padStart(4,"0");return"_x".concat(p,"_")}if(!(d&4294967168))return t(d);var h="";return d&4294965248?d&4294901760?d&4292870144||(h=t(d>>18&7|240),h+=i(d,12),h+=i(d,6)):(n(d),h=t(d>>12&15|224),h+=i(d,6)):h=t(d>>6&31|192),h+=t(d&63|128),h}for(var s=e(r),a=s.length,l=-1,u,c="";++l<a;)u=s[l],c+=o(u);return c}function nH(r){return r[0].toUpperCase()+r.substring(1).toLowerCase()}function Kt(r,t){if(r==null)return null;var e=r.toString().toString();return t?e:e.replace(JV,function(n){return eH[n]})}function cA(r){if(!r||r==null)return null;var t=/([a-z])([A-Z])/g,e=/([A-Z]+)([A-Z])([a-z])/g,n=r.replace(t,"$1 $2").replace(e,"$1 $2$3").replace(/\./g," ").split(" ");return n.map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" ")}function dA(r){return r.replace(/[A-Z]/g,function(t){return"-".concat(t.toLocaleLowerCase())})}var rH=Object.freeze({__proto__:null,utf8_encode:tH,capitalise:nH,escapeString:Kt,camelCaseToHumanText:cA,camelCaseToHyphenated:dA});function ps(r){var t=new Map;return r.forEach(function(e){return t.set(e[0],e[1])}),t}function iH(r,t){var e=new Map;return r.forEach(function(n){return e.set(t(n),n)}),e}function oH(r){var t=[];return r.forEach(function(e,n){return t.push(n)}),t}var sH=Object.freeze({__proto__:null,convertToMap:ps,mapById:iH,keys:oH}),aH=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yn=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lH=function(r,t){return function(e,n){t(e,n,r)}},uH=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e},hi=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},gi=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},kT=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cH=function(r){aH(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var n=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(n)&&(this.pivotMode=n),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(){return e.buildAutoGroupColumns()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(i){return e.onSharedColDefChanged(i.source)}),this.addManagedPropertyListener("pivotMode",function(){return e.setPivotMode(e.gridOptionsService.get("pivotMode"))}),this.addManagedListener(this.eventService,_.EVENT_FIRST_DATA_RENDERED,function(){return e.onFirstDataRendered()})},t.prototype.buildAutoGroupColumns=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},t.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},t.prototype.onSharedColDefChanged=function(e){e===void 0&&(e="api"),this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,e))},t.prototype.setColumnDefs=function(e,n){n===void 0&&(n="api");var i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,n)},t.prototype.recreateColumnDefs=function(e){e===void 0&&(e="api"),this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,n){var i={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(s){i[s.getInstanceId()]=s}),n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(s){i[s.getInstanceId()]=null});var o=Object.values(i).filter(function(s){return s!=null});this.destroyBeans(o)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,n){var i=this;n===void 0&&(n="api");var o=e?this.compareColumnStatesAndDispatchEvents(n):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,a=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,a);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return i.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(n,s),this.extractPivotColumns(n,s),this.extractValueColumns(n,s),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(n),this.checkViewportColumns()),this.dispatchEverythingChanged(n),o&&o(),this.dispatchNewColumnsLoaded(n)},t.prototype.dispatchNewColumnsLoaded=function(e){var n={type:_.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(n),e==="gridInitializing"&&this.onColumnsReady()},t.prototype.dispatchEverythingChanged=function(e){e===void 0&&(e="api");var n={type:_.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(n)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,n=this.primaryColumns;if(n){var i=n.filter(function(s){return e.gridColumns.indexOf(s)>=0}),o=this.gridColumns.filter(function(s){return i.indexOf(s)<0});this.gridColumns=gi(gi([],hi(o),!1),hi(i),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var n=e,i=[];n!=null;)i.push(n),n=this.getDisplayedColAfter(n);return i},t.prototype.checkViewportColumns=function(e){if(e===void 0&&(e=!1),this.displayedColumnsCenter!=null){var n=this.extractViewport();if(n){var i={type:_.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(i)}}},t.prototype.setViewportPosition=function(e,n,i){i===void 0&&(i=!1),(e!==this.scrollWidth||n!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=n,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return e&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},t.prototype.setPivotMode=function(e,n){if(n===void 0&&(n="api"),!(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))&&(this.pivotMode=e,!!this.gridColumns)){this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(n);var i={type:_.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.getSecondaryPivotColumn=function(e,n){if(Oe(this.secondaryColumns))return null;var i=this.getPrimaryColumn(n),o=null;return this.secondaryColumns.forEach(function(s){var a=s.getColDef().pivotKeys,l=s.getColDef().pivotValueColumn,u=Do(a,e),c=l===i;u&&c&&(o=s)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var n,i;this.gridOptionsService.get("enableRtl")?(n=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?ut(this.displayedColumnsRight):null):(n=this.displayedColumnsLeft?ut(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===n,e),o.setFirstRightPinned(o===i,e)})},t.prototype.autoSizeColumns=function(e){var n=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return n.autoSizeColumns(e)});return}var i=e.columns,o=e.skipHeader,s=e.skipHeaderGroups,a=e.stopAtGroup,l=e.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,f=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),p=s??f;d!==0;)d=0,this.actionOnGridColumns(i,function(h){if(c.indexOf(h)>=0)return!1;var g=n.autoWidthCalculator.getPreferredWidthForColumn(h,f);if(g>0){var v=n.normaliseColumnWidth(h,g);h.setActualWidth(v,u),c.push(h),d++}return!0},u);p||this.autoSizeColumnGroupsByColumns(i,u,a),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},t.prototype.dispatchColumnResizedEvent=function(e,n,i,o){if(o===void 0&&(o=null),e&&e.length){var s={type:_.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:o,finished:n,source:i};this.eventService.dispatchEvent(s)}},t.prototype.dispatchColumnChangedEvent=function(e,n,i){var o={type:e,columns:n,column:n&&n.length==1?n[0]:null,source:i};this.eventService.dispatchEvent(o)},t.prototype.dispatchColumnMovedEvent=function(e){var n=e.movedColumns,i=e.source,o=e.toIndex,s=e.finished,a={type:_.EVENT_COLUMN_MOVED,columns:n,column:n&&n.length===1?n[0]:null,toIndex:o,finished:s,source:i};this.eventService.dispatchEvent(a)},t.prototype.dispatchColumnPinnedEvent=function(e,n){if(e.length){var i=e.length===1?e[0]:null,o=this.getCommonValue(e,function(a){return a.getPinned()}),s={type:_.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:i,source:n};this.eventService.dispatchEvent(s)}},t.prototype.dispatchColumnVisibleEvent=function(e,n){if(e.length){var i=e.length===1?e[0]:null,o=this.getCommonValue(e,function(a){return a.isVisible()}),s={type:_.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:i,source:n};this.eventService.dispatchEvent(s)}},t.prototype.autoSizeColumn=function(e,n,i){i===void 0&&(i="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:n,skipHeaderGroups:!0,source:i})},t.prototype.autoSizeColumnGroupsByColumns=function(e,n,i){var o,s,a,l,u=new Set,c=this.getGridColumns(e);c.forEach(function(y){for(var x=y.getParent();x&&x!=i;)x.isPadding()||u.add(x),x=x.getParent()});var d,f=[];try{for(var p=kT(u),h=p.next();!h.done;h=p.next()){var g=h.value;try{for(var v=(a=void 0,kT(this.ctrlsService.getHeaderRowContainerCtrls())),m=v.next();!m.done;m=v.next()){var C=m.value;if(d=C.getHeaderCtrlForColumn(g),d)break}}catch(y){a={error:y}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}d&&d.resizeLeafColumnsToFit(n)}}catch(y){o={error:y}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}return f},t.prototype.autoSizeAllColumns=function(e,n){var i=this;if(n===void 0&&(n="api"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return i.autoSizeAllColumns(e,n)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:e,source:n})},t.prototype.getColumnsFromTree=function(e){var n=[],i=function(o){for(var s=0;s<o.length;s++){var a=o[s];a instanceof yt?n.push(a):a instanceof Nt&&i(a.getChildren())}};return i(e),n},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,n,i,o){for(var s=[],a=null,l=function(d){var f=n[d],p=n.length-d,h=Math.min(f.getColSpan(e),p),g=[f];if(h>1){for(var v=h-1,m=1;m<=v;m++)g.push(n[d+m]);d+=v}var C;if(i?(C=!1,g.forEach(function(x){i(x)&&(C=!0)})):C=!0,C){if(s.length===0&&a){var y=o?o(f):!1;y&&s.push(a)}s.push(f)}a=f,u=d},u,c=0;c<n.length;c++)l(c),c=u;return s},t.prototype.getViewportCenterColumnsForRow=function(e){var n=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var i=function(s){var a=s.getLeft();return X(a)&&a>n.viewportLeft},o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,i)},t.prototype.isColumnAtEdge=function(e,n){var i=this.getAllDisplayedColumns();if(!i.length)return!1;var o=n==="first",s;if(e instanceof tn){var a=e.getDisplayedLeafColumns();if(!a.length)return!1;s=o?a[0]:ut(a)}else s=e;return(o?i[0]:ut(i))===s},t.prototype.getAriaColumnIndex=function(e){var n;return e instanceof tn?n=e.getLeafColumns()[0]:n=e,this.getAllGridColumns().indexOf(n)+1},t.prototype.isColumnInHeaderViewport=function(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var n=e.getLeft()||0,i=n+e.getActualWidth(),o=this.viewportLeft-200,s=this.viewportRight+200,a=n<o&&i<o,l=n>s&&i>s;return!a&&!l},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,n,i,o,s,a){var l=this;if(a===void 0&&(a="api"),!(!e||lr(e))){var u=!1;if(e.forEach(function(d){var f=l.getPrimaryColumn(d);if(f){if(i){if(n.indexOf(f)>=0)return;n.push(f)}else{if(n.indexOf(f)<0)return;Tr(n,f)}o(f),u=!0}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a);var c={type:s,columns:n,column:n.length===1?n[0]:null,source:a};this.eventService.dispatchEvent(c)}}},t.prototype.setRowGroupColumns=function(e,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,_.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),n)},t.prototype.setRowGroupActive=function(e,n,i){e!==n.isRowGroupActive()&&(n.setRowGroupActive(e,i),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnVisible(n,!1,i),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(n,!0,i))},t.prototype.addRowGroupColumn=function(e,n){n===void 0&&(n="api"),e&&this.addRowGroupColumns([e],n)},t.prototype.addRowGroupColumns=function(e,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),_.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumns=function(e,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),_.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumn=function(e,n){n===void 0&&(n="api"),e&&this.removeRowGroupColumns([e],n)},t.prototype.addPivotColumns=function(e,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,n)},_.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.setPivotColumns=function(e,n){n===void 0&&(n="api"),this.setPrimaryColumnList(e,this.pivotColumns,_.EVENT_COLUMN_PIVOT_CHANGED,!0,function(i,o){o.setPivotActive(i,n)},n)},t.prototype.addPivotColumn=function(e,n){n===void 0&&(n="api"),this.addPivotColumns([e],n)},t.prototype.removePivotColumns=function(e,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,n)},_.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.removePivotColumn=function(e,n){n===void 0&&(n="api"),this.removePivotColumns([e],n)},t.prototype.setPrimaryColumnList=function(e,n,i,o,s,a){var l=this;if(this.gridColumns){var u=new Map;n.forEach(function(c,d){return u.set(c,d)}),n.length=0,X(e)&&e.forEach(function(c){var d=l.getPrimaryColumn(c);d&&n.push(d)}),n.forEach(function(c,d){var f=u.get(c);if(f===void 0){u.set(c,0);return}o&&f!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=n.indexOf(c)>=0;s(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.dispatchColumnChangedEvent(i,gi([],hi(u.keys()),!1),a)}},t.prototype.setValueColumns=function(e,n){n===void 0&&(n="api"),this.setPrimaryColumnList(e,this.valueColumns,_.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),n)},t.prototype.setValueActive=function(e,n,i){if(e!==n.isValueActive()&&(n.setValueActive(e,i),e&&!n.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(n);n.setAggFunc(o)}},t.prototype.addValueColumns=function(e,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),_.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.addValueColumn=function(e,n){n===void 0&&(n="api"),e&&this.addValueColumns([e],n)},t.prototype.removeValueColumn=function(e,n){n===void 0&&(n="api"),this.removeValueColumns([e],n)},t.prototype.removeValueColumns=function(e,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),_.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.normaliseColumnWidth=function(e,n){var i=e.getMinWidth();X(i)&&n<i&&(n=i);var o=e.getMaxWidth();return X(o)&&e.isGreaterThanMax(n)&&(n=o),n},t.prototype.getPrimaryOrGridColumn=function(e){var n=this.getPrimaryColumn(e);return n||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,n,i,o){var s=this;o===void 0&&(o="api");var a=[];e.forEach(function(l){var u=s.getPrimaryOrGridColumn(l.key);if(u){a.push({width:l.newWidth,ratios:[1],columns:[u]});var c=s.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(n=!n),n){var d=s.getDisplayedColAfter(u);if(!d)return;var f=u.getActualWidth()-l.newWidth,p=d.getActualWidth()+f;a.push({width:p,ratios:[1],columns:[d]})}}}),a.length!==0&&this.resizeColumnSets({resizeSets:a,finished:i,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var n=e.columns,i=e.width,o=0,s=0,a=!0;n.forEach(function(c){var d=c.getMinWidth();o+=d||0;var f=c.getMaxWidth();X(f)&&f>0?s+=f:a=!1});var l=i>=o,u=!a||i<=s;return l&&u},t.prototype.resizeColumnSets=function(e){var n=this,i=e.resizeSets,o=e.finished,s=e.source,a=!i||i.every(function(h){return n.checkMinAndMaxWidthsForSet(h)});if(!a){if(o){var l=i&&i.length>0?i[0].columns:null;this.dispatchColumnResizedEvent(l,o,s)}return}var u=[],c=[];i.forEach(function(h){var g=h.width,v=h.columns,m=h.ratios,C={},y={};v.forEach(function(O){return c.push(O)});for(var x=!0,P=0,R=function(){if(P++,P>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";x=!1;var O=[],I=0,k=g;v.forEach(function(L,ee){var de=y[L.getId()];if(de)k-=C[L.getId()];else{O.push(L);var te=m[ee];I+=te}});var G=1/I;O.forEach(function(L,ee){var de=ee===O.length-1,te;de?te=k:(te=Math.round(m[ee]*g*G),k-=te);var Ce=L.getMinWidth(),se=L.getMaxWidth();X(Ce)&&te<Ce?(te=Ce,y[L.getId()]=!0,x=!0):X(se)&&se>0&&te>se&&(te=se,y[L.getId()]=!0,x=!0),C[L.getId()]=te})};x;){var E=R();if(E==="break")break}v.forEach(function(O){var I=C[O.getId()],k=O.getActualWidth();k!==I&&(O.setActualWidth(I,s),u.push(O))})});var d=u.length>0,f=[];d&&(f=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var p=c.concat(f);(d||o)&&this.dispatchColumnResizedEvent(p,o,s,f)},t.prototype.setColumnAggFunc=function(e,n,i){if(i===void 0&&(i="api"),!!e){var o=this.getPrimaryColumn(e);o&&(o.setAggFunc(n),this.dispatchColumnChangedEvent(_.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},t.prototype.moveRowGroupColumn=function(e,n,i){if(i===void 0&&(i="api"),!this.isRowGroupEmpty()){var o=this.rowGroupColumns[e],s=this.rowGroupColumns.slice(e,n);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(n,0,o);var a={type:_.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:s.length===1?s[0]:null,source:i};this.eventService.dispatchEvent(a)}},t.prototype.moveColumns=function(e,n,i,o){if(i===void 0&&(i="api"),o===void 0&&(o=!0),!!this.gridColumns){if(this.columnAnimationService.start(),n>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+n),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var s=this.getGridColumns(e),a=!this.doesMovePassRules(s,n);a||(fC(this.gridColumns,s,n),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:s,source:i,toIndex:n,finished:o}),this.columnAnimationService.finish())}},t.prototype.doesMovePassRules=function(e,n){var i=this.getProposedColumnOrder(e,n);return this.doesOrderPassRules(i)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,n){var i=this.gridColumns.slice();return fC(i,e,n),i},t.prototype.sortColumnsLikeGridColumns=function(e){var n=this;if(!(!e||e.length<=1)){var i=e.filter(function(o){return n.gridColumns.indexOf(o)<0}).length>0;i||e.sort(function(o,s){var a=n.gridColumns.indexOf(o),l=n.gridColumns.indexOf(s);return a-l})}},t.prototype.doesMovePassLockedPositions=function(e){var n=0,i=!0,o=function(s){return s?s===!0||s==="left"?0:2:1};return e.forEach(function(s){var a=o(s.getColDef().lockPosition);a<n&&(i=!1),n=a}),i},t.prototype.doesMovePassMarryChildren=function(e){var n=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof Nt){var o=i,s=o.getColGroupDef(),a=s&&s.marryChildren;if(a){var l=[];o.getLeafColumns().forEach(function(p){var h=e.indexOf(p);l.push(h)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,f=o.getLeafColumns().length-1;d>f&&(n=!1)}}}),n},t.prototype.moveColumn=function(e,n,i){i===void 0&&(i="api"),this.moveColumns([e],n,i)},t.prototype.moveColumnByIndex=function(e,n,i){if(i===void 0&&(i="api"),!!this.gridColumns){var o=this.gridColumns[e];this.moveColumn(o,n,i)}},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var n=this.primaryColumns.slice();return this.gridColsArePrimary?n.sort(function(i,o){return e.gridColumns.indexOf(i)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&n.sort(function(i,o){return e.lastPrimaryOrder.indexOf(i)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(n,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),n=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e;var o=this.bodyWidth!==e||this.leftWidth!==n||this.rightWidth!==i;if(o){this.bodyWidth=e,this.leftWidth=n,this.rightWidth=i;var s={type:_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){var e;return(e=this.gridColumns)!==null&&e!==void 0?e:[]},t.prototype.isEmpty=function(){return lr(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return lr(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,n,i){i===void 0&&(i="api"),this.setColumnsVisible([e],n,i)},t.prototype.setColumnsVisible=function(e,n,i){n===void 0&&(n=!1),i===void 0&&(i="api"),this.applyColumnState({state:e.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!n}})},i)},t.prototype.setColumnPinned=function(e,n,i){i===void 0&&(i="api"),e&&this.setColumnsPinned([e],n,i)},t.prototype.setColumnsPinned=function(e,n,i){if(i===void 0&&(i="api"),!!this.gridColumns){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;n===!0||n==="left"?o="left":n==="right"?o="right":o=null,this.actionOnGridColumns(e,function(s){return s.getPinned()!==o?(s.setPinned(o),!0):!1},i,function(){var s={type:_.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i};return s}),this.columnAnimationService.finish()}},t.prototype.actionOnGridColumns=function(e,n,i,o){var s=this;if(!lr(e)){var a=[];if(e.forEach(function(u){var c=s.getGridColumn(u);if(c){var d=n(c);d!==!1&&a.push(c)}}),!!a.length&&(this.updateDisplayedColumns(i),X(o)&&o)){var l=o();l.columns=a,l.column=a.length===1?a[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var n=this.getAllDisplayedColumns(),i=n.indexOf(e);return i>0?n[i-1]:null},t.prototype.getDisplayedColAfter=function(e){var n=this.getAllDisplayedColumns(),i=n.indexOf(e);return i<n.length-1?n[i+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,n){for(var i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),s=n==="After"?ut(o):o[0],a="getDisplayedCol".concat(n);;){var l=this[a](s);if(!l)return null;var u=this.getColumnGroupAtLevel(l,i);if(u!==e)return u}},t.prototype.getColumnGroupAtLevel=function(e,n){for(var i=e.getParent(),o,s;;){var a=i.getProvidedColumnGroup();if(o=a.getLevel(),s=i.getPaddingLevel(),o+s<=n)break;i=i.getParent()}return i},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var n=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,s=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null,u={colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:a,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:i,flex:l};return u},t.prototype.getColumnState=function(){if(Oe(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns(),n=e.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(n),n},t.prototype.orderColumnStateList=function(e){var n=ps(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));e.sort(function(i,o){var s=n.has(i.colId)?n.get(i.colId):-1,a=n.has(o.colId)?n.get(o.colId):-1;return s-a})},t.prototype.resetColumnState=function(e){var n=this;if(e===void 0&&(e="api"),!lr(this.primaryColumns)){var i=this.getColumnsFromTree(this.primaryColumnTree),o=[],s=1e3,a=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),i&&(l=l.concat(i)),l.forEach(function(u){var c=n.getColumnStateFromColDef(u);Oe(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=s++),Oe(c.pivotIndex)&&c.pivot&&(c.pivotIndex=a++),o.push(c)}),this.applyColumnState({state:o,applyOrder:!0},e)}},t.prototype.getColumnStateFromColDef=function(e){var n=function(v,m){return v??m??null},i=e.getColDef(),o=n(i.sort,i.initialSort),s=n(i.sortIndex,i.initialSortIndex),a=n(i.hide,i.initialHide),l=n(i.pinned,i.initialPinned),u=n(i.width,i.initialWidth),c=n(i.flex,i.initialFlex),d=n(i.rowGroupIndex,i.initialRowGroupIndex),f=n(i.rowGroup,i.initialRowGroup);d==null&&(f==null||f==!1)&&(d=null,f=null);var p=n(i.pivotIndex,i.initialPivotIndex),h=n(i.pivot,i.initialPivot);p==null&&(h==null||h==!1)&&(p=null,h=null);var g=n(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:s,hide:a,pinned:l,width:u,flex:c,rowGroup:f,rowGroupIndex:d,pivot:h,pivotIndex:p,aggFunc:g}},t.prototype.applyColumnState=function(e,n){var i=this;if(lr(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var f=i.compareColumnStatesAndDispatchEvents(n);i.autoGroupsNeedBuilding=!0;var p=c.slice(),h={},g={},v=[],m=[],C=0,y=i.rowGroupColumns.slice(),x=i.pivotColumns.slice();u.forEach(function(O){var I=O.colId||"",k=I.startsWith(Ea);if(k){v.push(O),m.push(O);return}var G=d(I);G?(i.syncColumnWithStateItem(G,O,e.defaultState,h,g,!1,n),Tr(p,G)):(m.push(O),C+=1)});var P=function(O){return i.syncColumnWithStateItem(O,null,e.defaultState,h,g,!1,n)};p.forEach(P);var R=function(O,I,k,G){var L=O[k.getId()],ee=O[G.getId()],de=L!=null,te=ee!=null;if(de&&te)return L-ee;if(de)return-1;if(te)return 1;var Ce=I.indexOf(k),se=I.indexOf(G),Fe=Ce>=0,le=se>=0;return Fe&&le?Ce-se:Fe?-1:1};i.rowGroupColumns.sort(R.bind(i,h,y)),i.pivotColumns.sort(R.bind(i,g,x)),i.updateGridColumns();var E=i.groupAutoColumns?i.groupAutoColumns.slice():[];return v.forEach(function(O){var I=i.getAutoColumn(O.colId);Tr(E,I),i.syncColumnWithStateItem(I,O,e.defaultState,null,null,!0,n)}),E.forEach(P),i.applyOrderAfterApplyState(e),i.updateDisplayedColumns(n),i.dispatchEverythingChanged(n),f(),{unmatchedAndAutoStates:m,unmatchedCount:C}};this.columnAnimationService.start();var s=o(e.state||[],this.primaryColumns||[],function(u){return i.getPrimaryColumn(u)}),a=s.unmatchedAndAutoStates,l=s.unmatchedCount;return(a.length>0||X(e.defaultState))&&(l=o(a,this.secondaryColumns||[],function(u){return i.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},t.prototype.applyOrderAfterApplyState=function(e){var n=this;if(!(!e.applyOrder||!e.state)){var i=[],o={};e.state.forEach(function(a){if(!(!a.colId||o[a.colId])){var l=n.gridColumnsMap[a.colId];l&&(i.push(l),o[a.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(a){var l=a.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(Ea);c?Xc(i,a,s++):i.push(a)}}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=i}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var n=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),s={};return o.forEach(function(a){s[a.colId]=a}),function(){var a=n.getPrimaryAndSecondaryAndAutoColumns(),l=function(m,C,y,x){var P=C.map(x),R=y.map(x),E=Do(P,R);if(!E){var O=new Set(C);y.forEach(function(G){O.delete(G)||O.add(G)});var I=gi([],hi(O),!1),k={type:m,columns:I,column:I.length===1?I[0]:null,source:e};n.eventService.dispatchEvent(k)}},u=function(m){var C=[];return a.forEach(function(y){var x=s[y.getColId()];x&&m(x,y)&&C.push(y)}),C},c=function(m){return m.getColId()};l(_.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,n.rowGroupColumns,c),l(_.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,n.pivotColumns,c);var d=function(m,C){var y=m.aggFunc!=null,x=y!=C.isValueActive(),P=y&&m.aggFunc!=C.getAggFunc();return x||P},f=u(d);f.length>0&&n.dispatchColumnChangedEvent(_.EVENT_COLUMN_VALUE_CHANGED,f,e);var p=function(m,C){return m.width!=C.getActualWidth()};n.dispatchColumnResizedEvent(u(p),!0,e);var h=function(m,C){return m.pinned!=C.getPinned()};n.dispatchColumnPinnedEvent(u(h),e);var g=function(m,C){return m.hide==C.isVisible()};n.dispatchColumnVisibleEvent(u(g),e);var v=function(m,C){return m.sort!=C.getSort()||m.sortIndex!=C.getSortIndex()};u(v).length>0&&n.sortController.dispatchSortChangedEvents(e),n.normaliseColumnMovedEventForColumnState(o,e)}},t.prototype.getCommonValue=function(e,n){if(!(!e||e.length==0)){for(var i=n(e[0]),o=1;o<e.length;o++)if(i!==n(e[o]))return;return i}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,n){var i=this,o=this.getColumnState(),s={};o.forEach(function(d){return s[d.colId]=d});var a={};e.forEach(function(d){s[d.colId]&&(a[d.colId]=!0)});var l=e.filter(function(d){return a[d.colId]}),u=o.filter(function(d){return a[d.colId]}),c=[];u.forEach(function(d,f){var p=l&&l[f];if(p&&p.colId!==d.colId){var h=i.getGridColumn(p.colId);h&&c.push(h)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:n,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,n,i,o,s,a,l){if(e){var u=function(I,k){var G={value1:void 0,value2:void 0},L=!1;return n&&(n[I]!==void 0&&(G.value1=n[I],L=!0),X(k)&&n[k]!==void 0&&(G.value2=n[k],L=!0)),!L&&i&&(i[I]!==void 0&&(G.value1=i[I]),X(k)&&i[k]!==void 0&&(G.value2=i[k])),G},c=u("hide").value1;c!==void 0&&e.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&e.setPinned(d);var f=this.columnUtils.calculateColMinWidth(e.getColDef()),p=u("flex").value1;p!==void 0&&e.setFlex(p);var h=e.getFlex()<=0;if(h){var g=u("width").value1;g!=null&&f!=null&&g>=f&&e.setActualWidth(g,l)}var v=u("sort").value1;v!==void 0&&(v==="desc"||v==="asc"?e.setSort(v,l):e.setSort(void 0,l));var m=u("sortIndex").value1;if(m!==void 0&&e.setSortIndex(m),!(a||!e.isPrimary())){var C=u("aggFunc").value1;C!==void 0&&(typeof C=="string"?(e.setAggFunc(C),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(X(C)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),Tr(this.valueColumns,e))));var y=u("rowGroup","rowGroupIndex"),x=y.value1,P=y.value2;(x!==void 0||P!==void 0)&&(typeof P=="number"||x?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),o&&typeof P=="number"&&(o[e.getId()]=P)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),Tr(this.rowGroupColumns,e)));var R=u("pivot","pivotIndex"),E=R.value1,O=R.value2;(E!==void 0||O!==void 0)&&(typeof O=="number"||E?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),s&&typeof O=="number"&&(s[e.getId()]=O)):e.isPivotActive()&&(e.setPivotActive(!1,l),Tr(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,n){var i=[];return e&&e.forEach(function(o){var s=n(o);s&&i.push(s)}),i},t.prototype.getColumnWithValidation=function(e){if(e==null)return null;var n=this.getGridColumn(e);return n||console.warn("AG Grid: could not find column "+e),n},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.lookupGridColumn=function(e){return this.gridColumnsMap[e]},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,n,i){if(!e||!i)return null;if(typeof e=="string"&&i[e])return i[e];for(var o=0;o<n.length;o++)if(this.columnsMatch(n[o],e))return n[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var n=e.getColDef().showRowGroup;if(!n)return null;if(n===!0)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(n);return i?[i]:null},t.prototype.getAutoColumn=function(e){var n=this;return!this.groupAutoColumns||!X(this.groupAutoColumns)||Oe(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(i){return n.columnsMatch(i,e)})||null},t.prototype.columnsMatch=function(e,n){var i=e===n,o=e.getColDef()===n,s=e.getColId()==n;return i||o||s},t.prototype.getDisplayNameForColumn=function(e,n,i){if(i===void 0&&(i=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,n);return i?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,n,i){var o=n?n.getColGroupDef():null;return o?this.getHeaderName(o,null,e,n,i):null},t.prototype.getDisplayNameForColumnGroup=function(e,n){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),n)},t.prototype.getHeaderName=function(e,n,i,o,s){var a=e.headerValueGetter;if(a){var l={colDef:e,column:n,columnGroup:i,providedColumnGroup:o,location:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return typeof a=="function"?a(l):typeof a=="string"?this.expressionService.evaluate(a,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return cA(e.field)}return""},t.prototype.wrapHeaderNameWithAggFunc=function(e,n){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return n;var i=e.getColDef().pivotValueColumn,o=X(i),s=null,a;if(o){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=e.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return n;s=i?i.getAggFunc():null,a=!0}else{var c=e.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(s=e.getAggFunc(),a=!0):a=!1}if(a){var f=typeof s=="string"?s:"func",p=this.localeService.getLocaleTextFunc(),h=p(f,f);return"".concat(h,"(").concat(n,")")}return n},t.prototype.getColumnGroup=function(e,n){if(!e)return null;if(e instanceof tn)return e;var i=this.getAllDisplayedTrees(),o=typeof n=="number",s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(a){if(a instanceof tn){var l=a,u=void 0;o?u=e===l.getGroupId()&&n===l.getPartId():u=e===l.getGroupId(),u&&(s=l)}}),s},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,n){this.valueColumns=this.extractColumns(n,this.valueColumns,function(i,o){return i.setValueActive(o,e)},function(){},function(){},function(i){var o=i.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(i){return i.initialAggFunc!=null&&i.initialAggFunc!=""}),this.valueColumns.forEach(function(i){var o=i.getColDef();o.aggFunc!=null&&o.aggFunc!=""?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,n){this.rowGroupColumns=this.extractColumns(n,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,e)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},t.prototype.extractColumns=function(e,n,i,o,s,a,l){e===void 0&&(e=[]),n===void 0&&(n=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(p){var h=e.indexOf(p)<0,g=p.getColDef(),v=lh(a(g)),m=lh(l(g)),C=gs(o(g)),y=gs(s(g)),x,P=v!==void 0,R=C!==void 0,E=m!==void 0,O=y!==void 0;if(P?x=v:R?C===null?x=!1:x=C>=0:h?E?x=m:O?x=y!=null&&y>=0:x=!1:x=n.indexOf(p)>=0,x){var I=h?C!=null||y!=null:C!=null;I?u.push(p):c.push(p)}});var d=function(p){var h=o(p.getColDef()),g=s(p.getColDef());return h??g};u.sort(function(p,h){var g=d(p),v=d(h);return g===v?0:g<v?-1:1});var f=[].concat(u);return n.forEach(function(p){c.indexOf(p)>=0&&f.push(p)}),c.forEach(function(p){f.indexOf(p)<0&&f.push(p)}),n.forEach(function(p){f.indexOf(p)<0&&i(p,!1)}),f.forEach(function(p){n.indexOf(p)<0&&i(p,!0)}),f},t.prototype.extractPivotColumns=function(e,n){this.pivotColumns=this.extractColumns(n,this.pivotColumns,function(i,o){return i.setPivotActive(o,e)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},t.prototype.resetColumnGroupState=function(e){if(e===void 0&&(e="api"),!!this.primaryColumnTree){var n=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof Nt){var o=i.getColGroupDef(),s={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof Nt&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,n){var i=this;if(n===void 0&&(n="api"),!!this.gridBalancedTree){this.columnAnimationService.start();var o=[];if(e.forEach(function(a){var l=a.groupId,u=a.open,c=i.getProvidedColumnGroup(l);c&&c.isExpanded()!==u&&(i.logger.log("columnGroupOpened("+c.getGroupId()+","+u+")"),c.setExpanded(u),o.push(c))}),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n),o.length){var s={type:_.EVENT_COLUMN_GROUP_OPENED,columnGroup:Nt.length===1?o[0]:void 0,columnGroups:o};this.eventService.dispatchEvent(s)}this.columnAnimationService.finish()}},t.prototype.setColumnGroupOpened=function(e,n,i){i===void 0&&(i="api");var o;e instanceof Nt?o=e.getId():o=e||"",this.setColumnGroupState([{groupId:o,open:n}],i)},t.prototype.getProvidedColumnGroup=function(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");var n=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof Nt&&i.getId()===e&&(n=i)}),n},t.prototype.calculateColumnsForDisplay=function(){var e=this,n;return this.pivotMode&&Oe(this.secondaryColumns)?n=this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&Kr(e.groupAutoColumns,i),s=e.valueColumns&&Kr(e.valueColumns,i);return o||s}):n=this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&Kr(e.groupAutoColumns,i);return o||i.isVisible()}),n},t.prototype.checkColSpanActiveInCols=function(e){var n=!1;return e.forEach(function(i){X(i.getColDef().colSpan)&&(n=!0)}),n},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var n=function(i){var o=i.getColDef(),s=o.showRowGroup;o&&X(s)&&(e.groupDisplayColumns.push(i),typeof s=="string"?e.groupDisplayColumnsMap[s]=i:s===!0&&e.getRowGroupColumns().forEach(function(a){e.groupDisplayColumnsMap[a.getId()]=i}))};this.gridColumns.forEach(n)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var n=this.calculateColumnsForDisplay();this.buildDisplayedTrees(n),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return X(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,n){var i=this;if(n===void 0&&(n="api"),!!this.gridColumns){var o=e&&e.length>0;if(!(!o&&Oe(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(e);var s=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(a){return i.secondaryColumnsMap[a.getId()]=a}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(n)}}},t.prototype.processSecondaryColumnDefinitions=function(e){var n=this.gridOptionsService.get("processPivotResultColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef");if(!(!n&&!i)){var o=function(s){s.forEach(function(a){var l=X(a.children);if(l){var u=a;i&&i(u),o(u.children)}else{var c=a;n&&n(c)}})};e&&o(e)}},t.prototype.updateGridColumns=function(){var e=this,n=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var i;if(this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(u){return e.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(i=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,i=this.lastPrimaryOrder);var s=this.createGroupAutoColumnsIfNeeded();if(s&&i){var a=ps(this.groupAutoColumns.map(function(u){return[u,!0]}));i=i.filter(function(u){return!a.has(u)}),i=gi(gi([],hi(this.groupAutoColumns),!1),hi(i),!1)}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(i),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return e.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!Do(n,this.gridBalancedTree)){var l={type:_.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(n){return n.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");e||Pe("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}},t.prototype.orderGridColsLike=function(e){if(!Oe(e)){var n=ps(e.map(function(c,d){return[c,d]})),i=!0;if(this.gridColumns.forEach(function(c){n.has(c)&&(i=!1)}),!i){var o=ps(this.gridColumns.map(function(c){return[c,!0]})),s=e.filter(function(c){return o.has(c)}),a=ps(s.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!a.has(c)}),u=s.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var f=[];!f.length&&d;){var p=d.getLeafColumns();p.forEach(function(v){var m=u.indexOf(v)>=0,C=f.indexOf(v)<0;m&&C&&f.push(v)}),d=d.getOriginalParent()}if(!f.length){u.push(c);return}var h=f.map(function(v){return u.indexOf(v)}),g=Math.max.apply(Math,gi([],hi(h),!1));Xc(u,c,g+1)}),this.gridColumns=u}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,n=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&e!==void 0?e:[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?n:n.filter(function(i){return i.isVisible()||i.isRowGroupActive()})},t.prototype.placeLockedColumns=function(e){var n=[],i=[],o=[];return e.forEach(function(s){var a=s.getColDef().lockPosition;a==="right"?o.push(s):a==="left"||a===!0?n.push(s):i.push(s)}),gi(gi(gi([],hi(n),!1),hi(i),!1),hi(o),!1)},t.prototype.addAutoGroupToGridColumns=function(){if(Oe(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var n={type:_.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(n){return n.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var n=this;if(this.primaryColumns){var i=this.primaryColumns.slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(o){var a=n.getWidthOfColsInList(s);s.forEach(function(u){a-=u.getActualWidth(),u.setLeft(a,e)})}else{var l=0;s.forEach(function(u){u.setLeft(l,e),l+=u.getActualWidth()})}nA(i,s)}),i.forEach(function(s){s.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(n){if(n instanceof tn){var i=n;i.checkLeft()}})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,n){n.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(i){i instanceof yt&&n.push(i)})},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,n){var i;switch(e){case"left":i=this.viewportRowLeft[n];break;case"right":i=this.viewportRowRight[n];break;default:i=this.viewportRowCenter[n];break}return Oe(i)&&(i=[]),i},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(i){return e[i.getId()]=!0});var n=function(i,o,s){for(var a=!1,l=0;l<i.length;l++){var u=i[l],c=!1;if(u instanceof yt)c=e[u.getId()]===!0;else{var d=u,f=d.getDisplayedChildren();f&&(c=n(f,o,s+1))}c&&(a=!0,o[s]||(o[s]=[]),o[s].push(u))}return a};n(this.displayedTreeLeft,this.viewportRowLeft,0),n(this.displayedTreeRight,this.viewportRowRight,0),n(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){var e=function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")};this.extractViewportColumns();var n=this.viewportColumns.map(e).join("#"),i=this.viewportColumnsHash!==n;return i&&(this.viewportColumnsHash=n,this.calculateHeaderRows()),i},t.prototype.refreshFlexedColumns=function(e){var n;e===void 0&&(e={});var i=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(e.resizingCols){for(var s=new Set(e.resizingCols),a=this.displayedColumnsCenter,l=a.length-1;l>=0;l--)if(s.has(a[l])){o=l;break}}for(var u=0,c=[],d=0,f=0,l=0;l<this.displayedColumnsCenter.length;l++){var p=this.displayedColumnsCenter[l].getFlex()&&l>o;p?(c.push(this.displayedColumnsCenter[l]),f+=this.displayedColumnsCenter[l].getFlex(),d+=(n=this.displayedColumnsCenter[l].getMinWidth())!==null&&n!==void 0?n:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var h=[];u+d>this.flexViewportWidth&&(c.forEach(function(O){var I;return O.setActualWidth((I=O.getMinWidth())!==null&&I!==void 0?I:0,i)}),h=c,c=[]);var g=[],v;e:for(;;){v=this.flexViewportWidth-u;for(var m=v/f,l=0;l<c.length;l++){var C=c[l],y=m*C.getFlex(),x=0,P=C.getMinWidth(),R=C.getMaxWidth();if(X(P)&&y<P?x=P:X(R)&&y>R&&(x=R),x){C.setActualWidth(x,i),IC(c,C),f-=C.getFlex(),h.push(C),u+=C.getActualWidth();continue e}g[l]=Math.round(y)}break}var E=v;return c.forEach(function(O,I){O.setActualWidth(Math.min(g[I],E),i),h.push(O),E-=g[I]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(h,!0,i,c),c},t.prototype.sizeColumnsToFit=function(e,n,i,o){var s=this,a,l,u,c,d;if(n===void 0&&(n="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return s.sizeColumnsToFit(e,n,i,o)});return}var f={};o&&((a=o?.columnLimits)===null||a===void 0||a.forEach(function(se){var Fe=se.key,le=uH(se,["key"]);f[typeof Fe=="string"?Fe:Fe.getColId()]=le}));var p=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(p);if(!(e<=0||!p.length||h)){var g=[],v=[];p.forEach(function(se){se.getColDef().suppressSizeToFit===!0?v.push(se):g.push(se)});var m=g.slice(0),C=!1,y=function(se){Tr(g,se),v.push(se)};for(g.forEach(function(se){var Fe,le;se.resetActualWidth(n);var _e=f?.[se.getId()],Z=(Fe=_e?.minWidth)!==null&&Fe!==void 0?Fe:o?.defaultMinWidth,M=(le=_e?.maxWidth)!==null&&le!==void 0?le:o?.defaultMaxWidth,U=se.getActualWidth();typeof Z=="number"&&U<Z?se.setActualWidth(Z,n,!0):typeof M=="number"&&U>M&&se.setActualWidth(M,n,!0)});!C;){C=!0;var x=e-this.getWidthOfColsInList(v);if(x<=0)g.forEach(function(se){var Fe,le,_e=(le=(Fe=f?.[se.getId()])===null||Fe===void 0?void 0:Fe.minWidth)!==null&&le!==void 0?le:o?.defaultMinWidth;if(typeof _e=="number"){se.setActualWidth(_e,n,!0);return}se.setMinimum(n)});else for(var P=x/this.getWidthOfColsInList(g),R=x,E=g.length-1;E>=0;E--){var O=g[E],I=f?.[O.getId()],k=(l=I?.minWidth)!==null&&l!==void 0?l:o?.defaultMinWidth,G=(u=I?.maxWidth)!==null&&u!==void 0?u:o?.defaultMaxWidth,L=(c=O.getMinWidth())!==null&&c!==void 0?c:0,ee=(d=O.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,de=typeof k=="number"&&k>L?k:O.getMinWidth(),te=typeof G=="number"&&G<ee?G:O.getMaxWidth(),Ce=Math.round(O.getActualWidth()*P);X(de)&&Ce<de?(Ce=de,y(O),C=!1):X(te)&&Ce>te?(Ce=te,y(O),C=!1):E===0&&(Ce=R),O.setActualWidth(Ce,n,!0),R-=Ce}}m.forEach(function(se){se.fireColumnWidthChangedEvent(n)}),this.setLeftValues(n),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(m,!0,n)}},t.prototype.buildDisplayedTrees=function(e){var n=[],i=[],o=[];e.forEach(function(a){switch(a.getPinned()){case"left":n.push(a);break;case"right":i.push(a);break;default:o.push(a);break}});var s=new uA;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(n,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var n=function(i){e.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,n)},t.prototype.isDisplayed=function(e){var n=this.displayedColumnsAndGroupsMap[e.getUniqueId()];return n===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(n){n instanceof tn&&n.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"),s=o&&!i&&!n;if(s){var a=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(a,this.groupAutoColumns);if(l||e)return this.groupAutoColumns=a,!0}else this.groupAutoColumns=null;return!1},t.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptionsService.get("groupDisplayType"),n=e==="custom";if(n)return!0;var i=this.gridOptionsService.get("treeDataDisplayType");return i==="custom"},t.prototype.autoColsEqual=function(e,n){return Do(e,n,function(i,o){return i.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(n,i){return n+i.getActualWidth()},0)},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.get("enableRtl"),n=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&n.reverse();for(var i=0;i<n.length;i++){var o=this[n[i]]();if(o.length)return e?ut(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,n){var i=e.setAutoHeaderHeight(n);if(i){var o={type:_.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.getAllDisplayedColumns().filter(function(i){return i.isAutoHeaderHeight()}).map(function(i){return i.getAutoHeaderHeight()||0});return Math.max.apply(Math,gi([e],hi(n),!1))},t.prototype.getHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("headerHeight"))!==null&&e!==void 0?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return(e=this.gridOptionsService.get("floatingFiltersHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("groupHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("pivotHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))!==null&&e!==void 0?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(e){return e()}),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e,n){var i=e.getUserProvidedColDef();if(!i)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(o,i,n),!0},t.prototype.isColumnGroupingLocked=function(e){var n=this.gridOptionsService.get("groupLockGroupColumns");if(!e.isRowGroupActive()||n===0)return!1;if(n===-1)return!0;var i=this.rowGroupColumns.findIndex(function(o){return o.getColId()===e.getColId()});return n>i},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,n){var i=this,o={},s=function(a,l,u,c,d,f){if(!l.length||!i.primaryColumns)return[];for(var p=Object.keys(a),h=new Set(p),g=new Set(p),v=new Set(l.map(function(k){var G=k.getColId();return g.delete(G),G}).concat(p)),m=[],C={},y=0,x=0;x<i.primaryColumns.length;x++){var P=i.primaryColumns[x].getColId();v.has(P)&&(m.push(P),C[P]=y++)}var R=1e3,E=!1,O=0,I=function(k){for(var G=C[k],L=O;L<G;L++){var ee=m[L];g.has(ee)&&(a[ee][d]=R++,g.delete(ee))}O=G};l.forEach(function(k){var G=k.getColId();if(h.has(G))I(G),a[G][d]=R++;else{var L=k.getColDef(),ee=L[d]===null||L[d]===void 0&&L[f]==null;if(ee){if(!E){var de=L[u]||L[u]===void 0&&L[c];de?I(G):(g.forEach(function(te){a[te][d]=R+C[te]}),R+=m.length,E=!0)}o[G]||(o[G]={colId:G}),o[G][d]=R++}}})};return s(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(n,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},t.prototype.onColumnsReady=function(){var e=this,n=this.gridOptionsService.get("autoSizeStrategy");if(n){var i=n.type;setTimeout(function(){if(i==="fitGridWidth"){var o=n.columnLimits,s=n.defaultMinWidth,a=n.defaultMaxWidth,l=o?.map(function(u){var c=u.colId,d=u.minWidth,f=u.maxWidth;return{key:c,minWidth:d,maxWidth:f}});e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:a,columnLimits:l})}else i==="fitProvidedWidth"&&e.sizeColumnsToFit(n.width,"sizeColumnsToFit")})}},t.prototype.onFirstDataRendered=function(){var e=this,n=this.gridOptionsService.get("autoSizeStrategy");if(n?.type==="fitCellContents"){var i=n.colIds,o=n.skipHeader;setTimeout(function(){i?e.autoSizeColumns({columns:i,skipHeader:o,source:"autosizeColumns"}):e.autoSizeAllColumns(o,"autosizeColumns")})}},yn([w("expressionService")],t.prototype,"expressionService",void 0),yn([w("columnFactory")],t.prototype,"columnFactory",void 0),yn([w("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),yn([w("ctrlsService")],t.prototype,"ctrlsService",void 0),yn([w("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),yn([w("columnUtils")],t.prototype,"columnUtils",void 0),yn([w("columnAnimationService")],t.prototype,"columnAnimationService",void 0),yn([w("autoGroupColService")],t.prototype,"autoGroupColService",void 0),yn([rt("aggFuncService")],t.prototype,"aggFuncService",void 0),yn([rt("valueCache")],t.prototype,"valueCache",void 0),yn([rt("animationFrameService")],t.prototype,"animationFrameService",void 0),yn([w("sortController")],t.prototype,"sortController",void 0),yn([w("columnDefFactory")],t.prototype,"columnDefFactory",void 0),yn([ne],t.prototype,"init",null),yn([Un],t.prototype,"destroyColumns",null),yn([lH(0,ur("loggerFactory"))],t.prototype,"setBeans",null),t=yn([fe("columnModel")],t),t}(Q),dH=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fH=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pH=function(r){dH(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.calculateColMinWidth=function(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var n=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),o,s=gs(e.width),a=gs(e.initialWidth);return s!=null?o=s:a!=null?o=a:o=200,Math.max(Math.min(o,i),n)},t.prototype.getOriginalPathForColumn=function(e,n){var i=[],o=!1,s=function(a,l){for(var u=0;u<a.length;u++){if(o)return;var c=a[u];if(c instanceof Nt){var d=c;s(d.getChildren(),l+1),i[l]=c}else c===e&&(o=!0)}};return s(n,0),o?i:null},t.prototype.depthFirstOriginalTreeSearch=function(e,n,i){var o=this;n&&n.forEach(function(s){s instanceof Nt&&o.depthFirstOriginalTreeSearch(s,s.getChildren(),i),i(s,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,n){var i=this;e&&e.forEach(function(o){o instanceof tn&&i.depthFirstAllColumnTreeSearch(o.getChildren(),n),n(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,n){var i=this;e&&e.forEach(function(o){o instanceof tn&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),n),n(o)})},t=fH([fe("columnUtils")],t),t}(Q),hH=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gH=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vH=function(r){hH(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createDisplayedGroups=function(e,n,i,o){for(var s=this,a=this.mapOldGroupsById(o),l=[],u=e,c=function(){var d=u;u=[];for(var f=0,p=function(P){var R=f;f=P;var E=d[R],O=E instanceof tn?E.getProvidedColumnGroup():E,I=O.getOriginalParent();if(I==null){for(var k=R;k<P;k++)l.push(d[k]);return}for(var G=s.createColumnGroup(I,n,a,i),k=R;k<P;k++)G.addChild(d[k]);u.push(G)},h=1;h<d.length;h++){var g=d[h],v=g instanceof tn?g.getProvidedColumnGroup():g,m=v.getOriginalParent(),C=d[f],y=C instanceof tn?C.getProvidedColumnGroup():C,x=y.getOriginalParent();m!==x&&p(h)}f<d.length&&p(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,n,i,o){var s=e.getGroupId(),a=n.getInstanceIdForKey(s),l=tn.createUniqueId(s,a),u=i[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),X(u)?u.reset():(u=new tn(e,s,a,o),this.context.createBean(u)),u},t.prototype.mapOldGroupsById=function(e){var n={},i=function(o){o.forEach(function(s){if(s instanceof tn){var a=s;n[s.getUniqueId()]=a,i(a.getChildren())}})};return e&&i(e),n},t.prototype.setupParentsIntoColumns=function(e,n){var i=this;e.forEach(function(o){if(o.setParent(n),o instanceof tn){var s=o;i.setupParentsIntoColumns(s.getChildren(),s)}})},t=gH([fe("displayedGroupCreator")],t),t}(Q),es=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},ts=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},mH={statusBar:!0,enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,alignedGrids:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,loadingOverlayComponentParams:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,noRowsOverlayComponentParams:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,autoGroupColumnDef:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0},Zi=function(){function r(){}return r.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],r.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],r.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],r.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],r.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType"],r.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],r.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],r.FUNCTION_PROPERTIES=ts(ts([],es(r.FUNCTIONAL_PROPERTIES),!1),es(r.CALLBACK_PROPERTIES),!1),r.ALL_PROPERTIES=ts(ts(ts(ts(ts(ts([],es(r.ARRAY_PROPERTIES),!1),es(r.OBJECT_PROPERTIES),!1),es(r.STRING_PROPERTIES),!1),es(r.NUMBER_PROPERTIES),!1),es(r.FUNCTION_PROPERTIES),!1),es(r.BOOLEAN_PROPERTIES),!1),r}(),hC=function(){return hC=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},hC.apply(this,arguments)},GT=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},VT=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},id=function(){function r(){}r.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)},r.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},r.combineAttributesAndGridOptions=function(e,n){typeof e!="object"&&(e={});var i=hC({},e),o=r.getGridOptionKeys();return o.forEach(function(s){var a=n[s];typeof a<"u"&&a!==r.VUE_OMITTED_PROPERTY&&(i[s]=a)}),i},r.processOnChange=function(e,n){if(e){var i={},o=!1;if(Object.keys(e).filter(function(a){return r.ALL_PROPERTIES_AND_CALLBACKS_SET.has(a)}).forEach(function(a){i[a]=e[a],o=!0}),!!o){n.__internalUpdateGridOptions(i);var s={type:_.EVENT_COMPONENT_STATE_CHANGED};Rn(i,function(a,l){s[a]=l}),n.dispatchEvent(s)}}};var t;return t=r,r.EVENTS=va(_),r.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",r.EXCLUDED_INTERNAL_EVENTS=[_.EVENT_SCROLLBAR_WIDTH_CHANGED,_.EVENT_CHECKBOX_CHANGED,_.EVENT_HEIGHT_SCALE_CHANGED,_.EVENT_BODY_HEIGHT_CHANGED,_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,_.EVENT_SCROLL_VISIBILITY_CHANGED,_.EVENT_COLUMN_HOVER_CHANGED,_.EVENT_FLASH_CELLS,_.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,_.EVENT_DISPLAYED_ROWS_CHANGED,_.EVENT_LEFT_PINNED_WIDTH_CHANGED,_.EVENT_RIGHT_PINNED_WIDTH_CHANGED,_.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,_.EVENT_POPUP_TO_FRONT,_.EVENT_STORE_UPDATED,_.EVENT_COLUMN_PANEL_ITEM_DRAG_START,_.EVENT_COLUMN_PANEL_ITEM_DRAG_END,_.EVENT_FILL_START,_.EVENT_FILL_END,_.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,_.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,_.EVENT_FULL_WIDTH_ROW_FOCUSED,_.EVENT_HEADER_HEIGHT_CHANGED,_.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,_.EVENT_CELL_FOCUS_CLEARED,_.EVENT_GRID_STYLES_CHANGED,_.EVENT_FILTER_DESTROYED,_.EVENT_ROW_DATA_UPDATE_STARTED,_.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,_.EVENT_DATA_TYPES_INFERRED,_.EVENT_FIELD_VALUE_CHANGED,_.EVENT_FIELD_PICKER_VALUE_SELECTED,_.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,_.EVENT_SUPPRESS_MENU_HIDE_CHANGED,_.EVENT_SUPPRESS_FIELD_DOT_NOTATION,_.EVENT_ROW_COUNT_READY,_.EVENT_SIDE_BAR_UPDATED],r.PUBLIC_EVENTS=r.EVENTS.filter(function(e){return!Kr(r.EXCLUDED_INTERNAL_EVENTS,e)}),r.EVENT_CALLBACKS=r.EVENTS.map(function(e){return r.getCallbackForEvent(e)}),r.STRING_PROPERTIES=Zi.STRING_PROPERTIES,r.OBJECT_PROPERTIES=Zi.OBJECT_PROPERTIES,r.ARRAY_PROPERTIES=Zi.ARRAY_PROPERTIES,r.NUMBER_PROPERTIES=Zi.NUMBER_PROPERTIES,r.BOOLEAN_PROPERTIES=Zi.BOOLEAN_PROPERTIES,r.FUNCTION_PROPERTIES=Zi.FUNCTION_PROPERTIES,r.ALL_PROPERTIES=Zi.ALL_PROPERTIES,r.ALL_PROPERTIES_AND_CALLBACKS=VT(VT([],GT(t.ALL_PROPERTIES),!1),GT(t.EVENT_CALLBACKS),!1),r.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(r.ALL_PROPERTIES_AND_CALLBACKS),r}(),yH=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),CH=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wH=function(r){yH(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.componentsMappedByName={},e}return t.prototype.setupComponents=function(e){var n=this;e&&e.forEach(function(i){return n.addComponent(i)})},t.prototype.addComponent=function(e){var n=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=n.toUpperCase();this.componentsMappedByName[i]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=CH([fe("agStackComponentsRegistry")],t),t}(Q);function Fr(r,t,e){e==null||typeof e=="string"&&e==""?MC(r,t):Xr(r,t,e)}function Xr(r,t,e){r.setAttribute(fA(t),e.toString())}function MC(r,t){r.removeAttribute(fA(t))}function fA(r){return"aria-".concat(r)}function rn(r,t){t?r.setAttribute("role",t):r.removeAttribute("role")}function pA(r){var t;return r==="asc"?t="ascending":r==="desc"?t="descending":r==="mixed"?t="other":t="none",t}function hA(r){return parseInt(r.getAttribute("aria-level"),10)}function gA(r){return parseInt(r.getAttribute("aria-posinset"),10)}function vA(r){return r.getAttribute("aria-label")}function Ro(r,t){Fr(r,"label",t)}function ph(r,t){Fr(r,"labelledby",t)}function mA(r,t){Fr(r,"description",t)}function _H(r,t){Fr(r,"describedby",t)}function NC(r,t){Fr(r,"live",t)}function SH(r,t){Fr(r,"atomic",t)}function EH(r,t){Fr(r,"relevant",t)}function yA(r,t){Fr(r,"level",t)}function LC(r,t){Fr(r,"disabled",t)}function Ih(r,t){Fr(r,"hidden",t)}function kC(r,t){Fr(r,"activedescendant",t)}function yi(r,t){Xr(r,"expanded",t)}function CA(r){MC(r,"expanded")}function GC(r,t){Xr(r,"setsize",t)}function VC(r,t){Xr(r,"posinset",t)}function wA(r,t){Xr(r,"multiselectable",t)}function _A(r,t){Xr(r,"rowcount",t)}function HC(r,t){Xr(r,"rowindex",t)}function SA(r,t){Xr(r,"colcount",t)}function BC(r,t){Xr(r,"colindex",t)}function EA(r,t){Xr(r,"colspan",t)}function xA(r,t){Xr(r,"sort",t)}function DA(r){MC(r,"sort")}function Hl(r,t){Fr(r,"selected",t)}function xH(r,t){Xr(r,"checked",t===void 0?"mixed":t)}function jC(r,t){Fr(r,"controls",t.id),ph(t,r.id)}function Ph(r,t){return t===void 0?r("ariaIndeterminate","indeterminate"):t===!0?r("ariaChecked","checked"):r("ariaUnchecked","unchecked")}var DH=Object.freeze({__proto__:null,setAriaRole:rn,getAriaSortState:pA,getAriaLevel:hA,getAriaPosInSet:gA,getAriaLabel:vA,setAriaLabel:Ro,setAriaLabelledBy:ph,setAriaDescription:mA,setAriaDescribedBy:_H,setAriaLive:NC,setAriaAtomic:SH,setAriaRelevant:EH,setAriaLevel:yA,setAriaDisabled:LC,setAriaHidden:Ih,setAriaActiveDescendant:kC,setAriaExpanded:yi,removeAriaExpanded:CA,setAriaSetSize:GC,setAriaPosInSet:VC,setAriaMultiSelectable:wA,setAriaRowCount:_A,setAriaRowIndex:HC,setAriaColCount:SA,setAriaColIndex:BC,setAriaColSpan:EA,setAriaSort:xA,removeAriaSort:DA,setAriaSelected:Hl,setAriaChecked:xH,setAriaControls:jC,getAriaCheckboxStateName:Ph}),fy,kp,py,hy,gy,vy,gC,vC;function wi(){return fy===void 0&&(fy=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),fy}function UC(){if(kp===void 0)if(wi()){var r=navigator.userAgent.match(/version\/(\d+)/i);r&&(kp=r[1]!=null?parseFloat(r[1]):0)}else kp=0;return kp}function Mh(){if(py===void 0){var r=window;py=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return py}function WC(){return hy===void 0&&(hy=/(firefox)/i.test(navigator.userAgent)),hy}function zC(){return gy===void 0&&(gy=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),gy}function Cs(){return vy===void 0&&(vy=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),vy}function Nh(){return!wi()||UC()>=15}function hh(r){if(!r)return null;var t=r.tabIndex,e=r.getAttribute("tabIndex");return t===-1&&(e===null||e===""&&!WC())?null:t.toString()}function TA(){if(!document.body)return-1;var r=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var n=r*2;if(e.style.height=n+"px",n>t||e.clientHeight!==n)break;r=n}return document.body.removeChild(e),r}function RA(){var r,t,e;return(t=(r=document.body)===null||r===void 0?void 0:r.clientWidth)!==null&&t!==void 0?t:window.innerHeight||((e=document.documentElement)===null||e===void 0?void 0:e.clientWidth)||-1}function AA(){var r,t,e;return(t=(r=document.body)===null||r===void 0?void 0:r.clientHeight)!==null&&t!==void 0?t:window.innerHeight||((e=document.documentElement)===null||e===void 0?void 0:e.clientHeight)||-1}function OA(){return vC==null&&bA(),vC}function bA(){var r=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",r.appendChild(t);var e=t.offsetWidth-t.clientWidth;e===0&&t.clientWidth===0&&(e=null),t.parentNode&&t.parentNode.removeChild(t),e!=null&&(vC=e,gC=e===0)}function $C(){return gC==null&&bA(),gC}var TH=Object.freeze({__proto__:null,isBrowserSafari:wi,getSafariVersion:UC,isBrowserChrome:Mh,isBrowserFirefox:WC,isMacOsUserAgent:zC,isIOSUserAgent:Cs,browserSupportsPreventScroll:Nh,getTabIndex:hh,getMaxDivHeight:TA,getBodyWidth:RA,getBodyHeight:AA,getScrollbarWidth:OA,isInvisibleScrollbar:$C});function kl(r,t){return r.toString().padStart(t,"0")}function FA(r,t){for(var e=[],n=r;n<=t;n++)e.push(n);return e}function RH(r){return typeof r=="string"&&(r=parseInt(r,10)),typeof r=="number"?Math.floor(r):null}function AH(r,t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(r&255),r>>>=8;return e}function OH(r,t,e){return typeof r!="number"?"":KC(Math.round(r*100)/100,t,e)}function KC(r,t,e){return typeof r!="number"?"":r.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}function bH(r){return r==null?null:r.reduce(function(t,e){return t+e},0)}var FH=Object.freeze({__proto__:null,padStartWidthZeros:kl,createArrayOfNumbers:FA,cleanNumber:RH,decToHex:AH,formatNumberTwoDecimalPlacesAndCommas:OH,formatNumberCommas:KC,sum:bH}),my=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o};function Yr(r,t,e){if(t===void 0&&(t=!0),e===void 0&&(e="-"),!r)return null;var n=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(function(i){return kl(i,2)}).join(e);return t&&(n+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(function(i){return kl(i,2)}).join(":")),n}var yy=function(r){if(r>3&&r<21)return"th";var t=r%10;switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Gl(r,t){t===void 0&&(t="YYYY-MM-DD");var e=kl(r.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return"".concat(r.getFullYear())},MMMM:function(){return n[r.getMonth()]},MMM:function(){return n[r.getMonth()].slice(0,3)},MM:function(){return kl(r.getMonth()+1,2)},Mo:function(){return"".concat(r.getMonth()+1).concat(yy(r.getMonth()+1))},M:function(){return"".concat(r.getMonth()+1)},Do:function(){return"".concat(r.getDate()).concat(yy(r.getDate()))},DD:function(){return kl(r.getDate(),2)},D:function(){return"".concat(r.getDate())},dddd:function(){return i[r.getDay()]},ddd:function(){return i[r.getDay()].slice(0,3)},dd:function(){return i[r.getDay()].slice(0,2)},do:function(){return"".concat(r.getDay()).concat(yy(r.getDay()))},d:function(){return"".concat(r.getDay())}},s=new RegExp(Object.keys(o).join("|"),"g");return t.replace(s,function(a){return a in o?o[a]():a})}function cr(r){if(!r)return null;var t=my(r.split(" "),2),e=t[0],n=t[1];if(!e)return null;var i=e.split("-").map(function(h){return parseInt(h,10)});if(i.filter(function(h){return!isNaN(h)}).length!==3)return null;var o=my(i,3),s=o[0],a=o[1],l=o[2],u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!n||n==="00:00:00")return u;var c=my(n.split(":").map(function(h){return parseInt(h,10)}),3),d=c[0],f=c[1],p=c[2];return d>=0&&d<24&&u.setHours(d),f>=0&&f<60&&u.setMinutes(f),p>=0&&p<60&&u.setSeconds(p),u}var IH=Object.freeze({__proto__:null,serialiseDate:Yr,dateToFormattedString:Gl,parseDateTimeFromString:cr}),PH=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},MH=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Gp;function mC(r,t,e){for(var n=r.parentElement,i=n&&n.firstChild;i;)t&&i.classList.toggle(t,i===r),e&&i.classList.toggle(e,i!==r),i=i.nextSibling}var IA="[tabindex], input, select, button, textarea, [href]",YC="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function qC(r){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,e="input, select, button, textarea",n=t.call(r,e),i=t.call(r,YC),o=fr(r),s=n&&!i&&o;return s}function it(r,t,e){e===void 0&&(e={});var n=e.skipAriaHidden;r.classList.toggle("ag-hidden",!t),n||Ih(r,!t)}function PA(r,t,e){e===void 0&&(e={});var n=e.skipAriaHidden;r.classList.toggle("ag-invisible",!t),n||Ih(r,!t)}function Bl(r,t){var e="disabled",n=t?function(i){return i.setAttribute(e,"")}:function(i){return i.removeAttribute(e)};n(r),tw(r.querySelectorAll("input"),function(i){return n(i)})}function ma(r,t,e){for(var n=0;r;){if(r.classList.contains(t))return!0;if(r=r.parentElement,typeof e=="number"){if(++n>e)break}else if(r===e)break}return!1}function ws(r){var t=window.getComputedStyle(r),e=t.height,n=t.width,i=t.borderTopWidth,o=t.borderRightWidth,s=t.borderBottomWidth,a=t.borderLeftWidth,l=t.paddingTop,u=t.paddingRight,c=t.paddingBottom,d=t.paddingLeft,f=t.marginTop,p=t.marginRight,h=t.marginBottom,g=t.marginLeft,v=t.boxSizing;return{height:parseFloat(e),width:parseFloat(n),borderTopWidth:parseFloat(i),borderRightWidth:parseFloat(o),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(l),paddingRight:parseFloat(u),paddingBottom:parseFloat(c),paddingLeft:parseFloat(d),marginTop:parseFloat(f),marginRight:parseFloat(p),marginBottom:parseFloat(h),marginLeft:parseFloat(g),boxSizing:v}}function od(r){var t=ws(r);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function xa(r){var t=ws(r);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function XC(r){var t=ws(r),e=t.marginBottom+t.marginTop;return Math.ceil(r.offsetHeight+e)}function Qc(r){var t=ws(r),e=t.marginLeft+t.marginRight;return Math.ceil(r.offsetWidth+e)}function QC(r){var t=r.getBoundingClientRect(),e=ws(r),n=e.borderTopWidth,i=e.borderLeftWidth,o=e.borderRightWidth,s=e.borderBottomWidth;return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(o||0),bottom:t.bottom+(s||0)}}function Zc(){if(typeof Gp=="boolean")return Gp;var r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(r),r.scrollLeft=1,Gp=Math.floor(r.scrollLeft)===0,document.body.removeChild(r),Gp}function Jc(r,t){var e=r.scrollLeft;return t&&(e=Math.abs(e),Mh()&&!Zc()&&(e=r.scrollWidth-r.clientWidth-e)),e}function ed(r,t,e){e&&(Zc()?t*=-1:(wi()||Mh())&&(t=r.scrollWidth-r.clientWidth-t)),r.scrollLeft=t}function fn(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function To(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function fr(r){var t=r;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});var e=!r.offsetParent||window.getComputedStyle(r).visibility!=="visible";return!e}function Cn(r){var t=document.createElement("div");return t.innerHTML=(r||"").trim(),t.firstChild}function NH(r,t){r.lastChild?r.insertAdjacentHTML("afterbegin",t):r.innerHTML=t}function yC(r){return r&&r.clientHeight?r.clientHeight:0}function CC(r){return r&&r.clientWidth?r.clientWidth:0}function ZC(r,t,e){if(!(e&&e.nextSibling===t)){var n=document.activeElement,i=t.contains(n);e?e.nextSibling?r.insertBefore(t,e.nextSibling):r.appendChild(t):r.firstChild&&r.firstChild!==t&&r.insertAdjacentElement("afterbegin",t),i&&n&&Nh()&&n.focus({preventScroll:!0})}}function JC(r,t){for(var e=0;e<t.length;e++){var n=t[e],i=r.children[e];i!==n&&r.insertBefore(n,i)}}function MA(r,t,e){e?e.insertAdjacentElement("afterend",t):r.firstChild?r.insertAdjacentElement("afterbegin",t):r.appendChild(t)}function ew(r,t){var e,n;if(t)try{for(var i=PH(Object.entries(t)),o=i.next();!o.done;o=i.next()){var s=MH(o.value,2),a=s[0],l=s[1];if(!(!a||!a.length||l==null)){var u=dA(a),c=l.toString(),d=c.replace(/\s*!important/g,""),f=d.length!=c.length?"important":void 0;r.style.setProperty(u,d,f)}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}function NA(r){return r.clientWidth<r.scrollWidth}function LA(r){return r.clientHeight<r.scrollHeight}function td(r,t){t==="flex"?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):qr(r,t)}function qr(r,t){t=Lh(t),r.style.width=t.toString(),r.style.maxWidth=t.toString(),r.style.minWidth=t.toString()}function LH(r,t){t==="flex"?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):ya(r,t)}function ya(r,t){t=Lh(t),r.style.height=t.toString(),r.style.maxHeight=t.toString(),r.style.minHeight=t.toString()}function Lh(r){return typeof r=="number"?"".concat(r,"px"):r}function sd(r){return r instanceof Node||r instanceof HTMLElement}function kA(r){if(r==null)return[];var t=[];return tw(r,function(e){return t.push(e)}),t}function GA(r,t){if(r)for(var e=0;e<r.length;e++){var n=r[e];t(n.name,n.value)}}function eo(r,t,e){e==null?r.removeAttribute(t):r.setAttribute(t,e.toString())}function tw(r,t){if(r!=null)for(var e=0;e<r.length;e++)t(r[e])}function nw(r,t){r.then(function(e){var n=e.getGui();n!=null&&(typeof n=="object"?t.appendChild(n):t.innerHTML=n)})}var kH=Object.freeze({__proto__:null,radioCssClass:mC,FOCUSABLE_SELECTOR:IA,FOCUSABLE_EXCLUDE:YC,isFocusableFormField:qC,setDisplayed:it,setVisible:PA,setDisabled:Bl,isElementChildOfClass:ma,getElementSize:ws,getInnerHeight:od,getInnerWidth:xa,getAbsoluteHeight:XC,getAbsoluteWidth:Qc,getElementRectWithOffset:QC,isRtlNegativeScroll:Zc,getScrollLeft:Jc,setScrollLeft:ed,clearElement:fn,removeFromParent:To,isVisible:fr,loadTemplate:Cn,appendHtml:NH,offsetHeight:yC,offsetWidth:CC,ensureDomOrder:ZC,setDomChildOrder:JC,insertWithDomOrder:MA,addStylesToElement:ew,isHorizontalScrollShowing:NA,isVerticalScrollShowing:LA,setElementWidth:td,setFixedWidth:qr,setElementHeight:LH,setFixedHeight:ya,formatSize:Lh,isNodeOrElement:sd,copyNodeList:kA,iterateNamedNodeMap:GA,addOrRemoveAttribute:eo,nodeListForEach:tw,bindCellRendererToHtmlElement:nw}),GH=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function VA(r,t,e){var n={},i=r.filter(function(o){return!t.some(function(s){return s===o})});return i.length>0&&i.forEach(function(o){return n[o]=ad(o,e).values}),n}function ad(r,t,e,n){var i,o,s=t.map(function(h,g){return{value:h,relevance:VH(r.toLowerCase(),h.toLocaleLowerCase()),idx:g}});if(s.sort(function(h,g){return g.relevance-h.relevance}),e&&(s=s.filter(function(h){return h.relevance!==0})),s.length>0&&n&&n>0){var a=s[0].relevance,l=a*n;s=s.filter(function(h){return l-h.relevance<0})}var u=[],c=[];try{for(var d=GH(s),f=d.next();!f.done;f=d.next()){var p=f.value;u.push(p.value),c.push(p.idx)}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return{values:u,indices:c}}function VH(r,t){for(var e=r.replace(/\s/g,""),n=t.replace(/\s/g,""),i=0,o=-1,s=0;s<e.length;s++){var a=n.indexOf(e[s],o+1);a!==-1&&(o=a,i+=100-o*100/1e4*100)}return i}var HH=Object.freeze({__proto__:null,fuzzyCheckStrings:VA,fuzzySuggestions:ad}),HA={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function zr(r,t,e){var n=Ht(r,t,e);if(n){var i=n.className;if(typeof i=="string"&&i.indexOf("ag-icon")>-1||typeof i=="object"&&i["ag-icon"])return n}var o=document.createElement("span");return o.appendChild(n),o}function Ht(r,t,e,n){var i=null,o=e&&e.getColDef().icons;if(o&&(i=o[r]),t&&!i){var s=t.get("icons");s&&(i=s[r])}if(i){var a=void 0;if(typeof i=="function")a=i();else if(typeof i=="string")a=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof a=="string")return Cn(a);if(sd(a))return a;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=HA[r];return u||(n?u=r:(console.warn("AG Grid: Did not find icon ".concat(r)),u="")),l.setAttribute("class","ag-icon ag-icon-".concat(u)),l.setAttribute("unselectable","on"),rn(l,"presentation"),l}}var BH=Object.freeze({__proto__:null,iconNameClassMap:HA,createIcon:zr,createIconNoSpan:Ht}),B=function(){function r(){}return r.BACKSPACE="Backspace",r.TAB="Tab",r.ENTER="Enter",r.ESCAPE="Escape",r.SPACE=" ",r.LEFT="ArrowLeft",r.UP="ArrowUp",r.RIGHT="ArrowRight",r.DOWN="ArrowDown",r.DELETE="Delete",r.F2="F2",r.PAGE_UP="PageUp",r.PAGE_DOWN="PageDown",r.PAGE_HOME="Home",r.PAGE_END="End",r.A="KeyA",r.C="KeyC",r.D="KeyD",r.V="KeyV",r.X="KeyX",r.Y="KeyY",r.Z="KeyZ",r}(),jH=65,UH=67,WH=86,zH=68,$H=90,KH=89;function kh(r){if(r.altKey||r.ctrlKey||r.metaKey)return!1;var t=r.key.length===1;return t}function gh(r,t,e,n,i){var o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var s={event:t,editing:i,column:n,api:r.api,node:e,data:e.data,colDef:n.getColDef(),context:r.context,columnApi:r.columnApi};if(o){var a=o(s);if(a)return!0}return!1}function BA(r,t,e,n){var i=n.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!X(o))return!1;var s={api:r.api,columnApi:r.columnApi,context:r.context,colDef:i,column:n,headerRowIndex:e,event:t};return!!o(s)}function jA(r){var t=r.keyCode,e;switch(t){case jH:e=B.A;break;case UH:e=B.C;break;case WH:e=B.V;break;case zH:e=B.D;break;case $H:e=B.Z;break;case KH:e=B.Y;break;default:e=r.code}return e}function UA(r,t){return t===void 0&&(t=!1),r===B.DELETE?!0:!t&&r===B.BACKSPACE?zC():!1}var YH=Object.freeze({__proto__:null,isEventFromPrintableCharacter:kh,isUserSuppressingKeyboardEvent:gh,isUserSuppressingHeaderKeyboardEvent:BA,normaliseQwertyAzerty:jA,isDeleteKey:UA});function rw(r,t,e){if(e===0)return!1;var n=Math.abs(r.clientX-t.clientX),i=Math.abs(r.clientY-t.clientY);return Math.max(n,i)<=e}var qH=Object.freeze({__proto__:null,areEventsNear:rw});function XH(r,t){if(!r)return!1;for(var e=function(a,l){var u=t[a.id],c=t[l.id],d=u!==void 0,f=c!==void 0,p=d&&f,h=!d&&!f;return p?u-c:h?a.__objectId-l.__objectId:d?1:-1},n,i,o=!1,s=0;s<r.length-1;s++)if(n=r[s],i=r[s+1],e(n,i)>0){o=!0;break}return o?(r.sort(e),!0):!1}var QH=Object.freeze({__proto__:null,sortRowNodesByOrder:XH});function iw(r){var t=new Set;return r.forEach(function(e){return t.add(e)}),t}var ZH=Object.freeze({__proto__:null,convertToSet:iw}),zt=function(){return zt=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},zt.apply(this,arguments)},JH=zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt({},DH),WV),TH),IH),kH),$V),bV),HH),yV),BH),YH),sH),qH),FH),RV),QH),ZH),rH),He=JH,jl=function(){function r(t,e){t===void 0&&(t=0),e===void 0&&(e=1),this.nextValue=t,this.step=e}return r.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},r.prototype.peek=function(){return this.nextValue},r.prototype.skip=function(t){this.nextValue+=t},r}(),Uc=function(r){return r[r.IN_PROGRESS=0]="IN_PROGRESS",r[r.RESOLVED=1]="RESOLVED",r}(Uc||{}),Rr=function(){function r(t){var e=this;this.status=Uc.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(n){return e.onDone(n)},function(n){return e.onReject(n)})}return r.all=function(t){return new r(function(e){var n=t.length,i=new Array(n);t.forEach(function(o,s){o.then(function(a){i[s]=a,n--,n===0&&e(i)})})})},r.resolve=function(t){return t===void 0&&(t=null),new r(function(e){return e(t)})},r.prototype.then=function(t){var e=this;return new r(function(n){e.status===Uc.RESOLVED?n(t(e.resolution)):e.waiters.push(function(i){return n(t(i))})})},r.prototype.resolveNow=function(t,e){return this.status===Uc.RESOLVED?e(this.resolution):t},r.prototype.onDone=function(t){this.status=Uc.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},r.prototype.onReject=function(t){console.warn("TBI")},r}(),Wse=function(){function r(){this.timestamp=new Date().getTime()}return r.prototype.print=function(t){var e=new Date().getTime()-this.timestamp;console.info("".concat(t," = ").concat(e)),this.timestamp=new Date().getTime()},r}(),eB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pa=function(){return pa=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},pa.apply(this,arguments)},Cy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Qi=function(r){return r[r.NOTHING=0]="NOTHING",r[r.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",r[r.SHOWING=2]="SHOWING",r}(Qi||{}),So=function(r){return r[r.HOVER=0]="HOVER",r[r.FOCUS=1]="FOCUS",r}(So||{}),ow=function(r){eB(t,r);function t(e,n,i){var o=r.call(this)||this;return o.parentComp=e,o.tooltipShowDelayOverride=n,o.tooltipHideDelayOverride=i,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=Qi.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return t.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===So.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===So.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var n=this.gridOptionsService.get(e);return n<0&&Pe("".concat(e," should not be lower than 0")),Math.max(200,n)},t.prototype.getTooltipDelay=function(e){var n,i;return e==="show"?(n=this.tooltipShowDelayOverride)!==null&&n!==void 0?n:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(i=this.tooltipHideDelayOverride)!==null&&i!==void 0?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")},t.prototype.destroy=function(){this.setToDoNothing(),r.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?So.HOVER:So.FOCUS},t.prototype.onMouseEnter=function(e){var n=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Cs()&&(t.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){n.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===Qi.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var n,i=e.relatedTarget,o=this.parentComp.getGui(),s=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui();this.isInteractingWithTooltip||o.contains(i)||this.interactionEnabled&&s?.contains(i)||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=Qi.NOTHING||t.isLocked)return!1;var n=0;return e&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=Qi.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){var e=new Date().getTime(),n=t.lastTooltipHideTime;return e-n<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===Qi.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=Qi.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=pa({},this.parentComp.getTooltipParams());if(!X(e.value)){this.setToDoNothing();return}this.state=Qi.SHOWING,this.tooltipInstanceCount++;var n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),i=this.userComponentFactory.getTooltipCompDetails(e);i.newAgStackInstance().then(n)},t.prototype.hideTooltip=function(e){if(!(!e&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=new Date().getTime());var n={type:_.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=Qi.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,n){var i=this.state!==Qi.SHOWING||this.tooltipInstanceCount!==e;if(i){this.getContext().destroyBean(n);return}var o=n.getGui();this.tooltipComp=n,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===So.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:o,ariaLabel:s("ariaLabelTooltip","Tooltip")});a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===So.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,_.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,_.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===So.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:_.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var n,i=this.parentComp.getGui(),o=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui(),s=e.relatedTarget;o?.contains(s)||(this.isInteractingWithTooltip=!1,i.contains(s)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(pa(pa({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(pa(pa({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var n=this.tooltipPopupDestroyFunc,i=this.tooltipComp,o=this.tooltipTrigger===So.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){n(),e.getContext().destroyBean(i)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(e){e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){e.unlockService(),e.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},t.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,Cy([w("popupService")],t.prototype,"popupService",void 0),Cy([w("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Cy([ne],t.prototype,"postConstruct",null),t}(Q),tB=function(){function r(t){this.cssClassStates={},this.getGui=t}return r.prototype.addCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1){n.forEach(function(s){return e.addCssClass(s)});return}var i=this.cssClassStates[t]!==!0;if(i&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},r.prototype.removeCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1){n.forEach(function(s){return e.removeCssClass(s)});return}var i=this.cssClassStates[t]!==!1;if(i&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},r.prototype.containsCssClass=function(t){var e=this.getGui();return e?e.classList.contains(t):!1},r.prototype.addOrRemoveCssClass=function(t,e){var n=this;if(t){if(t.indexOf(" ")>=0){var i=(t||"").split(" ");if(i.length>1){i.forEach(function(a){return n.addOrRemoveCssClass(a,e)});return}}var o=this.cssClassStates[t]!==e;if(o&&t.length){var s=this.getGui();s&&s.classList.toggle(t,e),this.cssClassStates[t]=e}}},r}(),nB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),wy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rB=new jl,ke=function(r){nB(t,r);function t(e){var n=r.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=rB.next(),n.cssClassManager=new tB(function(){return n.eGui}),e&&n.setTemplate(e),n}return t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,n,i){var o=this,s=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},a=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new ow(o,n,i))};this.tooltipText!=e&&(this.tooltipText&&s(),e!=null&&(this.tooltipText=e,this.tooltipText&&a()))},t.prototype.createChildComponentsFromTags=function(e,n){var i=this,o=kA(e.childNodes);o.forEach(function(s){if(s instanceof HTMLElement){var a=i.createComponentFromElement(s,function(u){var c=u.getGui();c&&i.copyAttributesFromNode(s,u.getGui())},n);if(a){if(a.addItems&&s.children.length){i.createChildComponentsFromTags(s,n);var l=Array.prototype.slice.call(s.children);a.addItems(l)}i.swapComponentForNode(a,e,s)}else s.childNodes&&i.createChildComponentsFromTags(s,n)}})},t.prototype.createComponentFromElement=function(e,n,i){var o=e.nodeName,s=i?i[e.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(o);if(a){t.elementGettingCreated=e;var l=new a(s);return l.setParentComponent(this),this.createBean(l,null,n),l}return null},t.prototype.copyAttributesFromNode=function(e,n){GA(e.attributes,function(i,o){return n.setAttribute(i,o)})},t.prototype.swapComponentForNode=function(e,n,i){var o=e.getGui();n.replaceChild(o,i),n.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)},t.prototype.swapInComponentForQuerySelectors=function(e,n){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===n&&(i[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var n=Object.getPrototypeOf(this);n!=null;){var i=n.__agComponentMetaData,o=bh(n.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(s){return e(s)}),n=Object.getPrototypeOf(n)}},t.prototype.activateTabIndex=function(e){var n=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(function(i){return i.setAttribute("tabindex",n.toString())})},t.prototype.setTemplate=function(e,n){var i=Cn(e);this.setTemplateFromElement(i,n)},t.prototype.setTemplateFromElement=function(e,n){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var n=this;this.iterateOverQuerySelectors(function(i){var o=function(l){return n[i.attributeName]=l},s=i.refSelector&&e.getAttribute("ref")===i.refSelector;if(s)o(e.eGui);else{var a=e.eGui.querySelector(i.querySelector);a&&o(a.__agComponent||a)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.getAriaElement=function(){return this.getFocusableElement()},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,n){if(e!=null)if(n||(n=this.eGui),sd(e))n.appendChild(e);else{var i=e;n.appendChild(i.getGui())}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,n){if(n===void 0&&(n={}),e!==this.visible){this.visible=e;var i=n.skipAriaHidden;PA(this.eGui,e,{skipAriaHidden:i})}},t.prototype.setDisplayed=function(e,n){if(n===void 0&&(n={}),e!==this.displayed){this.displayed=e;var i=n.skipAriaHidden;it(this.eGui,e,{skipAriaHidden:i});var o={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),r.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,n,i){var o=this;this.eGui.addEventListener(e,n,i),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,n)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,n){this.cssClassManager.addOrRemoveCssClass(e,n)},t.prototype.getAttribute=function(e){var n=this.eGui;return n?n.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'.concat(e,'"]'))},t.EVENT_DISPLAYED_CHANGED="displayedChanged",wy([w("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),wy([NT],t.prototype,"preConstructOnComponent",null),wy([NT],t.prototype,"createChildComponentsPreConstruct",null),t}(Q);function oe(r){return iB.bind(this,"[ref=".concat(r,"]"),r)}function iB(r,t,e,n,i){if(r===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}oB(e,"querySelectors",{attributeName:n,querySelector:r,refSelector:t})}function oB(r,t,e){var n=sB(r,bh(r.constructor));n[t]||(n[t]=[]),n[t].push(e)}function sB(r,t){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[t]||(r.__agComponentMetaData[t]={}),r.__agComponentMetaData[t]}var aB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),HT=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lB=function(r){aB(t,r);function t(){return r.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(n," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.onParentModelChanged=function(e){var n=this;if(!e){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(e);n.eFloatingFilterText.setValue(o)}})},t.prototype.onParamsUpdated=function(e){this.init(e)},HT([oe("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),HT([w("columnModel")],t.prototype,"columnModel",void 0),t}(ke),WA=function(){function r(t,e,n,i){var o=this;this.alive=!0,this.context=t,this.eParent=i;var s=e.getDateCompDetails(n),a=s.newAgStackInstance();a.then(function(l){if(!o.alive){t.destroyBean(l);return}o.dateComp=l,l&&(i.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return r.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},r.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},r.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},r.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},r.prototype.setDisplayed=function(t){it(this.eParent,t)},r.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},r.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},r.prototype.afterGuiAttached=function(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)},r.prototype.updateParams=function(t){var e;!((e=this.dateComp)===null||e===void 0)&&e.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(t)},r.prototype.setDateCompDisabled=function(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)},r}(),zA=function(){function r(){this.customFilterOptions={}}return r.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},r.prototype.getFilterOptions=function(){return this.filterOptions},r.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if(typeof e!="string"){var n=[["displayKey"],["displayName"],["predicate","test"]],i=function(o){return o.some(function(s){return e[s]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)};if(!n.every(i)){t.filterOptions=t.filterOptions.filter(function(o){return o===e})||[];return}t.customFilterOptions[e.displayKey]=e}})},r.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},r.prototype.getDefaultOption=function(){return this.defaultOption},r.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},r}(),$A={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},uB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),wC=function(){return wC=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},wC.apply(this,arguments)},BT=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_s=function(r){uB(t,r);function t(e,n){n===void 0&&(n={});var i=r.call(this)||this;return i.eFocusableElement=e,i.callbacks=n,i.callbacks=wC({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var s=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);s&&(s.focus(),o.preventDefault())}}},n),i}return t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var n=this;this.addManagedListener(e,"keydown",function(i){if(!(i.defaultPrevented||Ci(i))){if(n.callbacks.shouldStopEventPropagation(i)){to(i);return}i.key===B.TAB?n.callbacks.onTabKeyDown(i):n.callbacks.handleKeyDown&&n.callbacks.handleKeyDown(i)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",BT([w("focusService")],t.prototype,"focusService",void 0),BT([ne],t.prototype,"postConstruct",null),t}(Q),cB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_y=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},KA="ag-resizer-wrapper",dB='<div class="'.concat(KA,`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`),YA=function(r){cB(t,r);function t(e,n){var i=r.call(this)||this;return i.element=e,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},n),i}return t.prototype.center=function(){var e=this.offsetParent,n=e.clientHeight,i=e.clientWidth,o=i/2-this.getWidth()/2,s=n/2-this.getHeight()/2;this.offsetElement(o,s)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,n=e.centered,i=e.forcePopupParentAsOffsetParent,o=e.minWidth,s=e.width,a=e.minHeight,l=e.height,u=e.x,c=e.y;this.offsetParent||this.setOffsetParent();var d=0,f=0,p=fr(this.element);if(p){var h=this.findBoundaryElement(),g=window.getComputedStyle(h);if(g.minWidth!=null){var v=h.offsetWidth-this.element.offsetWidth;f=parseInt(g.minWidth,10)-v}if(g.minHeight!=null){var m=h.offsetHeight-this.element.offsetHeight;d=parseInt(g.minHeight,10)-m}}if(this.minHeight=a||d,this.minWidth=o||f,s&&this.setWidth(s),l&&this.setHeight(l),(!s||!l)&&this.refreshSize(),n)this.center();else if(u||c)this.offsetElement(u,c);else if(p&&i){var h=this.boundaryEl,C=!0;if(h||(h=this.findBoundaryElement(),C=!1),h){var y=parseFloat(h.style.top),x=parseFloat(h.style.left);C?this.offsetElement(isNaN(x)?0:x,isNaN(y)?0:y):this.setPosition(x,y)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,n){if(!(!this.config.popup||e===this.movable)){this.movable=e;var i=this.moveElementDragListener||{eElement:n,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var n=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(i){var o=e,s=!!o[i],a=n.getResizerElement(i),l={dragStartPixels:0,eElement:a,onDragStart:function(u){return n.onResizeStart(u,i)},onDragging:n.onResize.bind(n),onDragStop:function(u){return n.onResizeEnd(u,i)}};(s||!n.isAlive()&&!s)&&(s?(n.dragService.addDragSource(l),n.resizeListeners.push(l),a.style.pointerEvents="all"):a.style.pointerEvents="none",n.resizable[i]=s)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,n=e.height,i=e.width;i!==-1&&(this.element.style.width="".concat(i,"px")),n!==-1&&(this.element.style.height="".concat(n,"px"))},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var n=this.config.popup,i=this.element,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ya(i,e),e=XC(i),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):n?ya(i,e):(i.style.height="".concat(e,"px"),i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,n=e.popup,i=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=n?this.position.y:s.top,u=n?0:a.top,c=0;if(i){var d=this.element.parentElement;if(d){var f=d.getBoundingClientRect().bottom;c=f-s.bottom}}var p=o+u-l-c;return p},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var n=this.element,i=this.config.popup,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)qr(n,e),e=Qc(n),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var s=this.offsetParent.clientWidth,a=i?this.position.x:this.element.getBoundingClientRect().left;s&&e+a>s&&(e=s-a)}this.getWidth()!==e&&(o?(n.style.maxWidth="unset",n.style.minWidth="unset"):this.config.popup?qr(n,e):(n.style.width="".concat(e,"px"),n.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))},t.prototype.offsetElement=function(e,n){e===void 0&&(e=0),n===void 0&&(n=0);var i=this.config.forcePopupParentAsOffsetParent,o=i?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:n}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var n=this;if(this.config.forcePopupParentAsOffsetParent){var i=function(){var o=n.getAvailableHeight();n.element.style.setProperty("max-height","".concat(o,"px"))};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},t.prototype.setPosition=function(e,n){this.position.x=e,this.position.y=n},t.prototype.updateDragStartPosition=function(e,n){this.dragStartPosition={x:e,y:n}},t.prototype.calculateMouseMovement=function(e){var n=e.e,i=e.isLeft,o=e.isTop,s=e.anywhereWithin,a=e.topBuffer,l=n.clientX-this.dragStartPosition.x,u=n.clientY-this.dragStartPosition.y,c=this.shouldSkipX(n,!!i,!!s,l)?0:l,d=this.shouldSkipY(n,!!o,a,u)?0:u;return{movementX:c,movementY:d}},t.prototype.shouldSkipX=function(e,n,i,o){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:s.left,c=u<=0&&a.left>=e.clientX||a.right<=e.clientX&&a.right<=l.right;return c?!0:(n?c=o<0&&e.clientX>u+a.left||o>0&&e.clientX<u+a.left:i?c=o<0&&e.clientX>l.right||o>0&&e.clientX<u+a.left:c=o<0&&e.clientX>l.right||o>0&&e.clientX<l.right,c)},t.prototype.shouldSkipY=function(e,n,i,o){i===void 0&&(i=0);var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:s.top,c=u<=0&&a.top>=e.clientY||a.bottom<=e.clientY&&a.bottom<=l.bottom;return c?!0:(n?c=o<0&&e.clientY>u+a.top+i||o>0&&e.clientY<u+a.top:c=o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom,c)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var n=new DOMParser,i=n.parseFromString(dB,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".".concat(KA));e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!n.match(/top/i),isRight:!!n.match(/right/i),isBottom:!!n.match(/bottom/i),isLeft:!!n.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[n].element.classList.add("ag-active");var i=this.config,o=i.popup,s=i.forcePopupParentAsOffsetParent;!o&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var e=this.element,n=e.parentElement;return n?Array.prototype.slice.call(n.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],n=0,i=0,o=0;o<e.length;o++){var s=e[o],a=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(a){var c=window.getComputedStyle(s);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=s.offsetHeight,u=s.offsetWidth;n+=l,i+=u}}return{height:n,width:i}},t.prototype.applySizeToSiblings=function(e){var n=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var s=i[o];s!==n&&(e?s.style.height="".concat(s.offsetHeight,"px"):s.style.width="".concat(s.offsetWidth,"px"),s.style.flex="0 0 auto",s===this.element&&(n=i[o+1]))}n&&(n.style.removeProperty("height"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(!(!this.isResizing||!this.currentResizer)){var n=this.config,i=n.popup,o=n.forcePopupParentAsOffsetParent,s=this.currentResizer,a=s.isTop,l=s.isRight,u=s.isBottom,c=s.isLeft,d=l||c,f=u||a,p=this.calculateMouseMovement({e,isLeft:c,isTop:a}),h=p.movementX,g=p.movementY,v=this.position.x,m=this.position.y,C=0,y=0;if(d&&h){var x=c?-1:1,P=this.getWidth(),R=P+h*x,E=!1;c&&(C=P-R,(v+C<=0||R<=this.minWidth)&&(E=!0,C=0)),E||this.setWidth(R)}if(f&&g){var x=a?-1:1,O=this.getHeight(),I=O+g*x,k=!1;a?(y=O-I,(m+y<=0||I<=this.minHeight)&&(k=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&O<I&&this.getMinSizeOfSiblings().height+I>this.element.parentElement.offsetHeight&&(k=!0),k||this.setHeight(I)}this.updateDragStartPosition(e.clientX,e.clientY),((i||o)&&C||y)&&this.offsetElement(v+C,m+y)}},t.prototype.onResizeEnd=function(e,n){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[n].element.classList.remove("ag-active"),this.dispatchEvent(i)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var n=this.position,i=n.x,o=n.y,s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var a=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s}),l=a.movementX,u=a.movementY;this.offsetElement(i+l,o+u),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},_y([w("popupService")],t.prototype,"popupService",void 0),_y([w("resizeObserverService")],t.prototype,"resizeObserverService",void 0),_y([w("dragService")],t.prototype,"dragService",void 0),t}(Q),fB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vh=function(r){fB(t,r);function t(e){var n=r.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n.buttonListeners=[],n}return t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new _s(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new YA(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);var i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`.concat(this.getCssIdentifier(),`-body-wrapper" ref="eFilterBody">
                    `).concat(this.createBodyTemplate(),`
                </div>
            </form>`);this.setTemplate(i,e),n=this.getGui(),n&&n.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var n=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetButtonsPanel()},t.prototype.updateParams=function(e){var n=this;this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},t.prototype.resetButtonsPanel=function(){var e=this,n=this.providedFilterParams.buttons,i=n&&n.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(fn(this.eButtonsPanel),this.buttonListeners.forEach(function(a){return a?.()}),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i){this.eButtonsPanel&&To(this.eButtonsPanel);return}var o=document.createDocumentFragment(),s=function(a){var l,u;switch(a){case"apply":l=e.translate("applyFilter"),u=function(f){return e.onBtApply(!1,!1,f)};break;case"clear":l=e.translate("clearFilter"),u=function(){return e.onBtClear()};break;case"reset":l=e.translate("resetFilter"),u=function(){return e.onBtReset()};break;case"cancel":l=e.translate("cancelFilter"),u=function(f){e.onBtCancel(f)};break;default:console.warn("AG Grid: Unknown button type specified");return}var c=a==="apply"?"submit":"button",d=Cn(`<button
                    type="`.concat(c,`"
                    ref="`).concat(a,`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`).concat(l,`
                </button>`));e.buttonListeners.push(e.addManagedListener(d,"click",u)),o.append(d)};iw(n).forEach(function(a){return s(a)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,n=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=$r(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){e.debouncePending=!0,i()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var n=this,i=e!=null?this.setModelIntoUi(e):this.resetUiToDefaults();return i.then(function(){n.updateUiVisibility(),n.applyModel("api")})},t.prototype.onBtCancel=function(e){var n=this;this.resetUiToActiveModel(this.getModel(),function(){n.handleCancelEnd(e)})},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,n){var i=this,o=function(){i.onUiChanged(!1,"prevent"),n?.()};e!=null?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var i=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(i,n)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,n,i){if(e===void 0&&(e=!1),n===void 0&&(n=!1),i&&i.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:n,source:o})}var s=this.providedFilterParams.closeOnApply;s&&this.applyActive&&!e&&!n&&this.close(i)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var n=e,i=n&&n.key,o;(i==="Enter"||i==="Space")&&(o={keyboardEvent:n}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,n){if(e===void 0&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var i=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&Bl(o,!i)}e&&!n||n==="immediately"?this.onBtApply(e):(!this.applyActive&&!n||n==="debounce")&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)},t.prototype.refreshFilterResizer=function(e){if(!(!this.positionableFeature||e==="toolPanel")){var n=e==="floatingFilter",i=this,o=i.positionableFeature,s=i.gridOptionsService;n?(o.restoreLastSize(),o.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,n){return t.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:n},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.refresh=function(e){return this.providedFilterParams=e,!0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),r.prototype.destroy.call(this)},t.prototype.translate=function(e){var n=this.localeService.getLocaleTextFunc();return n(e,$A[e])},t.prototype.getCellValue=function(e){return this.providedFilterParams.getValue(e)},t.prototype.getPositionableElement=function(){return this.eFilterBody},Sy([w("rowModel")],t.prototype,"rowModel",void 0),Sy([oe("eFilterBody")],t.prototype,"eFilterBody",void 0),Sy([ne],t.prototype,"postConstruct",null),t}(ke),pB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),hB=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qA=function(r){pB(t,r);function t(e,n){var i=r.call(this,n)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=e||{},i}return t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,n=e.labelSeparator,i=e.label,o=e.labelWidth,s=e.labelAlignment;n!=null&&this.setLabelSeparator(n),i!=null&&this.setLabel(i),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){fn(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(it(this.eLabel,!1),rn(this.eLabel,"presentation")):(it(this.eLabel,!0),rn(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)},t.prototype.setLabelAlignment=function(e){var n=this.getGui(),i=n.classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return this.label==null?this:(td(this.eLabel,e),this)},t.prototype.setDisabled=function(e){e=!!e;var n=this.getGui();return Bl(n,e),n.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},hB([ne],t.prototype,"postConstruct",null),t}(ke),gB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),XA=function(r){gB(t,r);function t(e,n,i){var o=r.call(this,e,n)||this;return o.className=i,o}return t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},t.prototype.refreshAriaLabelledBy=function(){var e=this.getAriaElement(),n=this.getLabelId();vA(e)!==null?ph(e,""):ph(e,n??"")},t.prototype.setAriaLabel=function(e){return Ro(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this},t.prototype.onValueChange=function(e){var n=this;return this.addManagedListener(this,_.EVENT_FIELD_VALUE_CHANGED,function(){return e(n.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return qr(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,n){return this.value===e?this:(this.previousValue=this.value,this.value=e,n||this.dispatchEvent({type:_.EVENT_FIELD_VALUE_CHANGED}),this)},t}(qA),vB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mB=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,QA=function(r){vB(t,r);function t(e){var n=r.call(this,e,e?.template||mB,e?.className)||this;if(n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.ariaRole=e?.ariaRole,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),!e)return n;var i=e.pickerGap,o=e.maxPickerHeight,s=e.variableWidth,a=e.minPickerWidth,l=e.maxPickerWidth;return i!=null&&(n.pickerGap=i),n.variableWidth=!!s,o!=null&&n.setPickerMaxHeight(o),a!=null&&n.setPickerMinWidth(a),l!=null&&n.setPickerMaxWidth(l),n}return t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setupAria();var e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);var n=this.getAriaElement();this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var i=this.config.pickerIcon;if(i){var o=Ht(i,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},t.prototype.setupAria=function(){var e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),yi(e,!1),this.ariaRole&&rn(e,this.ariaRole)},t.prototype.onLabelOrWrapperMouseDown=function(e){if(e){var n=this.getFocusableElement();if(n!==this.eWrapper&&e?.target===n)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},t.prototype.onKeyDown=function(e){switch(e.key){case B.UP:case B.DOWN:case B.ENTER:case B.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case B.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,n=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,_.EVENT_BODY_SCROLL,function(){e.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),s=this.config,a=s.pickerAriaLabelKey,l=s.pickerAriaLabelValue,u=s.modalPicker,c=u===void 0?!0:u,d={modal:c,eChild:i,closeOnEsc:!0,closedCallback:function(){var y=n.activeElement===n.body;e.beforeHidePicker(),y&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:o(a,l)},f=this.popupService.addPopup(d),p=this,h=p.maxPickerHeight,g=p.minPickerWidth,v=p.maxPickerWidth,m=p.variableWidth;m?(g&&(i.style.minWidth=g),i.style.width=Lh(Qc(this.eWrapper)),v&&(i.style.maxWidth=v)):td(i,v??Qc(this.eWrapper));var C=h??"".concat(od(this.popupService.getPopupParent()),"px");return i.style.setProperty("max-height",C),i.style.position="absolute",this.alignPickerToComponent(),f.hideFunc},t.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var e=this.config.pickerType,n=this.pickerGap,i=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:n})}},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){if(this.isAlive()){var n=this.getAriaElement();yi(n,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var n;!((n=this.pickerComponent)===null||n===void 0)&&n.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setInputWidth=function(e){return td(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.setPickerMinWidth=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.minPickerWidth=e??void 0,this},t.prototype.setPickerMaxWidth=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.maxPickerWidth=e??void 0,this},t.prototype.setPickerMaxHeight=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.maxPickerHeight=e??void 0,this},t.prototype.destroy=function(){this.hidePicker(),r.prototype.destroy.call(this)},fc([w("popupService")],t.prototype,"popupService",void 0),fc([oe("eLabel")],t.prototype,"eLabel",void 0),fc([oe("eWrapper")],t.prototype,"eWrapper",void 0),fc([oe("eDisplayField")],t.prototype,"eDisplayField",void 0),fc([oe("eIcon")],t.prototype,"eIcon",void 0),t}(XA),yB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),CB=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jT=function(r){yB(t,r);function t(e){e===void 0&&(e="default");var n=r.call(this,'<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>'))||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var n=e.key;switch(n){case B.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case B.DOWN:case B.UP:var o=n===B.DOWN,s=void 0;if(e.preventDefault(),!this.highlightedEl)s=this.itemEls[o?0:this.itemEls.length-1];else{var a=this.itemEls.indexOf(this.highlightedEl),l=a+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),s=this.itemEls[l]}this.highlightItem(s);break}},t.prototype.addOptions=function(e){var n=this;return e.forEach(function(i){return n.addOption(i)}),this},t.prototype.addOption=function(e){var n=e.value,i=e.text,o=Kt(i||n);return this.options.push({value:n,text:o}),this.renderOption(n,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(n,i){VC(n,i+1),GC(n,e.length)})},t.prototype.renderOption=function(e,n){var i=this,o=document.createElement("div");rn(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(n,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,n){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(),this;var i=this.options.findIndex(function(s){return s.value===e});if(i!==-1){var o=this.options[i];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[i]),n||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var n=this.options.findIndex(function(i){return i.value===e.value});n!==-1&&this.highlightItem(this.itemEls[n])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){fr(e)&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Hl(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!fr(this.highlightedEl)||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Hl(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:_.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",CB([ne],t.prototype,"init",null),t}(ke),wB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_C=function(){return _C=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},_C.apply(this,arguments)},Gh=function(r){wB(t,r);function t(e){return r.call(this,_C({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))||this}return t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new jT("select")),this.listComponent.setParentComponent(this);var n=this.listComponent.getAriaElement(),i="ag-select-list-".concat(this.listComponent.getCompId());n.setAttribute("id",i),jC(this.getAriaElement(),n),this.listComponent.addGuiEventListener("keydown",function(o){o.key===B.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,jT.EVENT_ITEM_SELECTED,function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,_.EVENT_FIELD_VALUE_CHANGED,function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())})},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){this.listComponent&&(r.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},t.prototype.addOptions=function(e){var n=this;return e.forEach(function(i){return n.addOption(i)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,n,i){if(this.value===e||!this.listComponent)return this;i||this.listComponent.setValue(e,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),r.prototype.setValue.call(this,e,n))},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),r.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(QA),_B=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ey=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hs=function(r){_B(t,r);function t(e,n,i,o){i===void 0&&(i="text"),o===void 0&&(o="input");var s=r.call(this,e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,`>
                </div>
            </div>`),n)||this;return s.inputType=i,s.displayFieldTag=o,s}return t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var e=this.config,n=e.width,i=e.value;n!=null&&this.setWidth(n),i!=null&&this.setValue(i),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(n){return e.setValue(n.target.value)})},t.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return td(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){var n=this.eInput;return n.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return eo(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return Ro(this.eInput,e),this.refreshAriaLabelledBy(),this},t.prototype.setDisabled=function(e){return Bl(this.eInput,e),r.prototype.setDisabled.call(this,e)},t.prototype.setAutoComplete=function(e){if(e===!0)eo(this.eInput,"autocomplete",null);else{var n=typeof e=="string"?e:"off";eo(this.eInput,"autocomplete",n)}return this},Ey([oe("eLabel")],t.prototype,"eLabel",void 0),Ey([oe("eWrapper")],t.prototype,"eWrapper",void 0),Ey([oe("eInput")],t.prototype,"eInput",void 0),t}(XA),SB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vh=function(r){SB(t,r);function t(e,n,i){n===void 0&&(n="ag-checkbox"),i===void 0&&(i="checkbox");var o=r.call(this,e,n,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),r.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),n=this.getNextValue();this.passive?this.dispatchChange(n,e):this.setValue(n)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,n){return this.refreshSelectedClass(e),this.setSelected(e,n),this},t.prototype.setName=function(e){var n=this.getInputElement();return n.name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,n){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,n||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,n,i){this.dispatchEvent({type:_.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:n,event:i});var o=this.getInputElement(),s={type:_.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:n};this.eventService.dispatchEvent(s)},t.prototype.onCheckboxClick=function(e){if(!(this.passive||this.eInput.disabled)){var n=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,n,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)},t}(hs),EB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZA=function(r){EB(t,r);function t(e){return r.call(this,e,"ag-radio-button","radio")||this}return t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){r.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,_.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Vh),xB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),DB=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},TB=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},sw=function(){function r(t,e,n){this.localeService=t,this.optionsFactory=e,this.valueFormatter=n}return r.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var n=t.operator!=null,i=this.localeService.getLocaleTextFunc();if(n){var o=t,s=o.conditions;if(!s){var a=o.condition1,l=o.condition2;s=[a,l]}var u=s.map(function(m){return e.getModelAsString(m)}),c=o.operator==="AND"?"andCondition":"orCondition";return u.join(" ".concat(i(c,$A[c])," "))}else{if(t.type===It.BLANK||t.type===It.NOT_BLANK)return i(t.type,t.type);var d=t,f=this.optionsFactory.getCustomOption(d.type),p=f||{},h=p.displayKey,g=p.displayName,v=p.numberOfInputs;return h&&g&&v===0?(i(h,g),g):this.conditionToString(d,f)}},r.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},r.prototype.formatValue=function(t){var e;return this.valueFormatter?(e=this.valueFormatter(t??null))!==null&&e!==void 0?e:"":String(t)},r}(),It=function(r){xB(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return t.prototype.getNumberOfInputs=function(e){var n=this.optionsFactory.getCustomOption(e);if(n){var i=n.numberOfInputs;return i??1}var o=[t.EMPTY,t.NOT_BLANK,t.BLANK];return e&&o.indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,n){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var n=this;this.eTypes.forEach(function(i,o){o===0?i.setValue(e,!0):i.setValue(n.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},t.prototype.areModelsEqual=function(e,n){var i=this;if(!e&&!n)return!0;if(!e&&n||e&&!n)return!1;var o=!e.operator,s=!n.operator,a=!o&&s||o&&!s;if(a)return!1;var l;if(o){var u=e,c=n;l=this.areSimpleModelsEqual(u,c)}else{var d=e,f=n;l=d.operator===f.operator&&Do(d.conditions,f.conditions,function(p,h){return i.areSimpleModelsEqual(p,h)})}return l},t.prototype.shouldRefresh=function(e){var n,i,o,s=this.getModel(),a=s?(n=s.conditions)!==null&&n!==void 0?n:[s]:null,l=(o=(i=e.filterOptions)===null||i===void 0?void 0:i.map(function(c){return typeof c=="string"?c:c.displayKey}))!==null&&o!==void 0?o:this.getDefaultFilterOptions(),u=!a||a.every(function(c){return l.find(function(d){return d===c.type})!==void 0});return!(!u||typeof e.maxNumConditions=="number"&&a&&a.length>e.maxNumConditions)},t.prototype.refresh=function(e){if(!this.shouldRefresh(e))return!1;var n=r.prototype.refresh.call(this,e);return n?(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0):!1},t.prototype.setModelIntoUi=function(e){var n=this,i=e.operator;if(i){var o=e;o.conditions||(o.conditions=[o.condition1,o.condition2]);var s=this.validateAndUpdateConditions(o.conditions),a=this.getNumConditions();if(s<a)this.removeConditionsAndOperators(s);else if(s>a)for(var l=a;l<s;l++)this.createJoinOperatorPanel(),this.createOption();var u=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),o.conditions.forEach(function(d,f){n.eTypes[f].setValue(d.type,!0),n.setConditionIntoUi(d,f)})}else{var c=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Rr.resolve()},t.prototype.validateAndUpdateConditions=function(e){var n=e.length;return n>this.maxNumConditions&&(e.splice(this.maxNumConditions),Pe('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),n=this.maxNumConditions),n},t.prototype.doesFilterPass=function(e){var n=this,i,o=this.getModel();if(o==null)return!0;var s=o.operator,a=[];if(s){var l=o;a.push.apply(a,TB([],DB((i=l.conditions)!==null&&i!==void 0?i:[]),!1))}else a.push(o);var u=s&&s==="OR"?"some":"every";return a[u](function(c){return n.individualConditionPasses(e,c)})},t.prototype.setParams=function(e){r.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new zA,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var n,i;e.suppressAndOrCondition!=null&&Pe('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),e.alwaysShowBothConditions!=null&&Pe('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(n=e.maxNumConditions)!==null&&n!==void 0?n:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Pe('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(i=e.numAlwaysVisibleConditions)!==null&&i!==void 0?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Pe('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Pe('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,n=this.createManagedBean(new Gh);this.eTypes.push(n),n.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(n.getGui());var i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(n),this.resetType(n);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(s){return e.resetInput(s)}),this.addChangedListeners(n,o)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var n=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var o=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(n,o,s),this.resetJoinOperatorOr(i,o,s),this.isReadOnly()||(n.onValueChange(this.listener),i.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,n,i){var o=this.createManagedBean(new ZA);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(i)),n.appendChild(o.getGui()),o},t.prototype.getDefaultJoinOperator=function(e){return e==="AND"||e==="OR"?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,n=this.optionsFactory.getFilterOptions();this.filterListOptions=n.map(function(i){return typeof i=="string"?e.createBoilerplateListOption(i):e.createCustomListOption(i)})},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach(function(n){e.addOption(n)}),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var n=e.displayKey,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:n,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(n)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,n=-1,i=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?n=o:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{var s=(e=this.lastUiCompletePosition)!==null&&e!==void 0?e:this.getNumConditions()-2;if(n<s){this.removeConditionsAndOperators(s+1);var a=n+1,l=s-a;l>0&&this.removeConditionsAndOperators(a,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n},t.prototype.updateConditionStatusesAndValues=function(e,n){var i=this;this.eTypes.forEach(function(s,a){var l=i.isConditionDisabled(a,e);s.setDisabled(l||i.filterListOptions.length<=1),a===1&&(Bl(i.eJoinOperatorPanels[0],l),i.eJoinOperatorsAnd[0].setDisabled(l),i.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(s,a){it(s,i.isConditionBodyVisible(a))});var o=(n??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(s,a){s.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(s,a){s.setValue(o,!0)}),this.forEachInput(function(s,a,l,u){i.setElementDisplayed(s,a<u),i.setElementDisabled(s,i.isConditionDisabled(l,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,n){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,n),this.removeElements(this.eConditionBodies,e,n),this.removeValueElements(e,n);var i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,n),this.removeComponents(this.eJoinOperatorsAnd,i,n),this.removeComponents(this.eJoinOperatorsOr,i,n)}},t.prototype.removeElements=function(e,n,i){var o=this.removeItems(e,n,i);o.forEach(function(s){return To(s)})},t.prototype.removeComponents=function(e,n,i){var o=this,s=this.removeItems(e,n,i);s.forEach(function(a){To(a.getGui()),o.destroyBean(a)})},t.prototype.removeItems=function(e,n,i){return i==null?e.splice(n):e.splice(n,i)},t.prototype.afterGuiAttached=function(e){if(r.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{var n=this.getInputs(0)[0];if(!n)return;n instanceof hs&&n.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){r.prototype.afterGuiDetached.call(this);var e=this.getModel();this.resetUiToActiveModel(e);for(var n=-1,i=-1,o=!1,s=this.getJoinOperator(),a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))n===-1&&(n=a,i=a);else{var l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<n;(l||u)&&(this.removeConditionsAndOperators(a,1),o=!0,u&&i--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(i,s),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i},t.prototype.getPlaceholderText=function(e,n){var i=this.translate(e);if(Fh(this.filterPlaceholder)){var o=this.filterPlaceholder,s=this.eTypes[n].getValue(),a=this.translate(s);i=o({filterOptionKey:s,filterOption:a,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i},t.prototype.resetPlaceholder=function(){var e=this,n=this.localeService.getLocaleTextFunc();this.forEachInput(function(i,o,s,a){if(i instanceof hs){var l=o===0&&a>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&a>1?n("ariaFilterFromValue","Filter from value"):o===0?n("ariaFilterValue","Filter Value"):n("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(e.getPlaceholderText(l,s)),i.setInputAriaLabel(u)}})},t.prototype.setElementValue=function(e,n,i){e instanceof hs&&e.setValue(n!=null?String(n):null,!0)},t.prototype.setElementDisplayed=function(e,n){e instanceof ke&&it(e.getGui(),n)},t.prototype.setElementDisabled=function(e,n){e instanceof ke&&Bl(e.getGui(),n)},t.prototype.attachElementOnChange=function(e,n){e instanceof hs&&e.onValueChange(n)},t.prototype.forEachInput=function(e){var n=this;this.getConditionTypes().forEach(function(i,o){n.forEachPositionTypeInput(o,i,e)})},t.prototype.forEachPositionInput=function(e,n){var i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,n)},t.prototype.forEachPositionTypeInput=function(e,n,i){for(var o=this.getNumberOfInputs(n),s=this.getInputs(e),a=0;a<s.length;a++){var l=s[a];l!=null&&i(l,a,e,o)}},t.prototype.isConditionDisabled=function(e,n){return this.isReadOnly()?!0:e===0?!1:e>n+1},t.prototype.isConditionBodyVisible=function(e){var n=this.getConditionType(e),i=this.getNumberOfInputs(n);return i>0},t.prototype.isConditionUiComplete=function(e){if(e>=this.getNumConditions())return!1;var n=this.getConditionType(e);return!(n===t.EMPTY||this.getValues(e).some(function(i){return i==null}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&e.push(this.createCondition(n));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var n=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(i){return n.resetType(i)}),this.eJoinOperatorsAnd.forEach(function(i,o){return n.resetJoinOperatorAnd(i,o,n.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(i,o){return n.resetJoinOperatorOr(i,o,n.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(i){return n.resetInput(i)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Rr.resolve()},t.prototype.resetType=function(e){var n=this.localeService.getLocaleTextFunc(),i=n("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,n,i){this.resetJoinOperator(e,n,this.isDefaultOperator("AND"),this.translate("andCondition"),i)},t.prototype.resetJoinOperatorOr=function(e,n,i){this.resetJoinOperator(e,n,this.isDefaultOperator("OR"),this.translate("orCondition"),i)},t.prototype.resetJoinOperator=function(e,n,i,o,s){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(s)).setLabel(o),n)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(n,i){return e.updateJoinOperatorDisabled(n,i)}),this.eJoinOperatorsOr.forEach(function(n,i){return e.updateJoinOperatorDisabled(n,i)})},t.prototype.updateJoinOperatorDisabled=function(e,n){e.setDisabled(this.isReadOnly()||n>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,n){var i=this,o=this.mapValuesFromModel(e);this.forEachInput(function(s,a,l,u){l===n&&i.setElementValue(s,o[a]!=null?o[a]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var n=this;this.forEachInput(function(i,o,s,a){n.setElementValue(i,o===0&&s===0?e:null,!0)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,n){var i=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(n,function(o){i.attachElementOnChange(o,i.listener)}))},t.prototype.individualConditionPasses=function(e,n){var i=this.getCellValue(e.node),o=this.mapValuesFromModel(n),s=this.optionsFactory.getCustomOption(n.type),a=this.evaluateCustomFilter(s,o,i);return a??(i==null?this.evaluateNullValue(n.type):this.evaluateNonNullValue(o,i,n,e))},t.prototype.evaluateCustomFilter=function(e,n,i){if(e!=null){var o=e.predicate;if(o!=null&&!n.some(function(s){return s==null}))return o(n,i)}},t.prototype.isBlank=function(e){return e==null||typeof e=="string"&&e.trim().length===0},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(vh),RB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$t=function(r){RB(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setParams=function(e){r.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,n,i){var o=this.comparator(),s=e[0]!=null?o(e[0],n):0;switch(i.type){case t.EQUALS:return s===0;case t.NOT_EQUAL:return s!==0;case t.GREATER_THAN:return s>0;case t.GREATER_THAN_OR_EQUAL:return s>=0;case t.LESS_THAN:return s<0;case t.LESS_THAN_OR_EQUAL:return s<=0;case t.IN_RANGE:{var a=o(e[1],n);return this.scalarFilterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0}case t.BLANK:return this.isBlank(n);case t.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(It),JA=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),SC=function(){return SC=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},SC.apply(this,arguments)},AB=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UT=1e3,WT=1/0,eO=function(r){JA(t,r);function t(e,n,i){var o=r.call(this,n,i)||this;return o.dateFilterParams=e,o}return t.prototype.conditionToString=function(e,n){var i=e.type,o=(n||{}).numberOfInputs,s=i==It.IN_RANGE||o===2,a=cr(e.dateFrom),l=cr(e.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){var c=a!==null?Gl(a,u):"null",d=l!==null?Gl(l,u):"null";return"".concat(c,"-").concat(d)}return a!=null?Gl(a,u):"".concat(i)},t.prototype.updateParams=function(e){r.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},t}(sw),tO=function(r){JA(t,r);function t(){var e=r.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=UT,e.maxValidYear=WT,e.minValidDate=null,e.maxValidDate=null,e}return t.prototype.afterGuiAttached=function(e){r.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var n=e||{},i=n.dateFrom,o=n.dateTo,s=n.type;return[i&&cr(i)||null,o&&cr(o)||null].slice(0,this.getNumberOfInputs(s))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,n){var i=n;return n==null||i<e?-1:i>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,r.prototype.setParams.call(this,e);var n=function(i,o){if(e[i]!=null)if(isNaN(e[i]))console.warn("AG Grid: DateFilter ".concat(i," is not a number"));else return e[i]==null?o:Number(e[i]);return o};this.minValidYear=n("minValidYear",UT),this.maxValidYear=n("maxValidYear",WT),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:cr(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:cr(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new eO(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var n=this,i=new WA(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return i.destroy()}),i},t.prototype.setElementValue=function(e,n){e.setDate(n)},t.prototype.setElementDisplayed=function(e,n){e.setDisplayed(n)},t.prototype.setElementDisabled=function(e,n){e.setDisabled(n)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,n,i,o){var s=document.createElement("div");s.classList.add("ag-filter-".concat(o)),s.classList.add("ag-filter-date-".concat(o)),n.push(s),e.appendChild(s),i.push(this.createDateCompWrapper(s))},t.prototype.removeValueElements=function(e,n){this.removeDateComps(this.dateConditionFromComps,e,n),this.removeDateComps(this.dateConditionToComps,e,n),this.removeItems(this.eConditionPanelsFrom,e,n),this.removeItems(this.eConditionPanelsTo,e,n)},t.prototype.removeDateComps=function(e,n,i){var o=this.removeItems(e,n,i);o.forEach(function(s){return s.destroy()})},t.prototype.isValidDateValue=function(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0},t.prototype.isConditionUiComplete=function(e){var n=this;if(!r.prototype.isConditionUiComplete.call(this,e))return!1;var i=!0;return this.forEachInput(function(o,s,a,l){a!==e||!i||s>=l||(i=i&&n.isValidDateValue(o.getDate()))}),i},t.prototype.areSimpleModelsEqual=function(e,n){return e.dateFrom===n.dateFrom&&e.dateTo===n.dateTo&&e.type===n.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var n=this.getConditionType(e),i={},o=this.getValues(e);return o.length>0&&(i.dateFrom=Yr(o[0])),o.length>1&&(i.dateTo=Yr(o[1])),SC({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},i)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(n),o.setInputAriaLabel(i)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var n=[];return this.forEachPositionInput(e,function(i,o,s,a){o<a&&n.push(i.getDate())}),n},t.prototype.translate=function(e){return e===$t.LESS_THAN?r.prototype.translate.call(this,"before"):e===$t.GREATER_THAN?r.prototype.translate.call(this,"after"):r.prototype.translate.call(this,e)},t.prototype.getModelAsString=function(e){var n;return(n=this.filterModelFormatter.getModelAsString(e))!==null&&n!==void 0?n:""},t.DEFAULT_FILTER_OPTIONS=[$t.EQUALS,$t.NOT_EQUAL,$t.LESS_THAN,$t.GREATER_THAN,$t.IN_RANGE,$t.BLANK,$t.NOT_BLANK],AB([w("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}($t),OB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),nO=function(r){OB(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e?.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}var n=e.operator,i;if(n){var o=e;i=o.conditions[0]}else i=e;this.lastType=i.type},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);var n=e.operator;if(n)return!1;var i=e;return this.isTypeEditable(i.type)},t.prototype.init=function(e){this.setSimpleParams(e,!1)},t.prototype.setSimpleParams=function(e,n){n===void 0&&(n=!0),this.optionsFactory=new zA,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),n||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;var i=this.isTypeEditable(this.lastType);this.setEditable(i)},t.prototype.onParamsUpdated=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var n=this.optionsFactory.getCustomOption(e),i=(n||{}).numberOfInputs;return i==null||i==1},t.prototype.isTypeEditable=function(e){var n=[It.IN_RANGE,It.EMPTY,It.BLANK,It.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&n.indexOf(e)<0},t}(ke),bB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),xy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},FB=function(r){bB(t,r);function t(){return r.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return t.prototype.getDefaultFilterOptions=function(){return tO.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){r.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new eO(this.filterParams,this.localeService,this.optionsFactory);var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(e){r.prototype.onParamsUpdated.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())},t.prototype.updateCompOnModelChange=function(e){var n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(n),n){if(e){var i=e;this.dateComp.setDate(cr(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)},t.prototype.setEditable=function(e){it(this.eDateWrapper,e),it(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(r.prototype.setLastTypeFromModel.call(this,e),this.updateCompOnModelChange(e))},t.prototype.onDateChanged=function(){var e=this,n=this.dateComp.getDate(),i=Yr(n);this.params.parentFilterInstance(function(o){if(o){var s=cr(i);o.onFloatingFilterChanged(e.getLastType()||null,s)}})},t.prototype.getDateComponentParams=function(){var e=vh.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:$r(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new WA(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.updateDateComponent=function(){var e=this.getDateComponentParams(),n=this.gridOptionsService,i=n.api,o=n.columnApi,s=n.context;e.api=i,e.columnApi=o,e.context=s,this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},xy([w("userComponentFactory")],t.prototype,"userComponentFactory",void 0),xy([oe("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),xy([oe("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(nO),IB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),PB=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MB=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},NB=function(r){IB(t,r);function t(){return r.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this;this.params=e,this.setParams(e);var i=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){n.eDateInput.isDisabled()||n.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(s){s.target===i.activeElement&&(n.eDateInput.isDisabled()||n.params.onDateChanged())})},t.prototype.setParams=function(e){var n=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&wi(),n.type=i?"date":"text";var o=e.filterParams||{},s=o.minValidYear,a=o.maxValidYear,l=o.minValidDate,u=o.maxValidDate;if(l&&s&&Pe("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),u&&a&&Pe("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&u){var c=MB([l,u].map(function(p){return p instanceof Date?p:cr(p)}),2),d=c[0],f=c[1];d&&f&&d.getTime()>f.getTime()&&Pe("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?l instanceof Date?n.min=Gl(l):n.min=l:s&&(n.min="".concat(s,"-01-01")),u?u instanceof Date?n.max=Gl(u):n.max=u:a&&(n.max="".concat(a,"-12-31"))},t.prototype.onParamsUpdated=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return cr(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(Yr(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:Mh()||WC()||wi()&&UC()>=14.1},PB([oe("eDateInput")],t.prototype,"eDateInput",void 0),t}(ke),LB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Da=function(r){LB(t,r);function t(e,n,i){return n===void 0&&(n="ag-text-field"),i===void 0&&(i="text"),r.call(this,e,n,i)||this}return t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,n){return this.eInput.value!==e&&(this.eInput.value=X(e)?e:""),r.prototype.setValue.call(this,e,n)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("[".concat(this.config.allowedCharPattern,"]")),n=function(i){kh(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",n),this.addManagedListener(this.eInput,"paste",function(i){var o,s=(o=i.clipboardData)===null||o===void 0?void 0:o.getData("text");s&&s.split("").some(function(a){return!e.test(a)})&&i.preventDefault()})},t}(hs),kB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),aw=function(r){kB(t,r);function t(e){return r.call(this,e,"ag-number-field","number")||this}return t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var n=parseFloat(e.eInput.value),i=isNaN(n)?"":e.normalizeValue(n.toString());e.value!==i&&e.setValue(i)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));var n=parseFloat(e);return this.min!=null&&n<this.min?e=this.min.toString():this.max!=null&&n>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,n){if(this.precision==null)return e;if(n){var i=parseFloat(e).toFixed(this.precision);return parseFloat(i).toString()}var o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},t.prototype.setMin=function(e){return this.min===e?this:(this.min=e,eo(this.eInput,"min",e),this)},t.prototype.setMax=function(e){return this.max===e?this:(this.max=e,eo(this.eInput,"max",e),this)},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,eo(this.eInput,"step",e),this)},t.prototype.setValue=function(e,n){var i=this;return this.setValueOrInputValue(function(o){return r.prototype.setValue.call(i,o,n)},function(){return i},e)},t.prototype.setStartValue=function(e){var n=this;return this.setValueOrInputValue(function(i){return r.prototype.setValue.call(n,i,!0)},function(i){n.eInput.value=i},e)},t.prototype.setValueOrInputValue=function(e,n,i){if(X(i)){var o=this.isScientificNotation(i);if(o&&this.eInput.validity.valid)return e(i);if(!o){i=this.adjustPrecision(i);var s=this.normalizeValue(i);o=i!=s}if(o)return n(i)}return e(i)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):r.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return typeof e=="string"&&e.includes("e")},t}(Da),rO=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),iO=function(r){rO(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.conditionToString=function(e,n){var i=(n||{}).numberOfInputs,o=e.type==It.IN_RANGE||i===2;return o?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):e.filter!=null?this.formatValue(e.filter):"".concat(e.type)},t}(sw);function EC(r){var t=(r??{}).allowedCharPattern;return t??null}var oO=function(r){rO(t,r);function t(){var e=r.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return t.prototype.refresh=function(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:r.prototype.refresh.call(this,e)},t.prototype.mapValuesFromModel=function(e){var n=e||{},i=n.filter,o=n.filterTo,s=n.type;return[this.processValue(i),this.processValue(o)].slice(0,this.getNumberOfInputs(s))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,n){return e===n?0:e<n?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,r.prototype.setParams.call(this,e),this.filterModelFormatter=new iO(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(e,n,i){var o=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;r.prototype.setElementValue.call(this,e,o)},t.prototype.createValueElement=function(){var e=EC(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),rn(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",e),this.createFromToElement(n,this.eValuesTo,"to",e),n},t.prototype.createFromToElement=function(e,n,i,o){var s=this.createManagedBean(o?new Da({allowedCharPattern:o}):new aw);s.addCssClass("ag-filter-".concat(i)),s.addCssClass("ag-filter-filter"),n.push(s),e.appendChild(s.getGui())},t.prototype.removeValueElements=function(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)},t.prototype.getValues=function(e){var n=this,i=[];return this.forEachPositionInput(e,function(o,s,a,l){s<l&&i.push(n.processValue(n.stringToFloat(o.getValue())))}),i},t.prototype.areSimpleModelsEqual=function(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return e==null||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if(typeof e=="number")return e;var n=Ji(e);return n!=null&&n.trim()===""&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):n==null||n.trim()==="-"?null:parseFloat(n)},t.prototype.createCondition=function(e){var n=this.getConditionType(e),i={filterType:this.getFilterType(),type:n},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var n;return(n=this.filterModelFormatter.getModelAsString(e))!==null&&n!==void 0?n:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput(function(n){if(!n.getInputElement().validity.valid){e=!0;return}}),e},t.DEFAULT_FILTER_OPTIONS=[$t.EQUALS,$t.NOT_EQUAL,$t.GREATER_THAN,$t.GREATER_THAN_OR_EQUAL,$t.LESS_THAN,$t.LESS_THAN_OR_EQUAL,$t.IN_RANGE,$t.BLANK,$t.NOT_BLANK],t}($t),sO=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mh=function(){return mh=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},mh.apply(this,arguments)},aO=function(r){sO(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.conditionToString=function(e,n){var i=(n||{}).numberOfInputs,o=e.type==It.IN_RANGE||i===2;return o?"".concat(e.filter,"-").concat(e.filterTo):e.filter!=null?"".concat(e.filter):"".concat(e.type)},t}(sw),lw=function(r){sO(t,r);function t(){var e=r.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return t.trimInput=function(e){var n=e&&e.trim();return n===""?e:n},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,r.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new aO(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(He.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(n){var i=n.filterOption,o=n.value,s=n.filterText;return e(i,o,s)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var n=this.getConditionType(e),i={filterType:this.getFilterType(),type:n},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,n){var i=this,o=[];return this.forEachPositionInput(e,function(s,a,l,u){var c;if(a<u){var d=Ji(s.getValue());n&&i.textFilterParams.trimInput&&(d=(c=t.trimInput(d))!==null&&c!==void 0?c:null,s.setValue(d,!0)),o.push(d)}}),o},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),rn(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,n,i){var o=this.createManagedBean(new Da);o.addCssClass("ag-filter-".concat(i)),o.addCssClass("ag-filter-filter"),n.push(o),e.appendChild(o.getGui())},t.prototype.removeValueElements=function(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)},t.prototype.mapValuesFromModel=function(e){var n=e||{},i=n.filter,o=n.filterTo,s=n.type;return[i||null,o||null].slice(0,this.getNumberOfInputs(s))},t.prototype.evaluateNullValue=function(e){var n=[It.NOT_EQUAL,It.NOT_CONTAINS,It.BLANK];return e?n.indexOf(e)>=0:!1},t.prototype.evaluateNonNullValue=function(e,n,i,o){var s=this,a=e.map(function(m){return s.formatter(m)})||[],l=this.formatter(n),u=this.textFilterParams,c=u.api,d=u.colDef,f=u.column,p=u.columnApi,h=u.context,g=u.textFormatter;if(i.type===It.BLANK)return this.isBlank(n);if(i.type===It.NOT_BLANK)return!this.isBlank(n);var v={api:c,colDef:d,column:f,columnApi:p,context:h,node:o.node,data:o.data,filterOption:i.type,value:l,textFormatter:g};return a.some(function(m){return s.matcher(mh(mh({},v),{filterText:m}))})},t.prototype.getModelAsString=function(e){var n;return(n=this.filterModelFormatter.getModelAsString(e))!==null&&n!==void 0?n:""},t.DEFAULT_FILTER_OPTIONS=[It.CONTAINS,It.NOT_CONTAINS,It.EQUALS,It.NOT_EQUAL,It.STARTS_WITH,It.ENDS_WITH,It.BLANK,It.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return e==null?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var n=e.filterOption,i=e.value,o=e.filterText;if(o==null)return!1;switch(n){case t.CONTAINS:return i.indexOf(o)>=0;case t.NOT_CONTAINS:return i.indexOf(o)<0;case t.EQUALS:return i===o;case t.NOT_EQUAL:return i!=o;case t.STARTS_WITH:return i.indexOf(o)===0;case t.ENDS_WITH:var s=i.lastIndexOf(o);return s>=0&&s===i.length-o.length;default:return!1}},t}(It),lO=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uO=function(r){lO(t,r);function t(e){var n=r.call(this)||this;return n.params=e,n.valueChangedListener=function(){},n}return t.prototype.setupGui=function(e){var n=this,i;this.eFloatingFilterTextInput=this.createManagedBean(new Da((i=this.params)===null||i===void 0?void 0:i.config));var o=this.eFloatingFilterTextInput.getGui();e.appendChild(o),this.addManagedListener(o,"input",function(s){return n.valueChangedListener(s)}),this.addManagedListener(o,"keydown",function(s){return n.valueChangedListener(s)})},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,n){this.eFloatingFilterTextInput.setValue(e,n)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(Q),cO=function(r){lO(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.setupFloatingFilterInputService(e),r.prototype.init.call(this,e),this.setTextInputParams(e)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var n;this.params=e;var i=(n=e.browserAutoComplete)!==null&&n!==void 0?n:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=vh.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=vh.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=$r(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(s)}},t.prototype.onParamsUpdated=function(e){r.prototype.onParamsUpdated.call(this,e),this.setTextInputParams(e)},t.prototype.recreateFloatingFilterInputService=function(e){var n=this.floatingFilterInputService.getValue();fn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(n,!0)},t.prototype.getAriaLabel=function(e){var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return"".concat(n," ").concat(i("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var n=this,i=e.key===B.ENTER;if(!(this.applyActive&&!i)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=lw.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(n.getLastType()||null,o||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},Dy([w("columnModel")],t.prototype,"columnModel",void 0),Dy([oe("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),Dy([ne],t.prototype,"postConstruct",null),t}(nO),dO=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),GB=function(r){dO(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return t.prototype.setupGui=function(e){var n=this;this.eFloatingFilterNumberInput=this.createManagedBean(new aw),this.eFloatingFilterTextInput=this.createManagedBean(new Da),this.eFloatingFilterTextInput.setDisabled(!0);var i=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(i),e.appendChild(o),this.setupListeners(i,function(s){return n.valueChangedListener(s)}),this.setupListeners(o,function(s){return n.valueChangedListener(s)})},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,n){this.getActiveInputElement().setValue(e,n)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,n){this.addManagedListener(e,"input",n),this.addManagedListener(e,"keydown",n)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(Q),VB=function(r){dO(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){var n;r.prototype.init.call(this,e),this.filterModelFormatter=new iO(this.localeService,this.optionsFactory,(n=e.filterParams)===null||n===void 0?void 0:n.numberFormatter)},t.prototype.onParamsUpdated=function(e){var n=EC(e.filterParams);n!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),r.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return oO.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=EC(e.filterParams),this.allowedCharPattern?this.createManagedBean(new uO({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new GB)},t}(cO),HB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),BB=function(r){HB(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.call(this,e),this.filterModelFormatter=new aO(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(e){r.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return lw.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new uO)},t}(cO),Or=function(){function r(t,e){e===void 0&&(e=!1);var n=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new ys,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",i,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",s,{passive:!1})})}return r.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e].identifier===this.touchStart.identifier;if(n)return t[e]}return null},r.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},r.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){var i=e.touchStart===n;if(e.touching&&i&&!e.moved){e.moved=!0;var o={type:r.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t};e.eventService.dispatchEvent(o)}},500)}},r.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e){var n=!rw(e,this.touchStart,4);n&&(this.moved=!0)}}},r.prototype.onTouchEnd=function(t){if(this.touching){if(!this.moved){var e={type:r.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}},r.prototype.checkForDoubleTap=function(){var t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var e=t-this.lastTapTime;if(e>r.DOUBLE_TAP_MILLIS){var n={type:r.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=t}else this.lastTapTime=t},r.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},r.EVENT_TAP="tap",r.EVENT_DOUBLE_TAP="doubleTap",r.EVENT_LONG_TAP="longTap",r.DOUBLE_TAP_MILLIS=500,r}(),jB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),aa=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uw=function(r){jB(t,r);function t(e){var n=r.call(this)||this;return e||n.setTemplate(t.TEMPLATE),n}return t.prototype.attachCustomElements=function(e,n,i,o,s){this.eSortOrder=e,this.eSortAsc=n,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=s},t.prototype.setupSort=function(e,n){var i=this;n===void 0&&(n=!1),this.column=e,this.suppressOrder=n,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",function(){return i.updateIcons()}),this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,function(){return i.updateIcons()}),this.addManagedListener(this.eventService,_.EVENT_SORT_CHANGED,function(){return i.onSortChanged()}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,n,i){if(n!=null){var o=Ht(e,this.gridOptionsService,i);o&&n.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var n=e==="asc";it(this.eSortAsc,n,{skipAriaHidden:!0})}if(this.eSortDesc){var i=e==="desc";it(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),s=e==null;it(this.eSortNone,!o&&s,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var n=this.column.getColDef().showRowGroup,i=this.gridOptionsService.isColumnsSortingCoupledToGroup();i&&n&&(this.addManagedListener(this.eventService,_.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";it(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var e=this,n;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=(n=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&n!==void 0?n:-1,s=i.some(function(l){var u;return(u=e.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:-1>=1}),a=o>=0&&s;it(this.eSortOrder,a,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():fn(this.eSortOrder)}},t.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,aa([oe("eSortOrder")],t.prototype,"eSortOrder",void 0),aa([oe("eSortAsc")],t.prototype,"eSortAsc",void 0),aa([oe("eSortDesc")],t.prototype,"eSortDesc",void 0),aa([oe("eSortMixed")],t.prototype,"eSortMixed",void 0),aa([oe("eSortNone")],t.prototype,"eSortNone",void 0),aa([w("columnModel")],t.prototype,"columnModel",void 0),aa([w("sortController")],t.prototype,"sortController",void 0),t}(ke),UB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_r=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WB=function(r){UB(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=eA(this.params.template,t.TEMPLATE);return e=e&&e.trim?e.trim():e,e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var n=Kt(this.currentDisplayName);this.eText&&(this.eText.innerHTML=n)}},t.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,n,i){if(n!=null){var o=Ht(e,this.gridOptionsService,i);o&&n.appendChild(o)}},t.prototype.setupTap=function(){var e=this,n=this.gridOptionsService;if(!n.get("suppressTouch")){var i=new Or(this.getGui(),!0),o=n.get("suppressMenuHide"),s=o&&X(this.eMenu),a=s?new Or(this.eMenu,!0):i;if(this.params.enableMenu){var l=s?"EVENT_TAP":"EVENT_LONG_TAP",u=function(d){n.api.showColumnMenuAfterMouseClick(e.params.column,d.touchStart)};this.addManagedListener(a,Or[l],u)}if(this.params.enableSorting){var c=function(d){var f=d.touchStart.target;o&&e.eMenu.contains(f)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,Or.EVENT_TAP,c)}this.addDestroyFunc(function(){return i.destroy()}),s&&this.addDestroyFunc(function(){return a.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsService.get("suppressMenuHide"),n=Cs()&&e,i=this.params.enableMenu&&!n;return i},t.prototype.shouldSuppressMenuHide=function(){return this.gridOptionsService.get("suppressMenuHide")},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){To(this.eMenu);return}this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new uw(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){this.addManagedListener(this.params.column,yt.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(i){var o=e.params.column.isMoving(),s=new Date().getTime(),a=s-e.lastMovingChanged<50,l=o||a;if(!l){var u=e.gridOptionsService.get("multiSortKey")==="ctrl",c=u?i.ctrlKey||i.metaKey:i.shiftKey;e.params.progressSort(c)}});var n=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var i=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),o=i?.every(function(a){return e.params.column.getSort()==a.getSort()}),s=!o;e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",s)}};this.addManagedListener(this.eventService,_.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,yt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();it(this.eFilter,e,{skipAriaHidden:!0})},t.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,_r([w("sortController")],t.prototype,"sortController",void 0),_r([w("menuFactory")],t.prototype,"menuFactory",void 0),_r([w("columnModel")],t.prototype,"columnModel",void 0),_r([oe("eFilter")],t.prototype,"eFilter",void 0),_r([oe("eSortIndicator")],t.prototype,"eSortIndicator",void 0),_r([oe("eMenu")],t.prototype,"eMenu",void 0),_r([oe("eLabel")],t.prototype,"eLabel",void 0),_r([oe("eText")],t.prototype,"eText",void 0),_r([oe("eSortOrder")],t.prototype,"eSortOrder",void 0),_r([oe("eSortAsc")],t.prototype,"eSortAsc",void 0),_r([oe("eSortDesc")],t.prototype,"eSortDesc",void 0),_r([oe("eSortMixed")],t.prototype,"eSortMixed",void 0),_r([oe("eSortNone")],t.prototype,"eSortNone",void 0),t}(ke),zB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ty=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$B=function(r){zB(t,r);function t(){return r.call(this,t.TEMPLATE)||this}return t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){var e=this.params;e.template&&Pe("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var n=function(s){if(!Ci(s)){var a=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,n),this.addTouchAndClickListeners(this.eOpenIcon,n);var i=function(s){to(s)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",n),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,Nt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,Nt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,n){var i=new Or(e,!0);this.addManagedListener(i,Or.EVENT_TAP,n),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(e,"click",n)},t.prototype.updateIconVisibility=function(){var e=this.params.columnGroup;if(e.isExpandable()){var n=this.params.columnGroup.isExpanded();it(this.eOpenIcon,n),it(this.eCloseIcon,!n)}else it(this.eOpenIcon,!1),it(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,n){var i=Ht(e,this.gridOptionsService,null);i&&this.getRefElement(n).appendChild(i)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){it(this.eOpenIcon,!1),it(this.eCloseIcon,!1);return}},t.prototype.setupLabel=function(){var e,n=this.params,i=n.displayName,o=n.columnGroup;if(X(i)){var s=Kt(i);this.getRefElement("agLabel").innerHTML=s}this.addOrRemoveCssClass("ag-sticky-label",!(!((e=o.getColGroupDef())===null||e===void 0)&&e.suppressStickyLabel))},t.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,Ty([w("columnModel")],t.prototype,"columnModel",void 0),Ty([oe("agOpened")],t.prototype,"eOpenIcon",void 0),Ty([oe("agClosed")],t.prototype,"eCloseIcon",void 0),t}(ke),KB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ta=function(r){KB(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),r.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent,n=e&&e.isAlive();n&&e.getGui().classList.remove("ag-has-popup"),r.prototype.destroy.call(this)},t}(ke),YB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),qB=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XB=function(r){YB(t,r);function t(){return r.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),X(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var n=e.key;(n===B.LEFT||n===B.UP||n===B.RIGHT||n===B.DOWN||e.shiftKey&&n===B.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return!X(e)&&!X(this.params.value)?this.params.value:this.params.parseValue(e)},t.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,qB([oe("eTextArea")],t.prototype,"eTextArea",void 0),t}(Ta),QB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zT=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZB=function(r){QB(t,r);function t(){var e=r.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return e.startedByEnter=!1,e}return t.prototype.init=function(e){this.focusAfterAttached=e.cellStartedEdit;var n=this,i=n.eSelect,o=n.valueFormatterService,s=n.gridOptionsService,a=e.values,l=e.value,u=e.eventKey;if(Oe(a)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=u!=null?u===B.ENTER:!1;var c=!1;a.forEach(function(h){var g={value:h},v=o.formatValue(e.column,null,h),m=v!=null;g.text=m?v:h,i.addOption(g),c=c||l===h}),c?i.setValue(e.value,!0):e.values.length&&i.setValue(e.values[0],!0);var d=e.valueListGap,f=e.valueListMaxWidth,p=e.valueListMaxHeight;d!=null&&i.setPickerGap(d),p!=null&&i.setPickerMaxHeight(p),f!=null&&i.setPickerMaxWidth(f),s.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,Gh.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){e.isAlive()&&e.eSelect.showPicker()})},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},zT([w("valueFormatterService")],t.prototype,"valueFormatterService",void 0),zT([oe("eSelect")],t.prototype,"eSelect",void 0),t}(Ta),JB=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),e3=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hh=function(r){JB(t,r);function t(e){var n=r.call(this,`
            <div class="ag-cell-edit-wrapper">
                `.concat(e.getTemplate(),`
            </div>`))||this;return n.cellEditorInput=e,n}return t.prototype.init=function(e){this.params=e;var n=this.eInput;this.cellEditorInput.init(n,e);var i;if(e.cellStartedEdit){this.focusAfterAttached=!0;var o=e.eventKey;o===B.BACKSPACE||e.eventKey===B.DELETE?i="":o&&o.length===1?i=o:(i=this.cellEditorInput.getStartValue(),o!==B.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&n.setStartValue(i),this.addManagedListener(n.getGui(),"keydown",function(s){var a=s.key;(a===B.PAGE_UP||a===B.PAGE_DOWN)&&s.preventDefault()})},t.prototype.afterGuiAttached=function(){var e,n,i=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){wi()||o.getFocusableElement().focus();var s=o.getInputElement();this.highlightAllOnFocus?s.select():(n=(e=this.cellEditorInput).setCaret)===null||n===void 0||n.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,n=e.getFocusableElement(),i=e.getInputElement();n.focus(),i.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},e3([oe("eInput")],t.prototype,"eInput",void 0),t}(Ta),t3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),n3=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,e.maxLength!=null&&t.setMaxLength(e.maxLength)},r.prototype.getValue=function(){var t=this.eInput.getValue();return!X(t)&&!X(this.params.value)?this.params.value:this.params.parseValue(t)},r.prototype.getStartValue=function(){var t=this.params.useFormatter||this.params.column.getColDef().refData;return t?this.params.formatValue(this.params.value):this.params.value},r.prototype.setCaret=function(){var t=this.eInput.getValue(),e=X(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},r}(),$T=function(r){t3(t,r);function t(){return r.call(this,new n3)||this}return t}(Hh),r3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),i3=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},o3="\u2191",s3="\u2193",a3=function(r){r3(t,r);function t(){var e=r.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e}return t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,n){var i=Math.abs(n),o=e.formatValue(i),s=X(o)?o:i,a=n>=0;a?this.eDelta.innerHTML=o3+s:this.eDelta.innerHTML=s3+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var n=this.refreshCount;window.setTimeout(function(){n===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),fn(this.eDelta)},t.prototype.refresh=function(e){var n=e.value;if(n===this.lastValue||(X(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:X(e.value)?this.eValue.innerHTML=n:fn(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof this.lastValue=="number"){var i=n-this.lastValue;this.showDelta(e,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=n,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',i3([w("filterManager")],t.prototype,"filterManager",void 0),t}(ke),l3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),u3=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},c3=function(r){l3(t,r);function t(){var e=r.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var n=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Cn('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){n===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){n===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var n=e.value;return Oe(n)&&(n=""),n===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=n,X(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:X(e.value)?this.eCurrent.innerHTML=n:fn(this.eCurrent),!0)},t.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`,u3([w("filterManager")],t.prototype,"filterManager",void 0),t}(ke),Ml=function(){return Ml=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ml.apply(this,arguments)},ze=function(){function r(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=r.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return r.prototype.setData=function(t){this.setDataCommon(t,!1)},r.prototype.updateData=function(t){this.setDataCommon(t,!0)},r.prototype.setDataCommon=function(t,e){var n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var i=this.createDataChangedEvent(t,n,e);this.dispatchLocalEvent(i)},r.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},r.prototype.createDataChangedEvent=function(t,e,n){return{type:r.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:n}},r.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},r.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},r.prototype.createDaemonNode=function(){var t=new r(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},r.prototype.setDataAndId=function(t,e){var n=X(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);var o=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(o)},r.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(t?t(this):!0)},r.prototype.setRowSelectable=function(t,e){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_SELECTABLE_CHANGED)),e)return;var n=this.beans.gridOptionsService.get("groupSelectsChildren");if(n){var i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},r.prototype.setId=function(t){var e=this.beans.gridOptionsService.getCallback("getRowId");if(e)if(this.data){var n=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(r.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(r.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},r.prototype.getGroupKeys=function(t){t===void 0&&(t=!1);var e=[],n=this;for(t&&(n=n.parent);n&&n.level>=0;)e.push(n.key),n=n.parent;return e.reverse(),e},r.prototype.isPixelInRange=function(t){return!X(this.rowTop)||!X(this.rowHeight)?!1:t>=this.rowTop&&t<this.rowTop+this.rowHeight},r.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_FIRST_CHILD_CHANGED)))},r.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_LAST_CHILD_CHANGED)))},r.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_CHILD_INDEX_CHANGED)))},r.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_TOP_CHANGED)),this.setDisplayed(t!==null))},r.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},r.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DISPLAYED_CHANGED)))},r.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DRAGGING_CHANGED)))},r.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HIGHLIGHT_CHANGED)))},r.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},r.prototype.isHovered=function(){return this.hovered},r.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},r.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_MASTER_CHANGED)))},r.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_GROUP_CHANGED)))},r.prototype.setRowHeight=function(t,e){e===void 0&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HEIGHT_CHANGED))},r.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=$r(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},r.prototype.checkAutoHeights=function(){var t=this,e=!1,n=!0,i=0,o=this.__autoHeights;if(o!=null){var s=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(s.forEach(function(l){var u=o[l.getId()];if(u==null)if(t.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":c=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:c=t.beans.columnModel.getViewportCenterColumnsForRow(t);break}if(c.includes(l)){e=!0;return}u=-1}else{e=!0;return}else n=!1;u>i&&(i=u)}),!e&&((n||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight)){this.setRowHeight(i);var a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}}},r.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ROW_INDEX_CHANGED)))},r.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_UI_LEVEL_CHANGED)))},r.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(_.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},r.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},r.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},r.prototype.setDataValue=function(t,e,n){var i=this,o=function(){var u;return typeof t!="string"?t:(u=i.beans.columnModel.getGridColumn(t))!==null&&u!==void 0?u:i.beans.columnModel.getPrimaryColumn(t)},s=o(),a=this.getValueFromValueService(s);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,a,e,n),!1;var l=this.beans.valueService.setValue(this,s,e,n);return this.dispatchCellChangedEvent(s,e,a),this.checkRowSelectable(),l},r.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!e,i=this.beans.gridOptionsService.getGroupIncludeFooter(),o=i({node:this}),s=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),a=n&&o&&!s,l=this.beans.valueService.getValue(t,this,!1,a);return l},r.prototype.dispatchEventForSaveValueReadOnly=function(t,e,n,i){var o={type:_.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:e,newValue:n,value:n,source:i};this.beans.eventService.dispatchEvent(o)},r.prototype.setGroupValue=function(t,e){var n=this.beans.columnModel.getGridColumn(t);Oe(this.groupData)&&(this.groupData={});var i=n.getColId(),o=this.groupData[i];o!==e&&(this.groupData[i]=e,this.dispatchCellChangedEvent(n,e,o))},r.prototype.setAggData=function(t){var e=this,n=KR([this.aggData,t]),i=this.aggData;this.aggData=t,this.eventService&&n.forEach(function(o){var s=e.aggData?e.aggData[o]:void 0,a=i?i[o]:void 0;if(s!==a){var l=e.beans.columnModel.lookupGridColumn(o);l&&e.dispatchCellChangedEvent(l,s,a)}})},r.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,e=this.beans.gridOptionsService.isRowModelType("serverSide");if(e){var n=this.beans.gridOptionsService.get("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HAS_CHILDREN_CHANGED)))},r.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},r.prototype.isEmptyRowGroupNode=function(){return this.group&&lr(this.childrenAfterGroup)},r.prototype.dispatchCellChangedEvent=function(t,e,n){var i={type:r.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:n};this.dispatchLocalEvent(i)},r.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},r.prototype.isExpandable=function(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master},r.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},r.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},r.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,i=!1;if(!(!((t=this.childrenAfterGroup)===null||t===void 0)&&t.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var s=this.childrenAfterGroup[o],a=s.isSelected();if(!s.selectable){var l=s.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:e=!0;break;case!1:n=!0;break;default:i=!0;break}}if(!(i||e&&n))return e?!0:n?!1:this.selectable?this.selected:null},r.prototype.setSelectedInitialValue=function(t){this.selected=t},r.prototype.selectThisNode=function(t,e,n){n===void 0&&(n="api");var i=!this.selectable&&t,o=this.selected===t;if(i||o)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_ROW_SELECTED));var s=this.sibling;s&&s.footer&&s.dispatchLocalEvent(s.createLocalRowEvent(r.EVENT_ROW_SELECTED))}var a=Ml(Ml({},this.createGlobalRowEvent(_.EVENT_ROW_SELECTED)),{event:e||null,source:n});return this.beans.eventService.dispatchEvent(a),!0},r.prototype.setSelected=function(t,e,n){if(e===void 0&&(e=!1),n===void 0&&(n="api"),typeof n=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:n})},r.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Ml(Ml({},t),{nodes:[this.footer?this.sibling:this]}))},r.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},r.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},r.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new ys),this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},r.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_ENTER))},r.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_LEAVE))},r.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,n=!0,i=!1,o=null;n&&!i;){var s=e.parent,a=X(s)&&e.firstChild;a?s.rowGroupColumn===t&&(i=!0,o=s):n=!1,e=s}return i?o:null},r.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1},r.prototype.getRoute=function(){if(this.key!=null){for(var t=[],e=this;e.key!=null;)t.push(e.key),e=e.parent;return t.reverse()}},r.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new Set(["eventService","__objectId","sticky"]),n=new r(this.beans);Object.keys(this).forEach(function(i){e.has(i)||(n[i]=t[i])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},r.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},r.ID_PREFIX_ROW_GROUP="row-group-",r.ID_PREFIX_TOP_PINNED="t-",r.ID_PREFIX_BOTTOM_PINNED="b-",r.OBJECT_ID_SEQUENCE=0,r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_DATA_CHANGED="dataChanged",r.EVENT_CELL_CHANGED="cellChanged",r.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",r.EVENT_MASTER_CHANGED="masterChanged",r.EVENT_GROUP_CHANGED="groupChanged",r.EVENT_MOUSE_ENTER="mouseEnter",r.EVENT_MOUSE_LEAVE="mouseLeave",r.EVENT_HEIGHT_CHANGED="heightChanged",r.EVENT_TOP_CHANGED="topChanged",r.EVENT_DISPLAYED_CHANGED="displayedChanged",r.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",r.EVENT_LAST_CHILD_CHANGED="lastChildChanged",r.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",r.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",r.EVENT_SELECTABLE_CHANGED="selectableChanged",r.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",r.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",r.EVENT_DRAGGING_CHANGED="draggingChanged",r}(),d3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yh=function(){return yh=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},yh.apply(this,arguments)},KT=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fO=function(r){d3(t,r);function t(){return r.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),NC(this.eCheckbox.getInputElement(),"polite")},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.localeService.getLocaleTextFunc(),n=this.rowNode.isSelected(),i=Ph(e,n),o=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(n,!0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))},t.prototype.onClicked=function(e,n,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:n,event:i,source:"checkboxSelected"})},t.prototype.init=function(e){var n=this;this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(a){to(a)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(a){to(a);var l=n.gridOptionsService.get("groupSelectsFiltered"),u=n.eCheckbox.getValue();if(n.shouldHandleIndeterminateState(u,l)){var c=n.onClicked(!0,l,a||{});c===0&&n.onClicked(!1,l,a)}else u?n.onClicked(!1,l,a):n.onClicked(!0,l,a||{})}),this.addManagedListener(this.rowNode,ze.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var i=this.gridOptionsService.get("isRowSelectable"),o=i||typeof this.getIsVisible()=="function";if(o){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,ze.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,ze.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,n){return n&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,n,i,o,s=this.rowNode.selectable,a=this.getIsVisible();if(s)if(typeof a=="function"){var l=(e=this.overrides)===null||e===void 0?void 0:e.callbackParams,u=(n=this.column)===null||n===void 0?void 0:n.createColumnFunctionCallbackParams(this.rowNode);s=u?a(yh(yh({},l),u)):!1}else s=a??!1;var c=(i=this.column)===null||i===void 0?void 0:i.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(s);return}this.setVisible(s)},t.prototype.getIsVisible=function(){var e,n;return this.overrides?this.overrides.isVisible:(n=(e=this.column)===null||e===void 0?void 0:e.getColDef())===null||n===void 0?void 0:n.checkboxSelection},KT([oe("eCheckbox")],t.prototype,"eCheckbox",void 0),KT([ne],t.prototype,"postConstruct",null),t}(ke),nd=function(r){return r[r.Up=0]="Up",r[r.Down=1]="Down",r}(nd||{}),dr=function(r){return r[r.Left=0]="Left",r[r.Right=1]="Right",r}(dr||{}),f3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),la=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vp=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},br=function(r){return r[r.ToolPanel=0]="ToolPanel",r[r.HeaderCell=1]="HeaderCell",r[r.RowDrag=2]="RowDrag",r[r.ChartPanel=3]="ChartPanel",r[r.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",r}(br||{}),dn=function(r){f3(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.dragSourceAndParamsList=[],n.dropTargets=[],n}e=t,t.prototype.init=function(){this.ePinnedIcon=zr("columnMovePin",this.gridOptionsService,null),this.eHideIcon=zr("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=zr("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=zr("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=zr("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=zr("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=zr("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=zr("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=zr("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(n,i){i===void 0&&(i=!1);var o={eElement:n.eElement,dragStartPixels:n.dragStartPixels,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:o,dragSource:n}),this.dragService.addDragSource(o)},t.prototype.removeDragSource=function(n){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===n});i&&(this.dragService.removeDragSource(i.params),Tr(this.dragSourceAndParamsList,i))},t.prototype.clearDragSourceParamsList=function(){var n=this;this.dragSourceAndParamsList.forEach(function(i){return n.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(n,i){this.dragging=!0,this.dragSource=n,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(n){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,n,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(n,i){var o=this,s,a,l,u,c=this.getHorizontalDirection(n),d=this.getVerticalDirection(n);this.eventLastTime=n,this.positionGhost(n);var f=this.dropTargets.filter(function(g){return o.isMouseOnDropTarget(n,g)}),p=this.findCurrentDropTarget(n,f);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(n,c,d,i),this.lastDropTarget!==null&&p===null&&((a=(s=this.dragSource).onGridExit)===null||a===void 0||a.call(s,this.dragItem)),this.lastDropTarget===null&&p!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(p,n,c,d,i),this.lastDropTarget=p;else if(p&&p.onDragging){var h=this.createDropTargetEvent(p,n,c,d,i);p.onDragging(h)}},t.prototype.getAllContainersFromDropTarget=function(n){var i=n.getSecondaryContainers?n.getSecondaryContainers():null,o=[[n.getContainer()]];return i?o.concat(i):o},t.prototype.allContainersIntersect=function(n,i){var o,s;try{for(var a=Vp(i),l=a.next();!l.done;l=a.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=n.clientX>=c.left&&n.clientX<c.right,f=n.clientY>=c.top&&n.clientY<c.bottom;if(!d||!f)return!1}}catch(p){o={error:p}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(n,i){var o,s,a=this.getAllContainersFromDropTarget(i),l=!1;try{for(var u=Vp(a),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(n,d)){l=!0;break}}}catch(f){o={error:f}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement)?!1:l&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(n,i){var o,s,a,l,u=i.length;if(u===0)return null;if(u===1)return i[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(n.clientX,n.clientY);try{for(var f=Vp(d),p=f.next();!p.done;p=f.next()){var h=p.value;try{for(var g=(a=void 0,Vp(i)),v=g.next();!v.done;v=g.next()){var m=v.value,C=iA(this.getAllContainersFromDropTarget(m));if(C.indexOf(h)!==-1)return m}}catch(y){a={error:y}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(a)throw a.error}}}}catch(y){o={error:y}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(n,i,o,s,a){if(n){if(n.onDragEnter){var l=this.createDropTargetEvent(n,i,o,s,a);n.onDragEnter(l)}this.setGhostIcon(n.getIconName?n.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(n,i,o,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var a=this.createDropTargetEvent(this.lastDropTarget,n,i,o,s);this.lastDropTarget.onDragLeave(a)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(n){this.dropTargets.push(n)},t.prototype.removeDropTarget=function(n){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==n.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(n){return n.external})},t.prototype.findExternalZone=function(n){var i=this.dropTargets.filter(function(o){return o.external});return i.find(function(o){return o.getContainer()===n.getContainer()})||null},t.prototype.getHorizontalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientX,o=n.clientX;return i===o?null:i>o?dr.Left:dr.Right},t.prototype.getVerticalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientY,o=n.clientY;return i===o?null:i>o?nd.Up:nd.Down},t.prototype.createDropTargetEvent=function(n,i,o,s,a){var l=n.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,f=c.columnApi,p=c.dragItem,h=c.dragSource,g=i.clientX-u.left,v=i.clientY-u.top;return{event:i,x:g,y:v,vDirection:s,hDirection:o,dragSource:h,fromNudge:a,dragItem:p,api:d,columnApi:f,dropZoneTarget:l}},t.prototype.positionGhost=function(n){var i=this.eGhost;if(i){var o=i.getBoundingClientRect(),s=o.height,a=RA()-2,l=AA()-2,u=QC(i.offsetParent),c=n.clientY,d=n.clientX,f=c-u.top-s/2,p=d-u.left-10,h=this.gridOptionsService.getDocument(),g=h.defaultView||window,v=g.pageYOffset||h.documentElement.scrollTop,m=g.pageXOffset||h.documentElement.scrollLeft;a>0&&p+i.clientWidth>a+m&&(p=a+m-i.clientWidth),p<0&&(p=0),l>0&&f+i.clientHeight>l+v&&(f=l+v-i.clientHeight),f<0&&(f=0),i.style.left="".concat(p,"px"),i.style.top="".concat(f,"px")}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=Cn(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var n=this.environment.getTheme().theme;n&&this.eGhost.classList.add(n),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;Fh(o)&&(o=o()),i.innerHTML=Kt(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var s=this.gridOptionsService.getDocument(),a=null,l=null;try{a=s.fullscreenElement}catch{}finally{a||(a=this.gridOptionsService.getRootNode());var u=a.querySelector("body");u?l=u:a instanceof ShadowRoot?l=a:a instanceof Document?l=a?.documentElement:l=a}this.eGhostParent=l,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(n,i){i===void 0&&(i=!1),fn(this.eGhostIcon);var o=null;switch(n||(n=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():e.ICON_NOT_ALLOWED),n){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),!(o===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var e;return t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,la([w("dragService")],t.prototype,"dragService",void 0),la([w("mouseEventService")],t.prototype,"mouseEventService",void 0),la([w("columnApi")],t.prototype,"columnApi",void 0),la([w("gridApi")],t.prototype,"gridApi",void 0),la([ne],t.prototype,"init",null),la([Un],t.prototype,"clearDragSourceParamsList",null),t=e=la([fe("dragAndDropService")],t),t}(Q),Bh=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$c=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ch=function(r){Bh(t,r);function t(e,n,i,o,s,a){var l=r.call(this)||this;return l.cellValueFn=e,l.rowNode=n,l.column=i,l.customGui=o,l.dragStartPixels=s,l.suppressVisibilityChange=a,l.dragSource=null,l}return t.prototype.isCustomGui=function(){return this.customGui!=null},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Ht("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.get("rowDragManaged")?new h3(this,this.beans,this.rowNode,this.column):new p3(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,n){this.setTemplateFromElement(e),this.addDragSource(n)},t.prototype.getSelectedNodes=function(){var e=this.gridOptionsService.get("rowDragMultiRow");if(!e)return[this.rowNode];var n=this.beans.selectionService.getSelectedNodes();return n.indexOf(this.rowNode)!==-1?n:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.get("rowDragManaged"),n=this.gridOptionsService.get("treeData");n&&e&&Pe("If using row drag with tree data, you cannot have rowDragManaged=true")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var n=e.getColDef();if(n.rowDragText)return n.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var n=this;e===void 0&&(e=4),this.dragSource&&this.removeDragSource();var i=this.localeService.getLocaleTextFunc();this.dragSource={type:br.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,s=n.getDragItem(),a=((o=s.rowNodes)===null||o===void 0?void 0:o.length)||1,l=n.getRowDragText(n.column);return l?l(s,a):a===1?n.cellValueFn():"".concat(a," ").concat(i("rowDragRows","rows"))},getDragItem:function(){return n.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},$c([w("beans")],t.prototype,"beans",void 0),$c([ne],t.prototype,"postConstruct",null),$c([Un],t.prototype,"removeDragSource",null),t}(ke),pO=function(r){Bh(t,r);function t(e,n,i){var o=r.call(this)||this;return o.parent=e,o.rowNode=n,o.column=i,o}return t.prototype.setDisplayedOrVisible=function(e){var n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{var i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=Fh(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,n),this.parent.setVisible(i,n)):(this.parent.setDisplayed(i,n),this.parent.setVisible(!0,n))}},t}(Q),p3=function(r){Bh(t,r);function t(e,n,i,o){var s=r.call(this,e,i,o)||this;return s.beans=n,s}return t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,_.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)},$c([ne],t.prototype,"postConstruct",null),t}(pO),h3=function(r){Bh(t,r);function t(e,n,i,o){var s=r.call(this,e,i,o)||this;return s.beans=n,s}return t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,_.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,_.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,_.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl(),n=e.getRowDragFeature(),i=n&&n.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),a=i&&!s||o;this.setDisplayedOrVisible(a)},$c([ne],t.prototype,"postConstruct",null),t}(pO),g3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),wh=function(){return wh=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},wh.apply(this,arguments)},pc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},v3=function(r){g3(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e,n,i,o,s,a,l){var u,c;this.params=l,this.eGui=n,this.eCheckbox=i,this.eExpanded=o,this.eContracted=s,this.comp=e,this.compClass=a;var d=l.node;l.value;var f=l.colDef,p=this.isTopLevelFooter();if(!p){var h=this.isEmbeddedRowMismatch();if(h)return;if(d.footer&&this.gridOptionsService.get("groupHideOpenParents")){var g=f&&f.showRowGroup,v=d.rowGroupColumn&&d.rowGroupColumn.getColId();if(g!==v)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!p){var m=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(E){var O;return E.getColId()===((O=l.colDef)===null||O===void 0?void 0:O.showRowGroup)}),C=this.gridOptionsService.get("groupDisplayType")==="singleColumn"||this.gridOptionsService.get("treeData"),y=C||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||l.node.rowGroupIndex!=null&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(E){var O;return E.getColId()===((O=l.colDef)===null||O===void 0?void 0:O.showRowGroup)})),x=!d.group&&(((u=this.params.colDef)===null||u===void 0?void 0:u.field)||((c=this.params.colDef)===null||c===void 0?void 0:c.valueGetter)),P=this.isExpandable(),R=!this.showingValueForOpenedParent&&!P&&!x&&!y&&!m;if(R)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},t.prototype.getCellAriaRole=function(){var e,n,i=(e=this.params.colDef)===null||e===void 0?void 0:e.cellAriaRole,o=(n=this.params.column)===null||n===void 0?void 0:n.getColDef().cellAriaRole;return i||o||"gridcell"},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,n=e.node,i=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){CA(i);return}var o=function(){yi(i,!!n.expanded)};this.expandListener=this.addManagedListener(n,ze.EVENT_EXPANDED_CHANGED,o)||null,o()},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var e=this.params.colDef,n=e==null;if(n||e.showRowGroup===!0)return!0;var i=this.columnModel.getRowGroupColumns();if(!i||i.length===0)return!0;var o=i[0];return o.getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var e=this.params.pinned==="left",n=this.params.pinned==="right",i=!e&&!n;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!n:!i:this.columnModel.isPinningLeft()?!e:!i},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,n=this.params.node;if(this.showingValueForOpenedParent)for(var i=n.parent;i!=null;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}Oe(this.displayedGroupNode)&&(this.displayedGroupNode=n)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,n=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}var i=e.rowGroupColumn!=null;if(i){var o=e.rowGroupColumn.getId(),s=n.isRowGroupDisplayed(o);if(s){this.showingValueForOpenedParent=!1;return}}var a=e.groupData[n.getId()]!=null;this.showingValueForOpenedParent=a},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e,n=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(n),o=n.valueFormatted,s=n.value,a=o;if(a==null){var l=this.displayedGroupNode.rowGroupColumn&&((e=this.params.column)===null||e===void 0?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&l){var u=this.localeService.getLocaleTextFunc();a=u("blanks","(Blanks)")}else a=s??null}this.comp.setInnerRenderer(i,a)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,n=this.params.column;if(!e)return this.params;var i=n!=null;if(i){var o=n.isRowGroupDisplayed(e.getId());if(!o)return this.params}var s=this.params,a=this.params,l=a.value,u=a.node,c=this.valueFormatterService.formatValue(e,u,l),d=wh(wh({},s),{valueFormatted:c});return d},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,n="";if(e){var i=bC(this.params);i.value=this.params.value,typeof e=="function"?n=e(i):typeof e=="string"?n=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else n="Total "+(this.params.value!=null?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,n)},t.prototype.getInnerCompDetails=function(e){var n=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var i=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(c){return c&&c.componentClass==n.compClass};if(i&&!o(i))return i;var s=this.displayedGroupNode.rowGroupColumn,a=s?s.getColDef():void 0;if(a){var l=this.userComponentFactory.getCellRendererDetails(a,e);if(l&&!o(l))return l;if(o(l)&&a.cellRendererParams&&a.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(a.cellRendererParams,e);return u}}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ze.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow(),i=n&&e!=null&&e>=0,o=i?"(".concat(e,")"):"";this.comp.setChildCount(o)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var n=this.params.column,i=n==null||n.isRowGroupDisplayed(e.getId());return i},t.prototype.addExpandAndContract=function(){var e,n=this.params,i=Ht("groupExpanded",this.gridOptionsService,null),o=Ht("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);var s=n.eGridCell,a=((e=this.params.column)===null||e===void 0?void 0:e.isCellEditable(n.node))&&this.gridOptionsService.get("enableGroupEdit");!a&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,ze.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ze.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ze.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ze.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ze.EVENT_HAS_CHILDREN_CHANGED,l)},t.prototype.onExpandClicked=function(e){Ci(e)||(to(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var n=this.displayedGroupNode,i=!n.expanded;!i&&n.sticky&&this.scrollToStickyNode(n),n.setExpanded(i,e)},t.prototype.scrollToStickyNode=function(e){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature();i.setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,n=this.columnModel.isPivotMode()&&e.leafGroup,i=e.isExpandable()&&!e.footer&&!n;if(!i)return!1;var o=this.params.column,s=o!=null&&typeof o.getColDef().showRowGroup=="string";if(s){var a=this.isShowRowGroupForThisRow();return a}return!0},t.prototype.showExpandAndContractIcons=function(){var e=this,n=e.params,i=e.displayedGroupNode,o=e.columnModel,s=n.node,a=this.isExpandable();if(a){var l=this.showingValueForOpenedParent?!0:s.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&i.leafGroup,d=a&&!c,f=s.footer&&s.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):f||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){var e=this.params.node,n=this.params.suppressPadding;n||(this.addManagedListener(e,ze.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var e=this.params,n=e.node,i=!!e.colDef,o=this.gridOptionsService.get("treeData"),s=!i||o||e.colDef.showRowGroup===!0,a=s?n.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var n=new Ch(function(){return e.params.value},this.params.node);this.createManagedBean(n,this.context),this.eGui.insertAdjacentElement("afterbegin",n.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return typeof e=="function"||e===!0},t.prototype.addCheckboxIfNeeded=function(){var e=this,n=this.displayedGroupNode,i=this.isUserWantsSelected()&&!n.footer&&!n.rowPinned&&!n.detail;if(i){var o=new fO;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},t.prototype.onKeyDown=function(e){var n=e.key===B.ENTER;if(!(!n||this.params.suppressEnterExpand)){var i=this.params.column&&this.params.column.isCellEditable(this.params.node);i||this.onExpandOrContract(e)}},t.prototype.onCellDblClicked=function(e){if(!Ci(e)){var n=fh(this.eExpanded,e)||fh(this.eContracted,e);n||this.onExpandOrContract(e)}},pc([w("expressionService")],t.prototype,"expressionService",void 0),pc([w("valueFormatterService")],t.prototype,"valueFormatterService",void 0),pc([w("columnModel")],t.prototype,"columnModel",void 0),pc([w("userComponentFactory")],t.prototype,"userComponentFactory",void 0),pc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(Q),m3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),hc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YT=function(r){m3(t,r);function t(){return r.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var n=this,i={setInnerRenderer:function(l,u){return n.setRenderDetails(l,u)},setChildCount:function(l){return n.eChildCount.innerHTML=l},addOrRemoveCssClass:function(l,u){return n.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return it(n.eContracted,l)},setExpandedDisplayed:function(l){return it(n.eExpanded,l)},setCheckboxVisible:function(l){return n.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new v3),s=!e.colDef,a=this.getGui();o.init(i,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),s&&rn(a,o.getCellAriaRole())},t.prototype.setRenderDetails=function(e,n){var i=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(s){if(s){var a=function(){return i.context.destroyBean(s)};i.isAlive()?(i.eValue.appendChild(s.getGui()),i.addDestroyFunc(a)):a()}})}else this.eValue.innerText=n},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),r.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,hc([oe("eExpanded")],t.prototype,"eExpanded",void 0),hc([oe("eContracted")],t.prototype,"eContracted",void 0),hc([oe("eCheckbox")],t.prototype,"eCheckbox",void 0),hc([oe("eValue")],t.prototype,"eValue",void 0),hc([oe("eChildCount")],t.prototype,"eChildCount",void 0),t}(ke),y3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),qT=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},C3=function(r){y3(t,r);function t(){return r.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=Ht("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,qT([oe("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),qT([oe("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(ke),w3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_3=function(r){w3(t,r);function t(){return r.call(this)||this}return t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var n,i=(n=this.gridOptionsService.get("overlayLoadingTemplate"))!==null&&n!==void 0?n:t.DEFAULT_LOADING_OVERLAY_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=i.replace("[LOADING...]",o("loadingOoo","Loading..."));this.setTemplate(s)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(ke),S3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),E3=function(r){S3(t,r);function t(){return r.call(this)||this}return t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var n,i=(n=this.gridOptionsService.get("overlayNoRowsTemplate"))!==null&&n!==void 0?n:t.DEFAULT_NO_ROWS_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=i.replace("[NO_ROWS_TO_SHOW]",o("noRowsToShow","No Rows To Show"));this.setTemplate(s)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(ke),x3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),D3=function(r){x3(t,r);function t(){return r.call(this,'<div class="ag-tooltip"></div>')||this}return t.prototype.init=function(e){var n=e.value;this.getGui().innerHTML=Kt(n)},t}(Ta),T3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),R3=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,e.max!=null&&t.setMax(e.max),e.min!=null&&t.setMin(e.min),e.precision!=null&&t.setPrecision(e.precision),e.step!=null&&t.setStep(e.step);var n=t.getInputElement();e.preventStepping?t.addManagedListener(n,"keydown",this.preventStepping):e.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")},r.prototype.preventStepping=function(t){(t.key===B.UP||t.key===B.DOWN)&&t.preventDefault()},r.prototype.getValue=function(){var t=this.eInput.getValue();if(!X(t)&&!X(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(e==null)return e;if(typeof e=="string"){if(e==="")return null;e=Number(e)}return isNaN(e)?null:e},r.prototype.getStartValue=function(){return this.params.value},r}(),A3=function(r){T3(t,r);function t(){return r.call(this,new R3)||this}return t}(Hh),O3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),b3=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)},r.prototype.getValue=function(){var t=this.eInput.getDate();return!X(t)&&!X(this.params.value)?this.params.value:t??null},r.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return Yr(t,!1)},r}(),F3=function(r){O3(t,r);function t(){return r.call(this,new b3)||this}return t}(Hh),I3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),P3=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},M3=function(){function r(t){this.getDataTypeService=t}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)},r.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return!X(t)&&!X(this.params.value)?this.params.value:this.params.parseValue(t??"")},r.prototype.getStartValue=function(){var t,e;return Yr((e=this.parseDate((t=this.params.value)!==null&&t!==void 0?t:void 0))!==null&&e!==void 0?e:null,!1)},r.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction()(t)},r.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction()(t)},r}(),N3=function(r){I3(t,r);function t(){var e=r.call(this,new M3(function(){return e.dataTypeService}))||this;return e}return P3([w("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(Hh),L3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),k3=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G3=function(r){L3(t,r);function t(){return r.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var n=this;this.params=e,this.updateCheckbox(e);var i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),NC(i,"polite"),this.addManagedListener(i,"click",function(s){if(to(s),!n.eCheckbox.isDisabled()){var a=n.eCheckbox.getValue();n.onCheckboxChanged(a)}}),this.addManagedListener(i,"dblclick",function(s){to(s)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(s){if(s.key===B.SPACE&&!n.eCheckbox.isDisabled()){n.params.eGridCell===o.activeElement&&n.eCheckbox.toggle();var a=n.eCheckbox.getValue();n.onCheckboxChanged(a),s.preventDefault()}})},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var n,i,o,s,a=!0;if(e.node.group&&e.column){var l=e.column.getColId();l.startsWith(Ea)?s=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?s=(n=e.value)!==null&&n!==void 0?n:void 0:a=!1}else s=(i=e.value)!==null&&i!==void 0?i:void 0;if(!a){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(s);var u=e.disabled!=null?e.disabled:!(!((o=e.column)===null||o===void 0)&&o.isCellEditable(e.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=Ph(c,s),f=u?d:"".concat(c("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(f)},t.prototype.onCheckboxChanged=function(e){var n=this.params,i=n.column,o=n.node,s=n.rowIndex,a=n.value,l={type:_.EVENT_CELL_EDITING_STARTED,column:i,colDef:i?.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,e,"edit"),c={type:_.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i?.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a,oldValue:a,newValue:e,valueChanged:u};this.eventService.dispatchEvent(c)},t.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,k3([oe("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(ke),V3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),H3=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},B3=function(r){V3(t,r);function t(){return r.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.init=function(e){var n=this,i;this.params=e;var o=(i=e.value)!==null&&i!==void 0?i:void 0;this.eCheckbox.setValue(o);var s=this.eCheckbox.getInputElement();s.setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,_.EVENT_FIELD_VALUE_CHANGED,function(a){return n.setAriaLabel(a.selected)})},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var n=this.localeService.getLocaleTextFunc(),i=Ph(n,e),o=n("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))},H3([oe("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(Ta),j3=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ry=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XT=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},QT=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},U3=function(r){j3(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:NB,agColumnHeader:WB,agColumnGroupHeader:$B,agSortIndicator:uw,agTextColumnFloatingFilter:BB,agNumberColumnFloatingFilter:VB,agDateColumnFloatingFilter:FB,agReadOnlyFloatingFilter:lB,agAnimateShowChangeCellRenderer:a3,agAnimateSlideCellRenderer:c3,agGroupCellRenderer:YT,agGroupRowRenderer:YT,agLoadingCellRenderer:C3,agCheckboxCellRenderer:G3,agCellEditor:$T,agTextCellEditor:$T,agNumberCellEditor:A3,agDateCellEditor:F3,agDateStringCellEditor:N3,agSelectCellEditor:ZB,agLargeTextCellEditor:XB,agCheckboxCellEditor:B3,agTextColumnFilter:lw,agNumberColumnFilter:oO,agDateColumnFilter:tO,agLoadingOverlay:_3,agNoRowsOverlay:E3,agTooltipComponent:D3},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:ge.SetFilterModule,agSetColumnFloatingFilter:ge.SetFilterModule,agMultiColumnFilter:ge.MultiFilterModule,agMultiColumnFloatingFilter:ge.MultiFilterModule,agGroupColumnFilter:ge.RowGroupingModule,agGroupColumnFloatingFilter:ge.RowGroupingModule,agRichSelect:ge.RichSelectModule,agRichSelectCellEditor:ge.RichSelectModule,agDetailCellRenderer:ge.MasterDetailModule,agSparklineCellRenderer:ge.SparklinesModule},e.jsComps={},e}return t.prototype.init=function(){var e=this;this.gridOptions.components!=null&&Rn(this.gridOptions.components,function(n,i){return e.registerJsComponent(n,i)})},t.prototype.registerDefaultComponent=function(e,n){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=n},t.prototype.registerJsComponent=function(e,n){this.jsComps[e]=n},t.prototype.retrieve=function(e,n){var i=this,o=function(d,f){return{componentFromFramework:f,component:d}},s=this.getFrameworkOverrides().frameworkComponent(n,this.gridOptions.components);if(s!=null)return o(s,!0);var a=this.jsComps[n];if(a){var l=this.getFrameworkOverrides().isFrameworkComponent(a);return o(a,l)}var u=this.agGridDefaults[n];if(u)return o(u,!1);var c=this.enterpriseAgDefaultCompsModule[n];return c?Le.__assertRegistered(c,"AG Grid '".concat(e,"' component: ").concat(n),this.context.getGridId()):Vl(function(){i.warnAboutMissingComponent(e,n)},"MissingComp"+n),null},t.prototype.warnAboutMissingComponent=function(e,n){var i=QT(QT([],XT(Object.keys(this.agGridDefaults).filter(function(s){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)})),!1),XT(Object.keys(this.jsComps)),!1),o=ad(n,i,!0,.8).values;console.warn("AG Grid: Could not find '".concat(n,`' component. It was configured as "`).concat(e,": '").concat(n,`'" but it wasn't found in the list of registered components.`)),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},Ry([w("gridOptions")],t.prototype,"gridOptions",void 0),Ry([ne],t.prototype,"init",null),t=Ry([fe("userComponentRegistry")],t),t}(Q),W3={propertyName:"dateComponent",cellRenderer:!1},z3={propertyName:"headerComponent",cellRenderer:!1},$3={propertyName:"headerGroupComponent",cellRenderer:!1},ZT={propertyName:"cellRenderer",cellRenderer:!0},K3={propertyName:"cellEditor",cellRenderer:!1},JT={propertyName:"innerRenderer",cellRenderer:!0},Y3={propertyName:"loadingOverlayComponent",cellRenderer:!1},q3={propertyName:"noRowsOverlayComponent",cellRenderer:!1},X3={propertyName:"tooltipComponent",cellRenderer:!1},xC={propertyName:"filter",cellRenderer:!1},Q3={propertyName:"floatingFilterComponent",cellRenderer:!1},Z3={propertyName:"toolPanel",cellRenderer:!1},J3={propertyName:"statusPanel",cellRenderer:!1},e4={propertyName:"fullWidthCellRenderer",cellRenderer:!0},t4={propertyName:"loadingCellRenderer",cellRenderer:!0},n4={propertyName:"groupRowRenderer",cellRenderer:!0},r4={propertyName:"detailCellRenderer",cellRenderer:!0},i4=function(){function r(){}return r.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},r.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},r}(),o4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Al=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},s4=function(r){o4(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getHeaderCompDetails=function(e,n){return this.getCompDetails(e,z3,"agColumnHeader",n)},t.prototype.getHeaderGroupCompDetails=function(e){var n=e.columnGroup.getColGroupDef();return this.getCompDetails(n,$3,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,e4,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,t4,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,n4,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,r4,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,n){return this.getCompDetails(e,JT,null,n)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,n){return this.getCompDetails(e,JT,null,n)},t.prototype.getCellRendererDetails=function(e,n){return this.getCompDetails(e,ZT,null,n)},t.prototype.getCellEditorDetails=function(e,n){return this.getCompDetails(e,K3,"agCellEditor",n,!0)},t.prototype.getFilterDetails=function(e,n,i){return this.getCompDetails(e,xC,i,n,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,W3,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Y3,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,q3,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,X3,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,n){return this.getCompDetails(e,ZT,null,n)},t.prototype.getFloatingFilterCompDetails=function(e,n,i){return this.getCompDetails(e,Q3,i,n)},t.prototype.getToolPanelCompDetails=function(e,n){return this.getCompDetails(e,Z3,null,n,!0)},t.prototype.getStatusPanelCompDetails=function(e,n){return this.getCompDetails(e,J3,null,n,!0)},t.prototype.getCompDetails=function(e,n,i,o,s){var a=this;s===void 0&&(s=!1);var l=n.propertyName,u=n.cellRenderer,c=this.getCompKeys(e,n,o),d=c.compName,f=c.jsComp,p=c.fwComp,h=c.paramsFromSelector,g=c.popupFromSelector,v=c.popupPositionFromSelector,m=function(P){var R=a.userComponentRegistry.retrieve(l,P);R&&(f=R.componentFromFramework?void 0:R.component,p=R.componentFromFramework?R.component:void 0)};if(d!=null&&m(d),f==null&&p==null&&i!=null&&m(i),f&&u&&!this.agComponentUtils.doesImplementIComponent(f)&&(f=this.agComponentUtils.adaptFunction(l,f)),!f&&!p){s&&console.error("AG Grid: Could not find component ".concat(d,", did you forget to configure this component?"));return}var C=this.mergeParamsWithApplicationProvidedParams(e,n,o,h),y=f==null,x=f||p;return{componentFromFramework:y,componentClass:x,params:C,type:n,popupFromSelector:g,popupPositionFromSelector:v,newAgStackInstance:function(){return a.newAgStackInstance(x,y,C,n)}}},t.prototype.getCompKeys=function(e,n,i){var o=this,s=n.propertyName,a,l,u,c,d,f;if(e){var p=e,h=p[s+"Selector"],g=h?h(i):null,v=function(m){if(typeof m=="string")a=m;else if(m!=null&&m!==!0){var C=o.getFrameworkOverrides().isFrameworkComponent(m);C?u=m:l=m}};g?(v(g.component),c=g.params,d=g.popup,f=g.popupPosition):v(p[s])}return{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:f}},t.prototype.newAgStackInstance=function(e,n,i,o){var s=o.propertyName,a=!n,l;if(a)l=new e;else{var u=this.componentMetadataProvider.retrieve(s);l=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,i);return c==null?Rr.resolve(l):c.then(function(){return l})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,n,i,o){o===void 0&&(o=null);var s={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};Ar(s,i);var a=e,l=a&&a[n.propertyName+"Params"];if(typeof l=="function"){var u=l(i);Ar(s,u)}else typeof l=="object"&&Ar(s,l);return Ar(s,o),s},t.prototype.initComponent=function(e,n){if(this.context.createBean(e),e.init!=null)return e.init(n)},t.prototype.getDefaultFloatingFilterType=function(e,n){if(e==null)return null;var i=null,o=this.getCompKeys(e,xC),s=o.compName,a=o.jsComp,l=o.fwComp;if(s)i=i4.getFloatingFilterType(s);else{var u=a==null&&l==null&&e.filter===!0;u&&(i=n())}return i},Al([w("gridOptions")],t.prototype,"gridOptions",void 0),Al([w("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Al([w("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Al([w("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Al([rt("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=Al([fe("userComponentFactory")],t),t}(Q),a4=function(){function r(){}return r.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},r.ALL_PROPERTIES=Object.keys(r.ColDefPropertyMap),r}(),DC=function(r){return r[r.SINGLE_SHEET=0]="SINGLE_SHEET",r[r.MULTI_SHEET=1]="MULTI_SHEET",r}(DC||{}),l4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ay=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},u4=function(r){l4(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var n=e.dragSource.eElement,i=e.mouseDownListener;if(n.removeEventListener("mousedown",i),e.touchEnabled){var o=e.touchStartListener;n.removeEventListener("touchstart",o,{passive:!0})}},t.prototype.removeDragSource=function(e){var n=this.dragSources.find(function(i){return i.dragSource===e});n&&(this.removeListener(n),Tr(this.dragSources,n))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var n=this,i=this.onMouseDown.bind(this,e),o=e.eElement,s=e.includeTouch,a=e.stopPropagationForTouch;o.addEventListener("mousedown",i);var l=null,u=this.gridOptionsService.get("suppressTouch");s&&!u&&(l=function(c){qC(c.target)||(c.cancelable&&(c.preventDefault(),a&&c.stopPropagation()),n.onTouchStart(e,c))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:l,touchEnabled:!!s})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,n){var i=this;this.currentDragParams=e,this.dragging=!1;var o=n.touches[0];this.touchLastTime=o,this.touchStart=o;var s=function(d){return i.onTouchMove(d,e.eElement)},a=function(d){return i.onTouchUp(d,e.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=n.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:s,options:{passive:!0}},{target:u,type:"touchend",listener:a,options:{passive:!0}},{target:u,type:"touchcancel",listener:a,options:{passive:!0}}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,n){var i=this,o=n;if(!(e.skipMouseEvent&&e.skipMouseEvent(n))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,n.button===0)){this.shouldPreventMouseEvent(n)&&n.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=n,this.startTarget=n.target;var s=function(d){return i.onMouseMove(d,e.eElement)},a=function(d){return i.onMouseUp(d,e.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:s},{target:u,type:"mouseup",listener:a},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onMouseMove(n,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(n){var i=n.target,o=n.type,s=n.listener,a=n.options;i.addEventListener(o,s,a)}),this.dragEndFunctions.push(function(){e.forEach(function(n){var i=n.target,o=n.type,s=n.listener,a=n.options;i.removeEventListener(o,s,a)})})},t.prototype.isEventNearStartEvent=function(e,n){var i=this.currentDragParams.dragStartPixels,o=X(i)?i:4;return rw(e,n,o)},t.prototype.getFirstActiveTouch=function(e){for(var n=0;n<e.length;n++)if(e[n].identifier===this.touchStart.identifier)return e[n];return null},t.prototype.onCommonMove=function(e,n,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,n))return;this.dragging=!0;var o={type:_.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(n),this.currentDragParams.onDragging(n)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,n){var i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,n)},t.prototype.onMouseMove=function(e,n){var i;if(wi()){var o=this.gridOptionsService.getDocument();(i=o.getSelection())===null||i===void 0||i.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,n)},t.prototype.shouldPreventMouseEvent=function(e){var n=this.gridOptionsService.get("enableCellTextSelection"),i=e.type==="mousemove";return n&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var n=e.target,i=n?.tagName.toLocaleLowerCase();return!!i?.match("^a$|textarea|input|select|button")},t.prototype.onTouchUp=function(e,n){var i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,n)},t.prototype.onMouseUp=function(e,n){this.onUpCommon(e,n)},t.prototype.onUpCommon=function(e,n){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var i={type:_.EVENT_DRAG_STOPPED,target:n};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},Ay([w("mouseEventService")],t.prototype,"mouseEventService",void 0),Ay([Un],t.prototype,"removeAllListeners",null),t=Ay([fe("dragService")],t),t}(Q),hO=function(){function r(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return r.prototype.check=function(t,e){e===void 0&&(e=!1);var n=e||this.shouldSkipVerticalScroll();if(!(n&&this.shouldSkipHorizontalScroll())){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<i.left+o,this.tickRight=t.clientX>i.right-o,this.tickUp=t.clientY<i.top+o&&!n,this.tickDown=t.clientY>i.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},r.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},r.prototype.doTick=function(){this.tickCount++;var t;if(t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-t),this.tickRight&&this.setHorizontalPosition(n+t)}this.onScrollCallback&&this.onScrollCallback()},r.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},r}(),c4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),eR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Oy="ag-list-item-hovered",zse=function(r){c4(t,r);function t(e,n,i){var o=r.call(this)||this;return o.comp=e,o.virtualList=n,o.params=i,o.currentDragValue=null,o.lastHoveredListItem=null,o}return t.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.listItemDragStart=function(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},t.prototype.listItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragValue=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this,n={isInterestedIn:function(i){return i===e.params.dragSourceType},getIconName:function(){return dn[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(i){return e.onDragging(i)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}};this.dragAndDropService.addDropTarget(n)},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new hO({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(n){return e.scrollTop=n}})},t.prototype.onDragging=function(e){if(!(!this.currentDragValue||this.moveBlocked)){var n=this.getListDragItem(e),i=this.virtualList.getComponentAt(n.rowIndex);if(i){var o=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===n.rowIndex&&this.lastHoveredListItem.position===n.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=n,mC(o,Oy),mC(o,"ag-item-highlight-".concat(n.position)))}}},t.prototype.getListDragItem=function(e){var n=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(n).paddingTop),o=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),a=Math.max(0,(e.y-i+s)/o),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,a)|0;return{rowIndex:u,position:Math.round(a)>a||a>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},t.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){var e=this.virtualList.getGui();e.querySelectorAll(".".concat(Oy)).forEach(function(n){[Oy,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(i){n.classList.remove(i)})}),this.lastHoveredListItem=null},eR([w("dragAndDropService")],t.prototype,"dragAndDropService",void 0),eR([ne],t.prototype,"postConstruct",null),t}(Q),vs=function(r){return r[r.Above=0]="Above",r[r.Below=1]="Below",r}(vs||{}),Xe=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function ga(r){var t=r,e=t!=null&&t.getFrameworkComponentInstance!=null;return e?t.getFrameworkComponentInstance():r}var gO=function(){function r(){this.detailGridInfoMap={},this.destroyCalled=!1}return r.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},r.prototype.__getAlignedGridService=function(){return this.alignedGridsService},r.prototype.__getContext=function(){return this.context},r.prototype.getGridId=function(){return this.context.getGridId()},r.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},r.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},r.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},r.prototype.forEachDetailGridInfo=function(t){var e=0;Rn(this.detailGridInfoMap,function(n,i){X(i)&&(t(i,e),e++)})},r.prototype.getDataAsCsv=function(t){if(Le.__assertRegistered(ge.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},r.prototype.exportDataAsCsv=function(t){Le.__assertRegistered(ge.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},r.prototype.assertNotExcelMultiSheet=function(t,e){return Le.__assertRegistered(ge.ExcelExportModule,"api."+t,this.context.getGridId())?this.excelCreator.getFactoryMode()===DC.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1},r.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},r.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},r.prototype.getSheetDataForExcel=function(t){if(Le.__assertRegistered(ge.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(DC.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(t)},r.prototype.getMultipleSheetsAsExcel=function(t){if(Le.__assertRegistered(ge.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},r.prototype.exportMultipleSheetsAsExcel=function(t){if(Le.__assertRegistered(ge.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(t)},r.prototype.setGridAriaProperty=function(t,e){if(t){var n=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-".concat(t);e===null?n.removeAttribute(i):n.setAttribute(i,e)}},r.prototype.logMissingRowModel=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.error("AG Grid: api.".concat(t," can only be called when gridOptions.rowModelType is ").concat(e.join(" or ")))},r.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},r.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},r.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},r.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},r.prototype.expireValueCache=function(){this.valueCache.expire()},r.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},r.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},r.prototype.refreshCells=function(t){t===void 0&&(t={}),this.rowRenderer.refreshCells(t)},r.prototype.flashCells=function(t){t===void 0&&(t={}),this.rowRenderer.flashCells(t)},r.prototype.redrawRows=function(t){t===void 0&&(t={});var e=t?t.rowNodes:void 0;this.rowRenderer.redrawRows(e)},r.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},r.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},r.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},r.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},r.prototype.getModel=function(){return this.rowModel},r.prototype.setRowNodeExpanded=function(t,e,n){this.expansionService.setRowNodeExpanded(t,e,n)},r.prototype.onGroupExpandedOrCollapsed=function(){if(Oe(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()},r.prototype.refreshClientSideRowModel=function(t){if(Oe(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(t)},r.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},r.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},r.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},r.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},r.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},r.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},r.prototype.addRenderedRowListener=function(t,e,n){this.rowRenderer.addRenderedRowListener(t,e,n)},r.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},r.prototype.getAdvancedFilterModel=function(){return Le.__assertRegistered(ge.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},r.prototype.setAdvancedFilterModel=function(t){this.filterManager.setAdvancedFilterModel(t)},r.prototype.showAdvancedFilterBuilder=function(){Le.__assertRegistered(ge.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},r.prototype.setNodesSelected=function(t){var e=t.nodes.every(function(a){return a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):a.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(e){var n=t.nodes,i=t.source,o=t.newValue,s=n;this.selectionService.setNodesSelected({nodes:s,source:i??"api",newValue:o})}},r.prototype.selectAll=function(t){t===void 0&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},r.prototype.deselectAll=function(t){t===void 0&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},r.prototype.selectAllFiltered=function(t){t===void 0&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},r.prototype.deselectAllFiltered=function(t){t===void 0&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},r.prototype.getServerSideSelectionState=function(){return Oe(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},r.prototype.setServerSideSelectionState=function(t){if(Oe(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(t,"api")},r.prototype.selectAllOnCurrentPage=function(t){t===void 0&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},r.prototype.deselectAllOnCurrentPage=function(t){t===void 0&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},r.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},r.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},r.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},r.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},r.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},r.prototype.getBestCostNodeSelection=function(){if(Oe(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},r.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},r.prototype.ensureColumnVisible=function(t,e){e===void 0&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},r.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},r.prototype.ensureNodeVisible=function(t,e){e===void 0&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},r.prototype.forEachLeafNode=function(t){if(Oe(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(t)},r.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},r.prototype.forEachNodeAfterFilter=function(t){if(Oe(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(t)},r.prototype.forEachNodeAfterFilterAndSort=function(t){if(Oe(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},r.prototype.getFilterInstance=function(t,e){return this.filterManager.getFilterInstance(t,e)},r.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},r.prototype.getStatusPanel=function(t){if(Le.__assertRegistered(ge.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var e=this.statusBarService.getStatusPanel(t);return ga(e)}},r.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},r.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},r.prototype.onFilterChanged=function(t){t===void 0&&(t="api"),this.filterManager.onFilterChanged({source:t})},r.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},r.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},r.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},r.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},r.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},r.prototype.setFocusedCell=function(t,e,n){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:n,forceBrowserFocus:!0})},r.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},r.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},r.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},r.prototype.assertSideBarLoaded=function(t){return Le.__assertRegistered(ge.SideBarModule,"api."+t,this.context.getGridId())},r.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},r.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)},r.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)},r.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")},r.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},r.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},r.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},r.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},r.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance")){var e=this.sideBarService.getSideBarComp().getToolPanelInstance(t);return ga(e)}},r.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},r.prototype.resetRowHeights=function(){if(X(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},r.prototype.setRowCount=function(t,e){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(t,e);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(t,e);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},r.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},r.prototype.getValue=function(t,e){var n=this.columnModel.getPrimaryColumn(t);return Oe(n)&&(n=this.columnModel.getGridColumn(t)),Oe(n)?null:this.valueService.getValue(n,e)},r.prototype.addEventListener=function(t,e){this.apiEventService.addEventListener(t,e)},r.prototype.addGlobalListener=function(t){this.apiEventService.addGlobalListener(t)},r.prototype.removeEventListener=function(t,e){this.apiEventService.removeEventListener(t,e)},r.prototype.removeGlobalListener=function(t){this.apiEventService.removeGlobalListener(t)},r.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},r.prototype.destroy=function(){var t="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var e={type:_.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;var n=this.ctrlsService.getGridCtrl();n&&n.destroyGridUi(),this.context.destroy(),YR(this,["isDestroyed"],t)}},r.prototype.isDestroyed=function(){return this.destroyCalled},r.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},r.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(Le.__assertRegistered(ge.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},r.prototype.addCellRange=function(t){if(this.rangeService){this.rangeService.addCellRange(t);return}Le.__assertRegistered(ge.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},r.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),Le.__assertRegistered(ge.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},r.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},r.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},r.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},r.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},r.prototype.getChartModels=function(){if(Le.__assertRegistered(ge.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()},r.prototype.getChartRef=function(t){if(Le.__assertRegistered(ge.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(t)},r.prototype.getChartImageDataURL=function(t){if(Le.__assertRegistered(ge.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(t)},r.prototype.downloadChart=function(t){if(Le.__assertRegistered(ge.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(t)},r.prototype.openChartToolPanel=function(t){if(Le.__assertRegistered(ge.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(t)},r.prototype.closeChartToolPanel=function(t){if(Le.__assertRegistered(ge.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(t.chartId)},r.prototype.createRangeChart=function(t){if(Le.__assertRegistered(ge.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(t)},r.prototype.createPivotChart=function(t){if(Le.__assertRegistered(ge.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(t)},r.prototype.createCrossFilterChart=function(t){if(Le.__assertRegistered(ge.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(t)},r.prototype.updateChart=function(t){Le.__assertRegistered(ge.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(t)},r.prototype.restoreChart=function(t,e){if(Le.__assertRegistered(ge.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(t,e)},r.prototype.copyToClipboard=function(t){Le.__assertRegistered(ge.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(t)},r.prototype.cutToClipboard=function(t){Le.__assertRegistered(ge.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(t,"api")},r.prototype.copySelectedRowsToClipboard=function(t){Le.__assertRegistered(ge.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(t)},r.prototype.copySelectedRangeToClipboard=function(t){Le.__assertRegistered(ge.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(t)},r.prototype.copySelectedRangeDown=function(){Le.__assertRegistered(ge.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()},r.prototype.pasteFromClipboard=function(){Le.__assertRegistered(ge.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()},r.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e,"columnMenu")},r.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnModel.getGridColumn(t);if(n||(n=this.columnModel.getPrimaryColumn(t)),!n){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuFactory.showMenuAfterMouseEvent(n,e)},r.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},r.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},r.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},r.prototype.getCellRendererInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellRendererInstances(t),n=e.map(ga);return n},r.prototype.getCellEditorInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellEditorInstances(t),n=e.map(ga);return n},r.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},r.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.rowRenderer.stopEditing(t)},r.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(!e){console.warn("AG Grid: no column found for ".concat(t.colKey));return}var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e},i=t.rowPinned==null;i&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(t.key))},r.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},r.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},r.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},r.prototype.applyServerSideTransaction=function(t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(t)},r.prototype.applyServerSideTransactionAsync=function(t,e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(t,e)},r.prototype.applyServerSideRowData=function(t){var e,n,i=(e=t.startRow)!==null&&e!==void 0?e:0,o=(n=t.route)!==null&&n!==void 0?n:[];if(i<0){console.warn("AG Grid: invalid value ".concat(t.startRow," for startRow, the value should be >= 0"));return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},r.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},r.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},r.prototype.applyTransaction=function(t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.clientSideRowModel.updateRowData(t)},r.prototype.applyTransactionAsync=function(t,e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.clientSideRowModel.batchUpdateRowData(t,e)},r.prototype.flushAsyncTransactions=function(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.clientSideRowModel.flushAsyncTransactions()},r.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},r.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},r.prototype.refreshServerSide=function(t){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(t)},r.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},r.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},r.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},r.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},r.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},r.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},r.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},r.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},r.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},r.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},r.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},r.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},r.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},r.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},r.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},r.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},r.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},r.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},r.prototype.sizeColumnsToFit=function(t){typeof t=="number"?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)},r.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},r.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},r.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},r.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},r.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},r.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},r.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},r.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},r.prototype.getColumnState=function(){return this.columnModel.getColumnState()},r.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},r.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},r.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},r.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},r.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},r.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},r.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},r.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},r.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},r.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},r.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},r.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},r.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},r.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},r.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},r.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},r.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},r.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},r.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},r.prototype.moveColumn=function(t,e){this.columnModel.moveColumn(t,e,"api")},r.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},r.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},r.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},r.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},r.prototype.setColumnWidth=function(t,e,n,i){n===void 0&&(n=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,i)},r.prototype.setColumnWidths=function(t,e,n){e===void 0&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,n)},r.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},r.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},r.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},r.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},r.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},r.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},r.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},r.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},r.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},r.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},r.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},r.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},r.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},r.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},r.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},r.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},r.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},r.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},r.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},r.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},r.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},r.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},r.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},r.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},r.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},r.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},r.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},r.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},r.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},r.prototype.getState=function(){return this.stateService.getState()},r.prototype.getGridOption=function(t){return this.gos.get(t)},r.prototype.setGridOption=function(t,e){var n;this.updateGridOptions((n={},n[t]=e,n))},r.prototype.updateGridOptions=function(t){this.gos.updateGridOptions({options:t})},r.prototype.__internalUpdateGridOptions=function(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})},r.prototype.deprecatedUpdateGridOption=function(t,e){Pe("set".concat(t.charAt(0).toUpperCase()).concat(t.slice(1,t.length)," is deprecated. Please use 'api.setGridOption('").concat(t,"', newValue)' or 'api.updateGridOptions({ ").concat(t,": newValue })' instead.")),this.setGridOption(t,e)},r.prototype.setPivotMode=function(t){this.deprecatedUpdateGridOption("pivotMode",t)},r.prototype.setPinnedTopRowData=function(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)},r.prototype.setPinnedBottomRowData=function(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)},r.prototype.setPopupParent=function(t){this.deprecatedUpdateGridOption("popupParent",t)},r.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)},r.prototype.setDataTypeDefinitions=function(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)},r.prototype.setPagination=function(t){this.deprecatedUpdateGridOption("pagination",t)},r.prototype.paginationSetPageSize=function(t){this.deprecatedUpdateGridOption("paginationPageSize",t)},r.prototype.setSideBar=function(t){this.deprecatedUpdateGridOption("sideBar",t)},r.prototype.setSuppressClipboardPaste=function(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)},r.prototype.setGroupRemoveSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)},r.prototype.setGroupRemoveLowestSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)},r.prototype.setGroupDisplayType=function(t){this.deprecatedUpdateGridOption("groupDisplayType",t)},r.prototype.setGroupIncludeFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)},r.prototype.setGroupIncludeTotalFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)},r.prototype.setRowClass=function(t){this.deprecatedUpdateGridOption("rowClass",t)},r.prototype.setDeltaSort=function(t){this.deprecatedUpdateGridOption("deltaSort",t)},r.prototype.setSuppressRowDrag=function(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)},r.prototype.setSuppressMoveWhenRowDragging=function(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)},r.prototype.setSuppressRowClickSelection=function(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)},r.prototype.setEnableAdvancedFilter=function(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)},r.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)},r.prototype.setAdvancedFilterParent=function(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)},r.prototype.setAdvancedFilterBuilderParams=function(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)},r.prototype.setQuickFilter=function(t){Pe("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})},r.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)},r.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)},r.prototype.setQuickFilterParser=function(t){this.deprecatedUpdateGridOption("quickFilterParser",t)},r.prototype.setQuickFilterMatcher=function(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)},r.prototype.setAlwaysShowHorizontalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)},r.prototype.setAlwaysShowVerticalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)},r.prototype.setFunctionsReadOnly=function(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)},r.prototype.setColumnDefs=function(t,e){e===void 0&&(e="api"),Pe("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})},r.prototype.setAutoGroupColumnDef=function(t,e){e===void 0&&(e="api"),Pe("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})},r.prototype.setDefaultColDef=function(t,e){e===void 0&&(e="api"),Pe("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})},r.prototype.setColumnTypes=function(t,e){e===void 0&&(e="api"),Pe("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})},r.prototype.setTreeData=function(t){this.deprecatedUpdateGridOption("treeData",t)},r.prototype.setServerSideDatasource=function(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)},r.prototype.setCacheBlockSize=function(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)},r.prototype.setDatasource=function(t){this.deprecatedUpdateGridOption("datasource",t)},r.prototype.setViewportDatasource=function(t){this.deprecatedUpdateGridOption("viewportDatasource",t)},r.prototype.setRowData=function(t){this.deprecatedUpdateGridOption("rowData",t)},r.prototype.setEnableCellTextSelection=function(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)},r.prototype.setHeaderHeight=function(t){this.deprecatedUpdateGridOption("headerHeight",t)},r.prototype.setDomLayout=function(t){this.deprecatedUpdateGridOption("domLayout",t)},r.prototype.setFillHandleDirection=function(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)},r.prototype.setGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)},r.prototype.setFloatingFiltersHeight=function(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)},r.prototype.setPivotHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)},r.prototype.setPivotGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)},r.prototype.setAnimateRows=function(t){this.deprecatedUpdateGridOption("animateRows",t)},r.prototype.setIsExternalFilterPresent=function(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)},r.prototype.setDoesExternalFilterPass=function(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)},r.prototype.setNavigateToNextCell=function(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)},r.prototype.setTabToNextCell=function(t){this.deprecatedUpdateGridOption("tabToNextCell",t)},r.prototype.setTabToNextHeader=function(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)},r.prototype.setNavigateToNextHeader=function(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)},r.prototype.setRowGroupPanelShow=function(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)},r.prototype.setGetGroupRowAgg=function(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)},r.prototype.setGetBusinessKeyForNode=function(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)},r.prototype.setGetChildCount=function(t){this.deprecatedUpdateGridOption("getChildCount",t)},r.prototype.setProcessRowPostCreate=function(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)},r.prototype.setGetRowId=function(t){Pe("getRowId is a static property and can no longer be updated.")},r.prototype.setGetRowClass=function(t){this.deprecatedUpdateGridOption("getRowClass",t)},r.prototype.setIsFullWidthRow=function(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)},r.prototype.setIsRowSelectable=function(t){this.deprecatedUpdateGridOption("isRowSelectable",t)},r.prototype.setIsRowMaster=function(t){this.deprecatedUpdateGridOption("isRowMaster",t)},r.prototype.setPostSortRows=function(t){this.deprecatedUpdateGridOption("postSortRows",t)},r.prototype.setGetDocument=function(t){this.deprecatedUpdateGridOption("getDocument",t)},r.prototype.setGetContextMenuItems=function(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)},r.prototype.setGetMainMenuItems=function(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)},r.prototype.setProcessCellForClipboard=function(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)},r.prototype.setSendToClipboard=function(t){this.deprecatedUpdateGridOption("sendToClipboard",t)},r.prototype.setProcessCellFromClipboard=function(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)},r.prototype.setProcessPivotResultColDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)},r.prototype.setProcessPivotResultColGroupDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)},r.prototype.setPostProcessPopup=function(t){this.deprecatedUpdateGridOption("postProcessPopup",t)},r.prototype.setInitialGroupOrderComparator=function(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)},r.prototype.setGetChartToolbarItems=function(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)},r.prototype.setPaginationNumberFormatter=function(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)},r.prototype.setGetServerSideGroupLevelParams=function(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)},r.prototype.setIsServerSideGroupOpenByDefault=function(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)},r.prototype.setIsApplyServerSideTransaction=function(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)},r.prototype.setIsServerSideGroup=function(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)},r.prototype.setGetServerSideGroupKey=function(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)},r.prototype.setGetRowStyle=function(t){this.deprecatedUpdateGridOption("getRowStyle",t)},r.prototype.setGetRowHeight=function(t){this.deprecatedUpdateGridOption("getRowHeight",t)},Xe([rt("csvCreator")],r.prototype,"csvCreator",void 0),Xe([rt("excelCreator")],r.prototype,"excelCreator",void 0),Xe([w("rowRenderer")],r.prototype,"rowRenderer",void 0),Xe([w("navigationService")],r.prototype,"navigationService",void 0),Xe([w("filterManager")],r.prototype,"filterManager",void 0),Xe([w("columnModel")],r.prototype,"columnModel",void 0),Xe([w("selectionService")],r.prototype,"selectionService",void 0),Xe([w("gridOptionsService")],r.prototype,"gos",void 0),Xe([w("valueService")],r.prototype,"valueService",void 0),Xe([w("alignedGridsService")],r.prototype,"alignedGridsService",void 0),Xe([w("eventService")],r.prototype,"eventService",void 0),Xe([w("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),Xe([w("context")],r.prototype,"context",void 0),Xe([w("rowModel")],r.prototype,"rowModel",void 0),Xe([w("sortController")],r.prototype,"sortController",void 0),Xe([w("paginationProxy")],r.prototype,"paginationProxy",void 0),Xe([w("focusService")],r.prototype,"focusService",void 0),Xe([w("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Xe([rt("rangeService")],r.prototype,"rangeService",void 0),Xe([rt("clipboardService")],r.prototype,"clipboardService",void 0),Xe([rt("aggFuncService")],r.prototype,"aggFuncService",void 0),Xe([w("menuFactory")],r.prototype,"menuFactory",void 0),Xe([rt("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),Xe([w("valueCache")],r.prototype,"valueCache",void 0),Xe([w("animationFrameService")],r.prototype,"animationFrameService",void 0),Xe([rt("statusBarService")],r.prototype,"statusBarService",void 0),Xe([rt("chartService")],r.prototype,"chartService",void 0),Xe([rt("undoRedoService")],r.prototype,"undoRedoService",void 0),Xe([rt("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),Xe([rt("ssrmTransactionManager")],r.prototype,"serverSideTransactionManager",void 0),Xe([w("ctrlsService")],r.prototype,"ctrlsService",void 0),Xe([w("overlayService")],r.prototype,"overlayService",void 0),Xe([rt("sideBarService")],r.prototype,"sideBarService",void 0),Xe([w("stateService")],r.prototype,"stateService",void 0),Xe([w("expansionService")],r.prototype,"expansionService",void 0),Xe([w("apiEventService")],r.prototype,"apiEventService",void 0),Xe([w("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),Xe([ne],r.prototype,"init",null),r=Xe([fe("gridApi")],r),r}(),d4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vO=function(r){d4(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.quickFilter=null,n.quickFilterParts=null,n}e=t,t.prototype.postConstruct=function(){var n=this;this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_VISIBLE,function(){n.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||n.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(i){return n.setQuickFilter(i.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return n.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return n.setQuickFilterParserAndMatcher()})},t.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},t.prototype.doesRowPassQuickFilter=function(n){var i=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,n):this.quickFilterParts.every(function(s){return o?i.doesRowPassQuickFilterCache(n,s):i.doesRowPassQuickFilterNoCache(n,s)})},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(n){return n.quickFilterAggregateText=null})},t.prototype.setQuickFilterParts=function(){var n=this,i=n.quickFilter,o=n.parser;i?this.quickFilterParts=o?o(i):i.split(" "):this.quickFilterParts=null},t.prototype.parseQuickFilter=function(n){return X(n)?this.gridOptionsService.isRowModelType("clientSide")?n.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(n){if(n!=null&&typeof n!="string"){console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof n));return}var i=this.parseQuickFilter(n);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.setQuickFilterParserAndMatcher=function(){var n=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),o=n!==this.parser||i!==this.matcher;this.parser=n,this.matcher=i,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED})},t.prototype.doesRowPassQuickFilterNoCache=function(n,i){var o=this,s=this.columnModel.getAllColumnsForQuickFilter();return s.some(function(a){var l=o.getQuickFilterTextForColumn(a,n);return X(l)&&l.indexOf(i)>=0})},t.prototype.doesRowPassQuickFilterCache=function(n,i){return this.checkGenerateQuickFilterAggregateText(n),n.quickFilterAggregateText.indexOf(i)>=0},t.prototype.doesRowPassQuickFilterMatcher=function(n,i){var o;n?(this.checkGenerateQuickFilterAggregateText(i),o=i.quickFilterAggregateText):o=this.getQuickFilterAggregateText(i);var s=this,a=s.quickFilterParts,l=s.matcher;return l(a,o)},t.prototype.checkGenerateQuickFilterAggregateText=function(n){n.quickFilterAggregateText||(n.quickFilterAggregateText=this.getQuickFilterAggregateText(n))},t.prototype.getQuickFilterTextForColumn=function(n,i){var o=this.valueService.getValue(n,i,!0),s=n.getColDef();if(s.getQuickFilterText){var a={value:o,node:i,data:i.data,column:n,colDef:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o=s.getQuickFilterText(a)}return X(o)?o.toString().toUpperCase():null},t.prototype.getQuickFilterAggregateText=function(n){var i=this,o=[],s=this.columnModel.getAllColumnsForQuickFilter();return s.forEach(function(a){var l=i.getQuickFilterTextForColumn(a,n);X(l)&&o.push(l)}),o.join(e.QUICK_FILTER_SEPARATOR)};var e;return t.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",t.QUICK_FILTER_SEPARATOR=`
`,gc([w("valueService")],t.prototype,"valueService",void 0),gc([w("columnModel")],t.prototype,"columnModel",void 0),gc([w("rowModel")],t.prototype,"rowModel",void 0),gc([ne],t.prototype,"postConstruct",null),t=e=gc([fe("quickFilterService")],t),t}(Q),f4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ha=function(){return ha=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ha.apply(this,arguments)},Yi=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},p4=function(r){f4(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e.advancedFilterModelUpdateQueue=[],e}return t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_VISIBLE,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,_.EVENT_ROW_DATA_UPDATED,function(){return e.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){e.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){e.updateAggFiltering(),e.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(n){return e.setAdvancedFilterModel(n.currentValue)}),this.addManagedListener(this.eventService,_.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(n){var i=n.enabled;return e.onAdvancedFilterEnabledChanged(i)}),this.addManagedListener(this.eventService,_.EVENT_DATA_TYPES_INFERRED,function(){return e.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,vO.EVENT_QUICK_FILTER_CHANGED,function(){return e.onFilterChanged({source:"quickFilter"})})},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1},t.prototype.doesExternalFilterPass=function(e){var n=this.gridOptionsService.get("doesExternalFilterPass");return typeof n=="function"?n(e):!1},t.prototype.setFilterModel=function(e,n){var i=this;if(n===void 0&&(n="api"),this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:n});return}var o=[],s=this.getFilterModel();if(e){var a=iw(Object.keys(e));this.allColumnFilters.forEach(function(l,u){var c=e[u];o.push(i.setModelOnFilterWrapper(l.filterPromise,c)),a.delete(u)}),a.forEach(function(l){var u=i.columnModel.getPrimaryColumn(l)||i.columnModel.getGridColumn(l);if(!u){console.warn("AG Grid: setFilterModel() - no column found for colId: "+l);return}if(!u.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);return}var c=i.getOrCreateFilterWrapper(u,"NO_UI");if(!c){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l);return}o.push(i.setModelOnFilterWrapper(c.filterPromise,e[l]))})}else this.allColumnFilters.forEach(function(l){o.push(i.setModelOnFilterWrapper(l.filterPromise,null))});Rr.all(o).then(function(){var l=i.getFilterModel(),u=[];i.allColumnFilters.forEach(function(c,d){var f=s?s[d]:null,p=l?l[d]:null;He.jsonEquals(f,p)||u.push(c.column)}),u.length>0&&i.onFilterChanged({columns:u,source:n})})},t.prototype.setModelOnFilterWrapper=function(e,n){return new Rr(function(i){e.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(o.setModel(n)||Rr.resolve()).then(function(){return i()})})})},t.prototype.getFilterModel=function(){var e={};return this.allColumnFilters.forEach(function(n,i){var o=n.filterPromise,s=o.resolveNow(null,function(l){return l});if(s==null)return null;if(typeof s.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}var a=s.getModel();X(a)&&(e[i]=a)}),e},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var n=this,i;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return n.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((i=this.advancedFilterService)===null||i===void 0)&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return(e=this.advancedFilterService)===null||e===void 0?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,n){return this.doColumnFiltersPass(e,n,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var n=function(s){return s?s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},i=!!this.gridOptionsService.getGroupAggFiltering(),o=function(s){var a=!s.isPrimary();if(a)return!0;var l=!e.columnModel.isPivotActive(),u=s.isValueActive();return!u||!l?!1:e.columnModel.isPivotMode()?!0:i};this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,n)){var a=s.filterPromise.resolveNow(null,function(l){return l});o(s.column)?e.activeAggregateFilters.push(a):e.activeColumnFilters.push(a)}})},t.prototype.updateFilterFlagInColumns=function(e,n){this.allColumnFilters.forEach(function(i){var o=i.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});i.column.setFilterActive(o,e,n)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(e,n,i){for(var o=e.data,s=e.aggData,a=i?this.activeAggregateFilters:this.activeColumnFilters,l=i?s:o,u=0;u<a.length;u++){var c=a[u];if(!(c==null||c===n)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:e,data:l}))return!1}}return!0},t.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},t.prototype.refreshFiltersForAggregations=function(){var e=this.gridOptionsService.getGroupAggFiltering();e&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var n=this,i=function(){return n.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()},t.prototype.onFilterChanged=function(e){e===void 0&&(e={});var n=e.source,i=e.filterInstance,o=e.additionalEventAttributes,s=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==i&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var a={source:n,type:_.EVENT_FILTER_CHANGED,columns:s||[]};o&&Ar(a,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(a),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var e,n=(e=this.gridOptionsService.get("allowShowChangeAfterFilter"))!==null&&e!==void 0?e:!1;return!n&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:e})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(n){n.filterPromise.then(function(i){i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var n=this;return function(i){var o=i.node;return n.valueService.getValue(e,o,!0)}},t.prototype.createGetValue=function(e){var n=this;return function(i,o){var s=o?n.columnModel.getGridColumn(o):e;return s?n.valueService.getValue(s,i,!0):void 0}},t.prototype.getFilterComponent=function(e,n,i){var o;if(i===void 0&&(i=!0),i)return((o=this.getOrCreateFilterWrapper(e,n))===null||o===void 0?void 0:o.filterPromise)||null;var s=this.cachedFilter(e);return s?s.filterPromise:null},t.prototype.isFilterActive=function(e){var n=this.cachedFilter(e);return!!n&&n.filterPromise.resolveNow(!1,function(i){return i.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,n){if(!e.isFilterAllowed())return null;var i=this.cachedFilter(e);return i?n!=="NO_UI"&&this.putIntoGui(i,n):(i=this.createFilterWrapper(e,n),this.setColumnFilterWrapper(e,i)),i},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var n;if(Le.__isRegistered(ge.SetFilterModule,this.context.getGridId()))n="agSetColumnFilter";else{var i=e.getColDef().cellDataType;i==="number"?n="agNumberColumnFilter":i==="date"||i==="dateString"?n="agDateColumnFilter":n="agTextColumnFilter"}return n},t.prototype.getDefaultFloatingFilter=function(e){var n;if(Le.__isRegistered(ge.SetFilterModule,this.context.getGridId()))n="agSetColumnFloatingFilter";else{var i=e.getColDef().cellDataType;i==="number"?n="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?n="agDateColumnFloatingFilter":n="agTextColumnFloatingFilter"}return n},t.prototype.createFilterInstance=function(e){var n=this,i=this.getDefaultFilter(e),o=e.getColDef(),s,a=ha(ha({},this.createFilterParams(e,o)),{filterModifiedCallback:function(){return n.filterModifiedCallbackFactory(s,e)()},filterChangedCallback:function(u){return n.filterChangedCallbackFactory(s,e)(u)},doesRowPassOtherFilter:function(u){return n.doesRowPassOtherFilters(s,u)}}),l=this.userComponentFactory.getFilterDetails(o,a,i);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return s=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,n){var i={column:e,colDef:bC(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return i},t.prototype.createFilterWrapper=function(e,n){var i,o={column:e,filterPromise:null,compiledElement:null,guiPromise:Rr.resolve(null),compDetails:null},s=this.createFilterInstance(e),a=s.filterPromise,l=s.compDetails;return o.filterPromise=(i=a?.())!==null&&i!==void 0?i:null,o.compDetails=l,a&&this.putIntoGui(o,n),o},t.prototype.putIntoGui=function(e,n){var i=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new Rr(function(s){e.filterPromise.then(function(a){var l=a.getGui();X(l)||console.warn("AG Grid: getGui method from filter returned ".concat(l,", it should be a DOM element or an HTML template string.")),typeof l=="string"&&(l=Cn(l)),o.appendChild(l),s(o);var u={type:_.EVENT_FILTER_OPENED,column:e.column,source:n,eGui:o};i.eventService.dispatchEvent(u)})})},t.prototype.onColumnsChanged=function(){var e=this,n=[];this.allColumnFilters.forEach(function(i,o){var s;i.column.isPrimary()?s=e.columnModel.getPrimaryColumn(o):s=e.columnModel.getGridColumn(o),!s&&(n.push(i.column),e.disposeFilterWrapper(i,"columnChanged"),e.disposeColumnListener(o))}),n.length>0?this.onFilterChanged({columns:n,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,n=this.columnModel.getGroupAutoColumns();n?.forEach(function(i){i.getColDef().filter==="agGroupColumnFilter"&&e.getOrCreateFilterWrapper(i,"NO_UI")})},t.prototype.isFilterAllowed=function(e){var n,i;if(this.isAdvancedFilterEnabled())return!1;var o=e.isFilterAllowed();if(!o)return!1;var s=this.allColumnFilters.get(e.getColId());return(i=(n=s?.filterPromise)===null||n===void 0?void 0:n.resolveNow(!0,function(a){return typeof a?.isFilterAllowed=="function"?a?.isFilterAllowed():!0}))!==null&&i!==void 0?i:!0},t.prototype.getFloatingFilterCompDetails=function(e,n){var i=this,o=e.getColDef(),s=this.createFilterParams(e,o),a=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,xC,s),l=this.userComponentFactory.getDefaultFloatingFilterType(o,function(){return i.getDefaultFloatingFilter(e)});l==null&&(l="agReadOnlyFloatingFilter");var u=function(d){var f=i.getFilterComponent(e,"NO_UI");f?.then(function(p){d(ga(p))})},c={column:e,filterParams:a,currentParentModel:function(){return i.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:u,showParentFilter:n,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,c,l)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var n=this.getFilterComponent(e,"NO_UI",!1);return n?n.resolveNow(null,function(i){return i&&i.getModel()}):null},t.prototype.destroyFilter=function(e,n){n===void 0&&(n="api");var i=e.getColId(),o=this.allColumnFilters.get(i);this.disposeColumnListener(i),o&&(this.disposeFilterWrapper(o,n),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var n=this.allColumnListeners.get(e);n&&(this.allColumnListeners.delete(e),n())},t.prototype.disposeFilterWrapper=function(e,n){var i=this;e.filterPromise.then(function(o){i.getContext().destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),i.allColumnFilters.delete(e.column.getColId());var s={type:_.EVENT_FILTER_DESTROYED,source:n,column:e.column};i.eventService.dispatchEvent(s)})},t.prototype.filterModifiedCallbackFactory=function(e,n){var i=this;return function(){var o={type:_.EVENT_FILTER_MODIFIED,column:n,filterInstance:e};i.eventService.dispatchEvent(o)}},t.prototype.filterChangedCallbackFactory=function(e,n){var i=this;return function(o){var s,a=(s=o?.source)!==null&&s!==void 0?s:"api",l={filter:e,additionalEventAttributes:o,columns:[n],source:a};i.callOnFilterChangedOutsideRenderCycle(l)}},t.prototype.checkDestroyFilter=function(e){var n=this,i=this.allColumnFilters.get(e);if(i){var o=i.column,s=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(i.compDetails,s)){this.destroyFilter(o,"columnChanged");return}var a=o.getColDef().filterParams;if(!i.filterPromise){this.destroyFilter(o,"columnChanged");return}i.filterPromise.then(function(l){var u=l?.refresh?l.refresh(ha(ha(ha({},n.createFilterParams(o,o.getColDef())),{filterModifiedCallback:n.filterModifiedCallbackFactory(l,o),filterChangedCallback:n.filterChangedCallbackFactory(l,o),doesRowPassOtherFilter:function(c){return n.doesRowPassOtherFilters(l,c)}}),a)):!0;u||n.destroyFilter(o,"columnChanged")})}},t.prototype.setColumnFilterWrapper=function(e,n){var i=this,o=e.getColId();this.allColumnFilters.set(o,n),this.allColumnListeners.set(o,this.addManagedListener(e,yt.EVENT_COL_DEF_CHANGED,function(){return i.checkDestroyFilter(o)}))},t.prototype.areFilterCompsDifferent=function(e,n){if(!n||!e)return!0;var i=e.componentClass,o=n.componentClass,s=i===o||i?.render&&o?.render&&i.render===o.render;return!s},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}},t.prototype.showAdvancedFilterBuilder=function(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)},t.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var e=this.columnModel.getAllGridColumns();return e.some(function(n){return n.getColDef().floatingFilter})},t.prototype.getFilterInstance=function(e,n){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var i=this.getFilterInstanceImpl(e,function(s){if(n){var a=ga(s);n(a)}}),o=ga(i);return o},t.prototype.getFilterInstanceImpl=function(e,n){var i=this.columnModel.getPrimaryColumn(e);if(i){var o=this.getFilterComponent(i,"NO_UI"),s=o&&o.resolveNow(null,function(a){return a});return s?setTimeout(n,0,s):o&&o.then(function(a){n(a)}),s}},t.prototype.warnAdvancedFilters=function(){Pe("Column Filter API methods have been disabled as Advanced Filters are enabled.")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var n;(n=this.advancedFilterService)===null||n===void 0||n.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach(function(n){var i=n.model,o=n.source;return e.setFilterModel(i,o)}),this.filterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(n){return e.setAdvancedFilterModel(n)}),this.advancedFilterModelUpdateQueue=[]},t.prototype.destroy=function(){var e=this;r.prototype.destroy.call(this),this.allColumnFilters.forEach(function(n){return e.disposeFilterWrapper(n,"gridDestroyed")}),this.allColumnListeners.clear()},Yi([w("valueService")],t.prototype,"valueService",void 0),Yi([w("columnModel")],t.prototype,"columnModel",void 0),Yi([w("rowModel")],t.prototype,"rowModel",void 0),Yi([w("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Yi([w("rowRenderer")],t.prototype,"rowRenderer",void 0),Yi([w("dataTypeService")],t.prototype,"dataTypeService",void 0),Yi([w("quickFilterService")],t.prototype,"quickFilterService",void 0),Yi([rt("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Yi([ne],t.prototype,"init",null),t=Yi([fe("filterManager")],t),t}(Q),h4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cw=function(r){h4(t,r);function t(e,n){var i=r.call(this,e)||this;return i.ctrl=n,i}return t.prototype.getCtrl=function(){return this.ctrl},t}(ke),g4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},v4=function(r){g4(t,r);function t(e){return r.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,n=this.getGui(),i={addOrRemoveCssClass:function(o,s){return e.addOrRemoveCssClass(o,s)},addOrRemoveBodyCssClass:function(o,s){return e.eFloatingFilterBody.classList.toggle(o,s)},setButtonWrapperDisplayed:function(o){return it(e.eButtonWrapper,o)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return n.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(i,n,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var n=this;if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(i){return n.afterCompCreated(i)})},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}},t.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,vc([oe("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),vc([oe("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),vc([oe("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),vc([ne],t.prototype,"postConstruct",null),vc([Un],t.prototype,"destroyFloatingFilterComp",null),t}(cw),m4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),y4=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nn=function(r){return r.AUTO_HEIGHT="ag-layout-auto-height",r.NORMAL="ag-layout-normal",r.PRINT="ag-layout-print",r}(nn||{}),dw=function(r){m4(t,r);function t(e){var n=r.call(this)||this;return n.view=e,n}return t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),n={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=n.autoHeight?nn.AUTO_HEIGHT:n.print?nn.PRINT:nn.NORMAL;this.view.updateLayoutClasses(i,n)},t.prototype.getDomLayout=function(){var e,n=(e=this.gridOptionsService.get("domLayout"))!==null&&e!==void 0?e:"normal",i=["normal","print","autoHeight"];return i.indexOf(n)===-1?(Pe("".concat(n," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):n},y4([ne],t.prototype,"postConstruct",null),t}(Q),C4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_h=function(){return _h=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},_h.apply(this,arguments)},ns=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jn=function(r){return r[r.Vertical=0]="Vertical",r[r.Horizontal=1]="Horizontal",r}(jn||{}),sr=function(r){return r[r.Container=0]="Container",r[r.FakeContainer=1]="FakeContainer",r}(sr||{}),w4=function(r){C4(t,r);function t(e){var n=r.call(this)||this;return n.lastScrollSource=[null,null],n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=e,n.resetLastHScrollDebounced=$r(function(){return n.lastScrollSource[jn.Horizontal]=null},500),n.resetLastVScrollDebounced=$r(function(){return n.lastScrollSource[jn.Vertical]=null},500),n}return t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(n){e.centerRowContainerCtrl=n.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),n=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var i=this.gridOptionsService.get("debounceVerticalScrollbar"),o=i?$r(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=i?$r(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),n.onScrollCallback(s)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){var n=this.centerRowContainerCtrl==null;if(!n){e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-i),a.setContainerTranslateX(i),o.setContainerTranslateX(i),s.setContainerTranslateX(i);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[jn.Horizontal]===sr.Container;e=Math.abs(e),d?l.setScrollPosition(e):ed(c,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,n){return this.lastScrollSource[n]==null?(this.lastScrollSource[n]=e,!0):this.lastScrollSource[n]===e},t.prototype.onFakeHScroll=function(){this.isControllingScroll(sr.FakeContainer,jn.Horizontal)&&this.onHScrollCommon(sr.FakeContainer)},t.prototype.onHScroll=function(){this.isControllingScroll(sr.Container,jn.Horizontal)&&this.onHScrollCommon(sr.Container)},t.prototype.onHScrollCommon=function(e){var n=this.centerRowContainerCtrl.getViewportElement(),i=n.scrollLeft;if(!this.shouldBlockScrollUpdate(jn.Horizontal,i,!0)){var o;e===sr.Container?o=Jc(n,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},t.prototype.onFakeVScroll=function(){this.isControllingScroll(sr.FakeContainer,jn.Vertical)&&this.onVScrollCommon(sr.FakeContainer)},t.prototype.onVScroll=function(){this.isControllingScroll(sr.Container,jn.Vertical)&&this.onVScrollCommon(sr.Container)},t.prototype.onVScrollCommon=function(e){var n;e===sr.Container?n=this.eBodyViewport.scrollTop:n=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(jn.Vertical,n,!0)&&(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,e===sr.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(n):this.eBodyViewport.scrollTop=n,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var n=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===n||(this.scrollLeft=e,this.fireScrollEvent(jn.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},t.prototype.fireScrollEvent=function(e){var n=this,i={type:_.EVENT_BODY_SCROLL,direction:e===jn.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=_h(_h({},i),{type:_.EVENT_BODY_SCROLL_END});n.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,n,i){return i===void 0&&(i=!1),i&&!Cs()?!1:e===jn.Vertical?this.shouldBlockVerticalScroll(n):this.shouldBlockHorizontalScroll(n)},t.prototype.shouldBlockVerticalScroll=function(e){var n=od(this.eBodyViewport),i=this.eBodyViewport.scrollHeight;return e<0||e+n>i},t.prototype.shouldBlockHorizontalScroll=function(e){var n=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Zc()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+n>i},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(jn.Vertical)},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(sr.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,n){n===void 0&&(n=!1);var i=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!n&&this.shouldBlockScrollUpdate(jn.Horizontal,e)&&(this.enableRtl&&Zc()?e=e>0?0:o:e=Math.min(Math.max(e,i),o)),ed(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){var e={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return e},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var n=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(n+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-n},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,n){n===void 0&&(n=null);for(var i=this.rowModel.getRowCount(),o=-1,s=0;s<i;s++){var a=this.rowModel.getRow(s);if(typeof e=="function"){var l=e;if(a&&l(a)){o=s;break}}else if(e===a||e===a.data){o=s;break}}o>=0&&this.ensureIndexVisible(o,n)},t.prototype.ensureIndexVisible=function(e,n){if(!this.gridOptionsService.isDomLayout("print")){var i=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=i){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}var o=this.gridOptionsService.get("pagination"),s=o&&!this.gridOptionsService.get("suppressPaginationPanel");s||this.paginationProxy.goToPageWithIndex(e);var a=this.ctrlsService.getGridBodyCtrl(),l=a.getStickyTopHeight(),u=this.paginationProxy.getRow(e),c;do{var d=u.rowTop,f=u.rowHeight,p=this.paginationProxy.getPixelOffset(),h=u.rowTop-p,g=h+u.rowHeight,v=this.getVScrollPosition(),m=this.heightScaler.getDivStretchOffset(),C=v.top+m,y=v.bottom+m,x=y-C,P=this.heightScaler.getScrollPositionForPixel(h),R=this.heightScaler.getScrollPositionForPixel(g-x),E=Math.min((P+R)/2,h),O=C+l>h,I=y<g,k=null;n==="top"?k=P:n==="bottom"?k=R:n==="middle"?k=E:O?k=P-l:I&&(k=R),k!==null&&(this.setVerticalScrollPosition(k),this.rowRenderer.redraw({afterScroll:!0})),c=d!==u.rowTop||f!==u.rowHeight}while(c);this.animationFrameService.flushAllFrames()}},t.prototype.ensureColumnVisible=function(e,n){n===void 0&&(n="auto");var i=this.columnModel.getGridColumn(e);if(i&&!i.isPinned()&&this.columnModel.isColumnDisplayed(i)){var o=this.getPositionedHorizontalScroll(i,n);o!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.setScrollPosition=function(e,n){this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()},t.prototype.getPositionedHorizontalScroll=function(e,n){var i=this.isColumnOutsideViewport(e),o=i.columnBeforeStart,s=i.columnAfterEnd,a=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:s)||a,d=u?s:o;n!=="auto"&&(c=n==="start",d=n==="end");var f=n==="middle";if(c||d||f){var p=this.getColumnBounds(e),h=p.colLeft,g=p.colMiddle,v=p.colRight;return f?g-l/2:c?u?v:h:u?h-l:v-l}return null},t.prototype.isColumnOutsideViewport=function(e){var n=this.getViewportBounds(),i=n.start,o=n.end,s=this.getColumnBounds(e),a=s.colLeft,l=s.colRight,u=this.enableRtl,c=u?i>l:o<l,d=u?o<a:i>a;return{columnBeforeStart:c,columnAfterEnd:d}},t.prototype.getColumnBounds=function(e){var n=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),s=e.getLeft(),a=n?-1:1,l=n?i-s:s,u=l+o*a,c=l+o/2*a;return{colLeft:l,colMiddle:c,colRight:u}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=n,o=e+n;return{start:i,end:o,width:e}},ns([w("ctrlsService")],t.prototype,"ctrlsService",void 0),ns([w("animationFrameService")],t.prototype,"animationFrameService",void 0),ns([w("paginationProxy")],t.prototype,"paginationProxy",void 0),ns([w("rowModel")],t.prototype,"rowModel",void 0),ns([w("rowContainerHeightService")],t.prototype,"heightScaler",void 0),ns([w("rowRenderer")],t.prototype,"rowRenderer",void 0),ns([w("columnModel")],t.prototype,"columnModel",void 0),ns([ne],t.prototype,"postConstruct",null),t}(Q),_4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),TC=function(){return TC=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},TC.apply(this,arguments)},Ur=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},S4=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},E4=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},x4=function(r){_4(t,r);function t(e){var n=r.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=e,n}return t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var n=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,_.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_MODEL_UPDATED,function(){n()}),n(),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new hO({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return i.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!lr(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===br.RowDrag},t.prototype.getIconName=function(){var e=this.gridOptionsService.get("rowDragManaged");return e&&this.shouldPreventRowMove()?dn.ICON_NOT_ALLOWED:dn.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var n=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var i=this.gridOptionsService.get("rowDragMultiRow"),o=E4([],S4(this.selectionService.getSelectedNodes()),!1).sort(function(a,l){return a.rowIndex==null||l.rowIndex==null?0:n.getRowIndexNumber(a)-n.getRowIndexNumber(l)}),s=e.dragItem.rowNode;return i&&o.indexOf(s)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[s])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(_.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(n){n.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){var n=e.dragSource.dragSourceDomDataKey;return n===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getGui(),o=e.dropZoneTarget;return!i.contains(o)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(_.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var n=this.mouseEventService.getNormalisedPosition(e).y,i=this.gridOptionsService.get("rowDragManaged");i&&this.doManagedDrag(e,n),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,n){var i=this.isFromThisGrid(e),o=this.gridOptionsService.get("rowDragManaged"),s=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(s[0],n):this.moveRows(s,n))},t.prototype.getRowIndexNumber=function(e){return parseInt(ut(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var n=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===vs.Below,s=this.mouseEventService.getNormalisedPosition(e).y,a=e.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(e))a.forEach(function(d){d.rowTop<s&&(l-=1)}),this.moveRows(a,s,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===vs.Above&&c--,this.clientSideRowModel.updateRowData({add:a.map(function(d){return d.data}).filter(function(d){return!n.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,n,i){i===void 0&&(i=0);var o=this.clientSideRowModel.ensureRowsAtPixel(e,n,i);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var n=this;if(!e.getContainer()){Pe("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var i={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,i=e):(e.onDragEnter&&(i.onDragEnter=function(o){e.onDragEnter(n.draggingToRowDragEvent(_.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(i.onDragLeave=function(o){e.onDragLeave(n.draggingToRowDragEvent(_.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(i.onDragging=function(o){e.onDragging(n.draggingToRowDragEvent(_.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(i.onDragStop=function(o){e.onDragStop(n.draggingToRowDragEvent(_.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(TC({isInterestedIn:function(o){return o===br.RowDrag},getIconName:function(){return dn.ICON_MOVE},external:!0},i))},t.prototype.getRowDropZone=function(e){var n=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),a=this.onDragging.bind(this),l=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?function(u){o(u),e.onDragEnter(n.draggingToRowDragEvent(_.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:e.onDragLeave?function(u){s(u),e.onDragLeave(n.draggingToRowDragEvent(_.EVENT_ROW_DRAG_LEAVE,u))}:s,onDragging:e.onDragging?function(u){a(u),e.onDragging(n.draggingToRowDragEvent(_.EVENT_ROW_DRAG_MOVE,u))}:a,onDragStop:e.onDragStop?function(u){l(u),e.onDragStop(n.draggingToRowDragEvent(_.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:s,onDragging:a,onDragStop:l,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,n){var i=this.mouseEventService.getNormalisedPosition(n).y,o=i>this.paginationProxy.getCurrentPageHeight(),s=-1,a;o||(s=this.rowModel.getRowIndexAtPixel(i),a=this.rowModel.getRow(s));var l;switch(n.vDirection){case nd.Down:l="down";break;case nd.Up:l="up";break;default:l=null;break}var u={type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:s,overNode:a,y:i,vDirection:l};return u},t.prototype.dispatchGridEvent=function(e,n){var i=this.draggingToRowDragEvent(e,n);this.eventService.dispatchEvent(i)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(_.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(_.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(n){n.setDragging(!1)})},Ur([w("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ur([w("rowModel")],t.prototype,"rowModel",void 0),Ur([w("paginationProxy")],t.prototype,"paginationProxy",void 0),Ur([w("columnModel")],t.prototype,"columnModel",void 0),Ur([w("focusService")],t.prototype,"focusService",void 0),Ur([w("sortController")],t.prototype,"sortController",void 0),Ur([w("filterManager")],t.prototype,"filterManager",void 0),Ur([w("selectionService")],t.prototype,"selectionService",void 0),Ur([w("mouseEventService")],t.prototype,"mouseEventService",void 0),Ur([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Ur([rt("rangeService")],t.prototype,"rangeService",void 0),Ur([ne],t.prototype,"postConstruct",null),t}(Q),D4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),tr=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rd=function(r){return r.ANIMATION_ON="ag-row-animation",r.ANIMATION_OFF="ag-row-no-animation",r}(rd||{}),mO="ag-force-vertical-scroll",T4="ag-selectable",R4="ag-column-moving",A4=function(r){D4(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,n,i,o,s,a){var l=this;this.comp=e,this.eGridBody=n,this.eBodyViewport=i,this.eTop=o,this.eBottom=s,this.eStickyTop=a,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(u){return l.setCellTextSelection(u.currentValue)}),this.createManagedBean(new dw(this.comp)),this.bodyScrollFeature=this.createManagedBean(new w4(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,_.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var n=this;e.forEach(function(i){n.addManagedListener(i,"focusin",function(o){var s=o.target,a=ma(s,"ag-root",i);i.classList.toggle("ag-has-focus",!a)}),n.addManagedListener(i,"focusout",function(o){var s=o.target,a=o.relatedTarget,l=i.contains(a),u=ma(a,"ag-root",i),c=ma(s,"ag-root",i);c||(!l||u)&&i.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(R4,e)},t.prototype.setCellTextSelection=function(e){e===void 0&&(e=!1),this.comp.setCellSelectableCss(T4,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n),this.setStickyTopWidth(n);var i=n&&this.gridOptionsService.getScrollbarWidth()||0,o=$C()?16:0,s="calc(100% + ".concat(i+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return e.comp.setBodyViewportWidth(s)})},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var n=function(o){var s=o.relatedTarget;if(hh(s)===null){e.rowRenderer.stopEditing();return}var a=i.some(function(u){return u.contains(s)})&&e.mouseEventService.isElementInThisGrid(s);if(!a){var l=e.popupService;a=l.getActivePopups().some(function(u){return u.contains(s)})||l.isElementWithinCustomPopup(s)}a||e.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(function(o){return e.addManagedListener(o,"focusout",n)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),n=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){var n=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(n)},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowVerticalScroll"),n=e?mO:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(n,e),e||i&&LA(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,n=function(){var i=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),o=i?rd.ANIMATION_ON:rd.ANIMATION_OFF;e.comp.setRowAnimationCssOnBodyViewport(o,i)};n(),this.addManagedListener(this.eventService,_.EVENT_HEIGHT_SCALE_CHANGED,n),this.addManagedPropertyListener("animateRows",n)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,n=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");n&&i&&this.addManagedListener(n,"wheel",function(o){return e.onFullWidthContainerWheel(o,i)})},t.prototype.onFullWidthContainerWheel=function(e,n){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),n.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,n,i){if(!(!e&&!i)){if(this.gridOptionsService.get("preventDefaultOnContextMenu")){var o=e||i;o.preventDefault()}var s=(e||n).target;if(s===this.eBodyViewport||s===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):i&&this.contextMenuFactory.onContextMenu(null,i,null,null,null,this.eGridBody)}}},t.prototype.mockContextMenuForIPad=function(e){if(Cs()){var n=new Or(this.eBodyViewport),i=function(o){e(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(n,Or.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return n.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var n=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(n+e),this.eBodyViewport.scrollTop-n},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new x4(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,n=e.getPinnedTopTotalHeight();n&&(n+=1);var i=e.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(n),this.comp.setBottomHeight(i),this.comp.setTopDisplay(n?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){e===void 0&&(e=0),this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(!e)this.comp.setStickyTopWidth("100%");else{var n=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(n,"px)"))}},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var e=this.ctrlsService.getGridHeaderCtrl(),n=e.getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;n>0&&(o+=n+1),i>0&&(o+=i+1),this.comp.setStickyTopTop("".concat(o,"px"))},t.prototype.sizeColumnsToFit=function(e,n){var i=this,o=this.isVerticalScrollShowing(),s=o?this.gridOptionsService.getScrollbarWidth():0,a=xa(this.eGridBody),l=a-s;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}n===void 0?window.setTimeout(function(){i.sizeColumnsToFit(e,100)},0):n===100?window.setTimeout(function(){i.sizeColumnsToFit(e,500)},100):n===500?window.setTimeout(function(){i.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},tr([w("animationFrameService")],t.prototype,"animationFrameService",void 0),tr([w("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),tr([w("ctrlsService")],t.prototype,"ctrlsService",void 0),tr([w("columnModel")],t.prototype,"columnModel",void 0),tr([w("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),tr([rt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),tr([w("headerNavigationService")],t.prototype,"headerNavigationService",void 0),tr([w("dragAndDropService")],t.prototype,"dragAndDropService",void 0),tr([w("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),tr([w("rowRenderer")],t.prototype,"rowRenderer",void 0),tr([w("popupService")],t.prototype,"popupService",void 0),tr([w("mouseEventService")],t.prototype,"mouseEventService",void 0),tr([w("rowModel")],t.prototype,"rowModel",void 0),tr([w("filterManager")],t.prototype,"filterManager",void 0),t}(Q),RC=function(r){return r[r.FILL=0]="FILL",r[r.RANGE=1]="RANGE",r}(RC||{}),Wc=function(r){return r[r.VALUE=0]="VALUE",r[r.DIMENSION=1]="DIMENSION",r}(Wc||{}),mc="ag-cell-range-selected",O4="ag-cell-range-chart",b4="ag-cell-range-single-cell",F4="ag-cell-range-chart-category",I4="ag-cell-range-handle",P4="ag-cell-range-top",M4="ag-cell-range-right",N4="ag-cell-range-bottom",L4="ag-cell-range-left",k4=function(){function r(t,e){this.beans=t,this.cellCtrl=e}return r.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},r.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(mc,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass("".concat(mc,"-1"),this.rangeCount===1),this.cellComp.addOrRemoveCssClass("".concat(mc,"-2"),this.rangeCount===2),this.cellComp.addOrRemoveCssClass("".concat(mc,"-3"),this.rangeCount===3),this.cellComp.addOrRemoveCssClass("".concat(mc,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(O4,this.hasChartRange),Hl(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(b4,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},r.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.top,i=!e&&t.right,o=!e&&t.bottom,s=!e&&t.left;this.cellComp.addOrRemoveCssClass(P4,n),this.cellComp.addOrRemoveCssClass(M4,i),this.cellComp.addOrRemoveCssClass(N4,o),this.cellComp.addOrRemoveCssClass(L4,s)},r.prototype.isSingleCell=function(){var t=this.beans.rangeService;return this.rangeCount===1&&t&&!t.isMoreThanOneCell()},r.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(n){return Kr([Wc.DIMENSION,Wc.VALUE],n.type)})},r.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},r.prototype.getRangeBorders=function(){var t=this,e=this.beans.gridOptionsService.get("enableRtl"),n=!1,i=!1,o=!1,s=!1,a=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,f;e?(d=c.getDisplayedColAfter(a),f=c.getDisplayedColBefore(a)):(d=c.getDisplayedColBefore(a),f=c.getDisplayedColAfter(a));var p=u.getCellRanges().filter(function(C){return u.isCellInSpecificRange(t.cellCtrl.getCellPosition(),C)});d||(s=!0),f||(i=!0);for(var h=0;h<p.length&&!(n&&i&&o&&s);h++){var g=p[h],v=u.getRangeStartRow(g),m=u.getRangeEndRow(g);!n&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(n=!0),!o&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(o=!0),!s&&d&&g.columns.indexOf(d)<0&&(s=!0),!i&&f&&g.columns.indexOf(f)<0&&(i=!0)}return{top:n,right:i,bottom:o,left:s}},r.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(I4,!!this.selectionHandle)}},r.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=t.rangeService,i=n.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var s=ut(i),a=this.cellCtrl.getCellPosition(),l=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=e.get("enableRangeHandle"),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=i[0].type===Wc.DIMENSION,f=d&&n.isCellInSpecificRange(a,i[0]);this.cellComp.addOrRemoveCssClass(F4,f),c=s.type===Wc.VALUE}return c&&s.endRow!=null&&n.isContiguousRange(s)&&n.isBottomRightCell(s,a)},r.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=t.rangeService,i=ut(n.getCellRanges()).type,o=e.get("enableFillHandle")&&Oe(i),s=o?RC.FILL:RC.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},r.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},r}(),G4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),V4=function(r){G4(t,r);function t(e,n){var i=r.call(this)||this;return i.cellCtrl=e,i.beans=n,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return t.prototype.setupRowSpan=function(){var e=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,_.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onNewColumnsLoaded=function(){var e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Do(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,n){return e+n.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),n=[];if(e===1)n.push(this.column);else for(var i=this.column,o=this.column.getPinned(),s=0;i&&s<e&&(n.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||Oe(i)||o!==i.getPinned()));s++);return n},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){var e;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?e=ut(this.colsSpanning):e=this.column,e.getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var i=this.beans.columnModel.getBodyContainerWidth();return n+i+(e||0)}return n+(e||0)},t.prototype.applyRowSpan=function(e){if(!(this.rowSpan===1&&!e)){var n=this.beans.gridOptionsService.getRowHeightAsNumber(),i=n*this.rowSpan;this.eGui.style.height="".concat(i,"px"),this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Q),H4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),B4=function(r){H4(t,r);function t(e,n){var i=r.call(this)||this;return i.staticClasses=[],i.cellCtrl=e,i.beans=n,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i}return t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,n=this.column.getColDef(),i=n.cellClassRules,o={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(i===this.cellClassRules?void 0:this.cellClassRules,i,o,function(s){return e.cellComp.addOrRemoveCssClass(s,!0)},function(s){return e.cellComp.addOrRemoveCssClass(s,!1)}),this.cellClassRules=i},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var n;if(typeof e.cellStyle=="function"){var i={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},o=e.cellStyle;n=o(i)}else n=e.cellStyle;n&&this.cellComp.setUserStyles(n)}},t.prototype.applyClassesFromColDef=function(){var e=this,n=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:n,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(n,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Q),j4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fw=function(r){j4(t,r);function t(e,n){var i=r.call(this)||this;return i.ctrl=e,i.beans=n,i}return t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var n="title";e!=null&&e!=""?this.eGui.setAttribute(n,e):this.eGui.removeAttribute(n)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this,n,i,o,s;if(this.genericTooltipFeature==null){var a={getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new ow(a,(i=(n=this.ctrl).getTooltipShowDelayOverride)===null||i===void 0?void 0:i.call(n),(s=(o=this.ctrl).getTooltipHideDelayOverride)===null||s===void 0?void 0:s.call(o)),this.beans.context)}},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,n=this.ctrl,i=n.getColumn?n.getColumn():void 0,o=n.getColDef?n.getColDef():void 0,s=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:o,column:i,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Q),Ie=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yO=function(){function r(){}return r.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},Ie([w("resizeObserverService")],r.prototype,"resizeObserverService",void 0),Ie([w("paginationProxy")],r.prototype,"paginationProxy",void 0),Ie([w("context")],r.prototype,"context",void 0),Ie([w("columnApi")],r.prototype,"columnApi",void 0),Ie([w("gridApi")],r.prototype,"gridApi",void 0),Ie([w("gridOptionsService")],r.prototype,"gridOptionsService",void 0),Ie([w("expressionService")],r.prototype,"expressionService",void 0),Ie([w("environment")],r.prototype,"environment",void 0),Ie([w("rowRenderer")],r.prototype,"rowRenderer",void 0),Ie([w("templateService")],r.prototype,"templateService",void 0),Ie([w("valueService")],r.prototype,"valueService",void 0),Ie([w("eventService")],r.prototype,"eventService",void 0),Ie([w("columnModel")],r.prototype,"columnModel",void 0),Ie([w("headerNavigationService")],r.prototype,"headerNavigationService",void 0),Ie([w("navigationService")],r.prototype,"navigationService",void 0),Ie([w("columnAnimationService")],r.prototype,"columnAnimationService",void 0),Ie([rt("rangeService")],r.prototype,"rangeService",void 0),Ie([w("focusService")],r.prototype,"focusService",void 0),Ie([rt("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),Ie([w("popupService")],r.prototype,"popupService",void 0),Ie([w("valueFormatterService")],r.prototype,"valueFormatterService",void 0),Ie([w("stylingService")],r.prototype,"stylingService",void 0),Ie([w("columnHoverService")],r.prototype,"columnHoverService",void 0),Ie([w("userComponentFactory")],r.prototype,"userComponentFactory",void 0),Ie([w("userComponentRegistry")],r.prototype,"userComponentRegistry",void 0),Ie([w("animationFrameService")],r.prototype,"animationFrameService",void 0),Ie([w("dragService")],r.prototype,"dragService",void 0),Ie([w("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Ie([w("sortController")],r.prototype,"sortController",void 0),Ie([w("filterManager")],r.prototype,"filterManager",void 0),Ie([w("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),Ie([w("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),Ie([w("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),Ie([w("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),Ie([w("selectionService")],r.prototype,"selectionService",void 0),Ie([rt("selectionHandleFactory")],r.prototype,"selectionHandleFactory",void 0),Ie([w("rowCssClassCalculator")],r.prototype,"rowCssClassCalculator",void 0),Ie([w("rowModel")],r.prototype,"rowModel",void 0),Ie([w("ctrlsService")],r.prototype,"ctrlsService",void 0),Ie([w("ctrlsFactory")],r.prototype,"ctrlsFactory",void 0),Ie([w("agStackComponentsRegistry")],r.prototype,"agStackComponentsRegistry",void 0),Ie([w("valueCache")],r.prototype,"valueCache",void 0),Ie([w("rowNodeEventThrottle")],r.prototype,"rowNodeEventThrottle",void 0),Ie([w("localeService")],r.prototype,"localeService",void 0),Ie([w("valueParserService")],r.prototype,"valueParserService",void 0),Ie([w("syncService")],r.prototype,"syncService",void 0),Ie([ne],r.prototype,"postConstruct",null),r=Ie([fe("beans")],r),r}(),U4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),W4=function(r){U4(t,r);function t(e,n,i){var o=r.call(this)||this;return o.cellCtrl=e,o.beans=n,o.column=i,o}return t.prototype.onMouseEvent=function(e,n){if(!Ci(n))switch(e){case"click":this.onCellClicked(n);break;case"mousedown":case"touchstart":this.onMouseDown(n);break;case"dblclick":this.onCellDoubleClicked(n);break;case"mouseout":this.onMouseOut(n);break;case"mouseover":this.onMouseOver(n);break}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}var n=this.beans,i=n.eventService,o=n.rangeService,s=n.gridOptionsService,a=e.ctrlKey||e.metaKey;o&&a&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var l=this.cellCtrl.createEvent(e,_.EVENT_CELL_CLICKED);i.dispatchEvent(l);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){return u.onCellClicked(l)},0);var c=(s.get("singleClickEdit")||u.singleClickEdit)&&!s.get("suppressClickEdit");c&&!(e.shiftKey&&o?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!Cs()||PC("dblclick"))return!1;var e=new Date().getTime(),n=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,n},t.prototype.onCellDoubleClicked=function(e){var n=this.column.getColDef(),i=this.cellCtrl.createEvent(e,_.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),typeof n.onCellDoubleClicked=="function"&&window.setTimeout(function(){return n.onCellDoubleClicked(i)},0);var o=!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit");o&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var n=e.ctrlKey,i=e.metaKey,o=e.shiftKey,s=e.target,a=this,l=a.cellCtrl,u=a.beans,c=u.eventService,d=u.rangeService,f=u.focusService;if(!this.isRightClickInExistingRange(e)){var p=d&&d.getCellRanges().length!=0;if(!o||!p){var h=wi()&&!l.isEditing()&&!qC(s);l.focusCell(h)}if(o&&p&&!f.isCellFocused(l.getCellPosition())){e.preventDefault();var g=f.getFocusedCell();if(g){var v=g.column,m=g.rowIndex,C=g.rowPinned,y=u.rowRenderer.getRowByPosition({rowIndex:m,rowPinned:C}),x=y?.getCellCtrl(v);x?.isEditing()&&x.stopEditing(),f.setFocusedCell({column:v,rowIndex:m,rowPinned:C,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(d){var P=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(P);else{var R=n||i;d.setRangeToCell(P,R)}}c.dispatchEvent(this.cellCtrl.createEvent(e,_.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var n=this.beans.rangeService;if(n){var i=n.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=e.button===2||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(i&&o)return!0}return!1},t.prototype.containsWidget=function(e){return ma(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var n=this.cellCtrl.createEvent(e,_.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var n=this.cellCtrl.createEvent(e,_.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var n=this.cellCtrl.getGui(),i=n.contains(e.target),o=n.contains(e.relatedTarget);return i&&o},t.prototype.destroy=function(){},t}(yO),z4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$4=function(r){z4(t,r);function t(e,n,i,o,s){var a=r.call(this)||this;return a.cellCtrl=e,a.beans=n,a.rowNode=o,a.rowCtrl=s,a}return t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var n=e.key;switch(n){case B.ENTER:this.onEnterKeyDown(e);break;case B.F2:this.onF2KeyDown(e);break;case B.ESCAPE:this.onEscapeKeyDown(e);break;case B.TAB:this.onTabKeyDown(e);break;case B.BACKSPACE:case B.DELETE:this.onBackspaceOrDeleteKeyDown(n,e);break;case B.DOWN:case B.UP:case B.RIGHT:case B.LEFT:this.onNavigationKeyDown(e,n);break}},t.prototype.onNavigationKeyDown=function(e,n){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,n,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var n=this.beans.rangeService.extendLatestRangeInDirection(e);n&&this.beans.navigationService.ensureCellVisible(n)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,n){var i=this,o=i.cellCtrl,s=i.beans,a=i.rowNode,l=s.gridOptionsService,u=s.rangeService,c=s.eventService;o.isEditing()||(c.dispatchEvent({type:_.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),UA(e,l.get("enableCellEditingOnBackspace"))?u&&l.get("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&a.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(e,n),c.dispatchEvent({type:_.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){var n=e.shiftKey?B.UP:B.DOWN;this.beans.navigationService.navigateToNextCell(null,n,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(B.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(B.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){var n=e.target,i=n!==this.eGui;if(!(i||this.cellCtrl.isEditing())){var o=e.key;o===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var n=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&n.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!n.get("suppressRowDeselection")){var s=this.beans.gridOptionsService.get("groupSelectsFiltered"),a=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});i===void 0&&a===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Q),K4=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Y4=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q4=function(r){K4(t,r);function t(e,n,i){var o=r.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=e,o.column=n,o.eCell=i,o}return t.prototype.postConstruct=function(){var e=this.getGui();e.appendChild(Ht("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(n){n.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var n=this,i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var a=JSON.stringify(n.rowNode.data);e.dataTransfer.setData("application/json",a),e.dataTransfer.setData("text/plain",a)}catch{}};if(i){var s={rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};i(s)}else o()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},Y4([ne],t.prototype,"postConstruct",null),t}(ke),X4=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Q4=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Z4="ag-column-first",J4="ag-column-last",jh=function(){function r(){}return r.getHeaderClassesFromColDef=function(t,e,n,i){return Oe(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,i)},r.getToolPanelClassesFromColDef=function(t,e,n,i){return Oe(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,i)},r.refreshFirstAndLastStyles=function(t,e,n){t.addOrRemoveCssClass(Z4,n.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass(J4,n.isColumnAtEdge(e,"last"))},r.getClassParams=function(t,e,n,i){return{colDef:t,column:n,columnGroup:i,api:e.api,columnApi:e.columnApi,context:e.context}},r.getColumnClassesFromCollDef=function(t,e,n,i,o){if(Oe(t))return[];var s;if(typeof t=="function"){var a=this.getClassParams(e,n,i,o);s=t(a)}else s=t;return typeof s=="string"?[s]:Array.isArray(s)?Q4([],X4(s),!1):[]},r}(),ej=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sh=function(){return Sh=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Sh.apply(this,arguments)},tj="ag-cell",nj="ag-cell-auto-height",rj="ag-cell-normal-height",ij="ag-cell-focus",oj="ag-cell-first-right-pinned",sj="ag-cell-last-left-pinned",aj="ag-cell-not-inline-editing",lj="ag-column-hover",uj="ag-cell-wrap-text",cj=0,Ca=function(r){ej(t,r);function t(e,n,i,o){var s=r.call(this)||this;s.cellRangeFeature=null,s.cellPositionFeature=null,s.cellCustomStyleFeature=null,s.tooltipFeature=null,s.cellMouseListenerFeature=null,s.cellKeyboardListenerFeature=null,s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=e,s.rowNode=n,s.beans=i,s.rowCtrl=o,s.instanceId=e.getId()+"-"+cj++;var a=s.column.getColDef();return s.colIdSanitised=Kt(s.column.getId()),s.beans.gridOptionsService.get("suppressCellFocus")||(s.tabIndex=-1),s.isCellRenderer=a.cellRenderer!=null||a.cellRendererSelector!=null,s.createCellPosition(),s.addFeatures(),s.updateAndFormatValue(!1),s}return t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new V4(this,this.beans),this.addDestroyFunc(function(){var i;(i=e.cellPositionFeature)===null||i===void 0||i.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new B4(this,this.beans),this.addDestroyFunc(function(){var i;(i=e.cellCustomStyleFeature)===null||i===void 0||i.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new W4(this,this.beans,this.column),this.addDestroyFunc(function(){var i;(i=e.cellMouseListenerFeature)===null||i===void 0||i.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new $4(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var i;(i=e.cellKeyboardListenerFeature)===null||i===void 0||i.destroy(),e.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){e.disableTooltipFeature()}));var n=this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection");n&&(this.cellRangeFeature=new k4(this.beans,this),this.addDestroyFunc(function(){var i;(i=e.cellRangeFeature)===null||i===void 0||i.destroy(),e.cellRangeFeature=null}))},t.prototype.enableTooltipFeature=function(){var e=this,n=function(){var o=e.column.getColDef(),s=e.rowNode.data;if(o.tooltipField&&X(s))return Ll(s,o.tooltipField,e.column.isTooltipFieldContainsDots());var a=o.tooltipValueGetter;return a?a({location:"cell",api:e.beans.gridOptionsService.api,columnApi:e.beans.gridOptionsService.columnApi,context:e.beans.gridOptionsService.context,colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},i={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:n,getValueFormatted:function(){return e.valueFormatted}};this.tooltipFeature=new fw(i,this.beans)},t.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},t.prototype.setComp=function(e,n,i,o,s){var a,l,u,c;this.cellComp=e,this.eGui=n,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)===null||a===void 0||a.setComp(n),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(e),(u=this.tooltipFeature)===null||u===void 0||u.setComp(n),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,n),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var n=this;if(this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!e)){var i=e.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=function(u){if(!n.editing&&n.isAlive()){var c=ws(i),d=c.paddingTop,f=c.paddingBottom,p=c.borderBottomWidth,h=c.borderTopWidth,g=d+f+p+h,v=e.offsetHeight,m=v+g;if(u<5){var C=n.beans.gridOptionsService.getDocument(),y=!C||!C.contains(e),x=m==0;if(y||x){n.beans.frameworkOverrides.setTimeout(function(){return s(u+1)},0);return}}var P=Math.max(m,o);n.rowNode.setRowAutoHeight(P,n.column)}},a=function(){return s(0)};a();var l=this.beans.resizeObserverService.observeResize(e,a);this.addDestroyFunc(function(){l(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},t.prototype.getCellAriaRole=function(){var e;return(e=this.column.getColDef().cellAriaRole)!==null&&e!==void 0?e:"gridcell"},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.getIsCellRenderer=function(){return this.isCellRenderer},t.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},t.prototype.showValue=function(e){e===void 0&&(e=!1);var n=this.getValueToDisplay(),i;if(this.isCellRenderer){var o=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(i,n,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){var e=this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight();return e},t.prototype.isIncludeControl=function(e){var n=this.rowNode.rowPinned!=null,i=typeof e=="function",o=n?!1:i||e===!0;return o},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return n||i||o},t.prototype.startEditing=function(e,n,i){var o=this;if(e===void 0&&(e=null),n===void 0&&(n=!1),i===void 0&&(i=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(e,n,i)});return}var s=this.createCellEditorParams(e,n),a=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(a,s),u=l?.popupFromSelector!=null?l.popupFromSelector:!!a.cellEditorPopup,c=l?.popupPositionFromSelector!=null?l.popupPositionFromSelector:a.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c);var d=this.createEvent(i,_.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){e===void 0&&(e=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var n={newValueExists:!1};if(e)return n;var i=this.cellComp.getCellEditor();if(!i)return n;var o=i.isCancelAfterEnd&&i.isCancelAfterEnd();if(o)return n;var s=i.getValue();return{newValue:s,newValueExists:!0}},t.prototype.saveNewValue=function(e,n){if(n===e)return!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,i},t.prototype.stopEditing=function(e){if(e===void 0&&(e=!1),!this.editing)return!1;var n=this.takeValueFromCellEditor(e),i=n.newValue,o=n.newValueExists,s=this.rowNode.getValueFromValueService(this.column),a=!1;return o&&(a=this.saveNewValue(s,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,i,!e&&!!a),a},t.prototype.dispatchEditingStoppedEvent=function(e,n,i){var o=Sh(Sh({},this.createEvent(null,_.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:n,valueChanged:i});this.beans.eventService.dispatchEvent(o)},t.prototype.createCellEditorParams=function(e,n){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:n,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this,n={value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(i){return e.beans.valueService.setValue(e.rowNode,e.column,i)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(i,o,s,a){return e.registerRowDragger(i,o,a)}};return n},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){var n=e.column===this.column;n&&this.refreshCell({})},t.prototype.refreshOrDestroyCell=function(e){var n;this.refreshShouldDestroy()?(n=this.rowCtrl)===null||n===void 0||n.refreshCell(this):this.refreshCell(e)},t.prototype.refreshCell=function(e){var n,i,o;if(!(this.suppressRefreshCell||this.editing)){var s=this.column.getColDef(),a=e!=null&&!!e.newData,l=e!=null&&!!e.suppressFlash||!!s.suppressCellFlash,u=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,c=e&&e.forceRefresh||u||a,d=!!this.cellComp,f=this.updateAndFormatValue(d),p=c||f;if(d){if(p){this.showValue(a);var h=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),g=!l&&!h&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||s.enableCellChangeFlash);g&&this.flashCell(),(n=this.cellCustomStyleFeature)===null||n===void 0||n.applyUserStyles(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}}},t.prototype.stopEditingAndFocus=function(e,n){e===void 0&&(e=!1),n===void 0&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(n)},t.prototype.navigateAfterEdit=function(e){var n=this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit");if(n){var i=e?B.UP:B.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.getCellPosition(),!1)}},t.prototype.flashCell=function(e){var n=e&&e.flashDelay,i=e&&e.fadeDelay;this.animateCell("data-changed",n,i)},t.prototype.animateCell=function(e,n,i){var o=this;if(this.cellComp){var s="ag-cell-".concat(e),a="ag-cell-".concat(e,"-animation"),l=this.beans.gridOptionsService;n||(n=l.get("cellFlashDelay")),X(i)||(i=l.get("cellFadeDelay")),this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(a,!1),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.cellComp.addOrRemoveCssClass(a,!0),o.eGui.style.transition="background-color ".concat(i,"ms"),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.eGui.style.transition="")},i))},n)}},t.prototype.onFlashCells=function(e){if(this.cellComp){var n=this.beans.cellPositionUtils.createId(this.getCellPosition()),i=e.cells[n];i&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var n;return(n=this.callValueFormatter(e))!==null&&n!==void 0?n:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){var n=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(n,this.value)||this.valueFormatted!=i:!0},t.prototype.valuesAreEqual=function(e,n){var i=this.column.getColDef();return i.equals?i.equals(e,n):e===n},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(n,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,n){var i={type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex};return i},t.prototype.processCharacter=function(e){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.processCharacter(e)},t.prototype.onKeyDown=function(e){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.onKeyDown(e)},t.prototype.onMouseEvent=function(e,n){var i;(i=this.cellMouseListenerFeature)===null||i===void 0||i.onMouseEvent(e,n)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;(e=this.tooltipFeature)===null||e===void 0||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&((e=this.cellPositionFeature)===null||e===void 0||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},t.prototype.refreshFirstAndLastStyles=function(){var e=this,n=e.cellComp,i=e.column,o=e.beans;jh.refreshFirstAndLastStyles(n,i,o.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);BC(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return(e=this.cellPositionFeature)===null||e===void 0?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,n){n===void 0&&(n=null),this.cellComp&&(this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,n))},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},t.prototype.focusCell=function(e){e===void 0&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(oj,e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(sj,e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&e?.forceBrowserFocus&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(ij,n),n&&e&&e.forceBrowserFocus){var i=this.cellComp.getFocusableElement();i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!n&&!o&&this.editing&&this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Ji(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(tj,!0),this.cellComp.addOrRemoveCssClass(aj,!0);var e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(nj,e),this.cellComp.addOrRemoveCssClass(rj,!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(lj,e)}},t.prototype.onColDefChanged=function(){var e,n;if(this.cellComp){var i=this.column.isAutoHeight();i!==this.isAutoHeight&&((e=this.rowCtrl)===null||e===void 0||e.refreshCell(this));var o=this.column.isTooltipEnabled();o?(this.disableTooltipFeature(),this.enableTooltipFeature(),(n=this.tooltipFeature)===null||n===void 0||n.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),this.editing||this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}},t.prototype.setWrapText=function(){var e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(uj,e)},t.prototype.dispatchCellContextMenuEvent=function(e){var n=this.column.getColDef(),i=this.createEvent(e,_.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),n.onCellContextMenu&&window.setTimeout(function(){return n.onCellContextMenu(i)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],r.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new fO;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new q4(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,n,i){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,n);return}var s=this.createRowDragComp(e,n,i);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){o.beans.context.destroyBean(s),o.customRowDragComp=null}))},t.prototype.createRowDragComp=function(e,n,i){var o=this,s=this.beans.gridOptionsService.get("pagination"),a=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(a){if(!l){Pe("managed row dragging is only allowed in the Client Side Row Model");return}if(s){Pe("managed row dragging is not possible when doing pagination");return}}var u=new Ch(function(){return o.value},this.rowNode,this.column,e,n,i);return this.beans.context.createBean(u),u},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(Q),dj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fj=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},by=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Fy=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Dr=function(r){return r.Normal="Normal",r.FullWidth="FullWidth",r.FullWidthLoading="FullWidthLoading",r.FullWidthGroup="FullWidthGroup",r.FullWidthDetail="FullWidthDetail",r}(Dr||{}),pj=0,wa=function(r){dj(t,r);function t(e,n,i,o,s){var a=r.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.rowDragComps=[],a.lastMouseDownOnDragger=!1,a.emptyStyle={},a.updateColumnListsPending=!1,a.rowId=null,a.businessKeySanitised=null,a.beans=n,a.gridOptionsService=n.gridOptionsService,a.rowNode=e,a.paginationPage=n.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=o,a.printLayout=s,a.instanceId=e.id+"-"+pj++,a.rowId=Kt(e.id),a.initRowBusinessKey(),a.rowFocused=n.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=n.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.setAnimateFlags(i),a.rowStyles=a.processStylesFromGridOptions(),a.isFullWidth()&&!a.gridOptionsService.get("suppressCellFocus")&&(a.tabIndex=-1),a.addListeners(),a}return t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Kt(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,n,i){var o={rowComp:e,element:n,containerType:i};this.allRowGuis.push(o),i===cn.LEFT?this.leftGui=o:i===cn.RIGHT?this.rightGui=o:i===cn.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){switch(this.allRowGuis=this.allRowGuis.filter(function(n){return n.containerType!==e}),e){case cn.LEFT:this.leftGui=void 0;break;case cn.RIGHT:this.rightGui=void 0;break;case cn.FULL_WIDTH:this.fullWidthGui=void 0;break;case cn.CENTER:this.centerGui=void 0;break}},t.prototype.isCacheable=function(){return this.rowType===Dr.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},t.prototype.setCached=function(e){var n=e?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=n})},t.prototype.initialiseRowComp=function(e){var n=this,i=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=e.rowComp,s=this.getInitialRowClasses(e.containerType);s.forEach(function(a){return o.addOrRemoveCssClass(a,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&yi(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){n.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e){this.rowId=Kt(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var n=this,i=e.containerType,o=this.slideInAnimation[i];o&&(cC(function(){n.onTopChanged()}),this.slideInAnimation[i]=!1);var s=this.fadeInAnimation[i];s&&(cC(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.get("enableRangeSelection")){Pe("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}var n=this.beans.localeService.getLocaleTextFunc(),i=new Ch(function(){return"1 ".concat(n("rowDragRow","row"))},this.rowNode,void 0,e.element,void 0,!0),o=this.createBean(i,this.beans.context);this.rowDragComps.push(o)},t.prototype.setupFullWidth=function(e){var n=this.getPinnedForContainer(e.containerType),i=this.createFullWidthParams(e.element,n);if(!(this.rowType==Dr.FullWidthDetail&&!Le.__assertRegistered(ge.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case Dr.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case Dr.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case Dr.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i);break}e.rowComp.showFullWidth(o)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderer=function(){var e,n;return(n=(e=this.fullWidthGui)===null||e===void 0?void 0:e.rowComp)===null||n===void 0?void 0:n.getFullWidthCellRenderer()},t.prototype.getCellElement=function(e){var n=this.getCellCtrl(e);return n?n.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!e||!this.areAllContainersReady())){var n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(n)}},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&n&&i},t.prototype.setRowType=function(){var e=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),i=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer,a=s&&this.gridOptionsService.isGroupUseEntireRow(o);e?this.rowType=Dr.FullWidthLoading:i?this.rowType=Dr.FullWidthDetail:n?this.rowType=Dr.FullWidth:a?this.rowType=Dr.FullWidthGroup:this.rowType=Dr.Normal},t.prototype.updateColumnLists=function(e,n){var i=this;if(e===void 0&&(e=!1),n===void 0&&(n=!1),!this.isFullWidth()){var o=e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){i.active&&i.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,n,i){var o=this;i===void 0&&(i=null);var s={list:[],map:{}},a=function(l,u){s.list.push(u),s.map[l]=u};return n.forEach(function(l){var u=l.getInstanceId(),c=e.map[u];c||(c=new Ca(l,o.rowNode,o.beans,o)),a(u,c)}),e.list.forEach(function(l){var u=s.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,i);if(c){a(l.getColumn().getInstanceId(),l);return}l.destroy()}}),s},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var n=this;this.allRowGuis.forEach(function(i){var o=n.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(o,e)})},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case cn.LEFT:return this.leftCellCtrls.list;case cn.RIGHT:return this.rightCellCtrls.list;case cn.FULL_WIDTH:return[];case cn.CENTER:return this.centerCellCtrls.list;default:var n=e;throw new Error("Unhandled case: ".concat(n))}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var i=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var o=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,n){var i=!0,o=!1,s=e.getColumn();if(s.getPinned()!=n)return i;var a=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition()),u=a||l;if(u){var c=e.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),f=d.indexOf(c)>=0;return f?o:i}return i},t.prototype.getDomOrder=function(){var e=this.gridOptionsService.get("ensureDomOrder");return e||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var n=this,i=function(){e.rowComp.setDomOrder(n.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)},t.prototype.setAnimateFlags=function(e){if(!(this.isSticky()||!e)){var n=X(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=o}}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==Dr.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,n=function(u,c){if(!u)return!0;var d=u.rowComp.getFullWidthCellRenderer();if(!d||!d.refresh)return!1;var f=e.createFullWidthParams(u.element,c),p=d.refresh(f);return p},i=n(this.fullWidthGui,null),o=n(this.centerGui,null),s=n(this.leftGui,"left"),a=n(this.rightGui,"right"),l=i&&o&&s&&a;return l},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,ze.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,ze.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,ze.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,ze.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,ze.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,_.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,_.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,_.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,_.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,_.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(n,_.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(n,_.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,_.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(n,_.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addDestroyFunc(function(){e.destroyBeans(e.rowDragComps,e.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){var i=e.gridOptionsService.get("rowDragEntireRow");if(i){e.allRowGuis.forEach(function(o){e.addRowDraggerToRow(o)});return}e.destroyBeans(e.rowDragComps,e.beans.context),e.rowDragComps=[]}),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,ze.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,ze.EVENT_CELL_CHANGED,function(n){e.getAllCellCtrls().forEach(function(i){return i.onCellChanged(n)})})},t.prototype.onRowNodeDataChanged=function(e){var n=this,i=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(i){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.allRowGuis.forEach(function(s){n.setRowCompRowId(s.rowComp),n.updateRowBusinessKey(),n.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(n){var i=e===vs.Above,o=e===vs.Below;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&n),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!n),yi(i.element,e&&n)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:Ji(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var n=this.allRowGuis.find(function(u){return u.element.contains(e.target)}),i=n?n.element:null,o=i===e.target;if(o){var s=this.rowNode,a=this.beans.focusService.getFocusedCell(),l={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column};this.beans.navigationService.navigateToNextCell(e,e.key,l,!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!(e.defaultPrevented||Ci(e))){var n=this.allRowGuis.find(function(a){return a.element.contains(e.target)}),i=n?n.element:null,o=i===e.target,s=null;o||(s=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&o||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var n,i=this.rowNode,o=e?this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)===null||n===void 0?void 0:n.element;s&&(s.classList.toggle("ag-full-width-focus",o),o&&s.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,n){var i={list:[],map:{}};return e.list.forEach(function(o){o!==n&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},t.prototype.onMouseEvent=function(e,n){switch(e){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}},t.prototype.createRowEvent=function(e,n){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:n}},t.prototype.createRowEventWithSource=function(e,n){var i=this.createRowEvent(e,n);return i.source=this,i},t.prototype.onRowDblClick=function(e){if(!Ci(e)){var n=this.createRowEventWithSource(_.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(n)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=ma(e.target,"ag-row-drag",3),!!this.isFullWidth()){var n=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){var n=Ci(e)||this.lastMouseDownOnDragger;if(!n){var i=this.createRowEventWithSource(_.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);var o=e.ctrlKey||e.metaKey,s=e.shiftKey,a=this.gridOptionsService.get("groupSelectsChildren");if(!(a&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),u=!this.gridOptionsService.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:c});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:s,event:e,source:c})}}}},t.prototype.setupDetailRowAutoHeight=function(e){var n=this;if(this.rowType===Dr.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var i=function(){var s=e.clientHeight;if(s!=null&&s>0){var a=function(){n.rowNode.setRowHeight(s),n.beans.clientSideRowModel?n.beans.clientSideRowModel.onRowHeightChanged():n.beans.serverSideRowModel&&n.beans.serverSideRowModel.onRowHeightChanged()};n.beans.frameworkOverrides.setTimeout(a,0)}},o=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(o),i()}},t.prototype.createFullWidthParams=function(e,n){var i=this,o={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,a,l,u){return i.addFullWidthRowDragging(s,a,l,u)}};return o},t.prototype.addFullWidthRowDragging=function(e,n,i,o){if(i===void 0&&(i=""),!!this.isFullWidth()){var s=new Ch(function(){return i},this.rowNode,void 0,e,n,o);this.createManagedBean(s,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var n="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(n,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",n)}))},t.prototype.stopEditing=function(e){var n,i;if(e===void 0&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var a=!1;try{for(var l=fj(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(e);s&&!e&&!a&&d&&(a=!0)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}if(a){var f=this.createRowEvent(_.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(f)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var n=e?this.createRowEvent(_.EVENT_ROW_EDITING_STARTED):this.createRowEvent(_.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)},t.prototype.startRowEditing=function(e,n,i){if(e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(s,a){var l=a===n;return l?a.startEditing(e,l,i):a.startEditing(null,l,i),s?!0:a.isEditing()},!1);o&&this.setEditingRow(!0)}},t.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var e=Fy(Fy(Fy([],by(this.centerCellCtrls.list),!1),by(this.leftCellCtrls.list),!1),by(this.rightCellCtrls.list),!1);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(function(i){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(n){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!0)})},function(n){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!1)})})},t.prototype.setStylesFromGridOptions=function(e,n){var i=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,function(o){return o.rowComp.setUserStyles(i.rowStyles)})},t.prototype.getPinnedForContainer=function(e){var n=e===cn.LEFT?"left":e===cn.RIGHT?"right":null;return n},t.prototype.getInitialRowClasses=function(e){var n=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var n=this.gridOptionsService.getCallback("getRowStyle"),i;if(n){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=n(o)}return i||e?Object.assign({},e,i):this.emptyStyle},t.prototype.onRowSelected=function(e){var n=this,i=!!this.rowNode.isSelected();this.forEachGui(e,function(o){o.rowComp.addOrRemoveCssClass("ag-row-selected",i),Hl(o.element,i?!0:void 0);var s=n.createAriaLabel();Ro(o.element,s??"")})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!(e&&this.gridOptionsService.get("suppressRowDeselection"))){var n=this.beans.localeService.getLocaleTextFunc(),i=n(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."));return i}},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var n=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return n.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return n.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,ze.EVENT_MOUSE_ENTER,function(){!n.beans.dragService.isDragging()&&!n.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),n.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,ze.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover"),n.rowNode.setHovered(!1)}))},t.prototype.roundRowTopToBounds=function(e){var n=this.beans.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(i.top,!0)-100,s=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(o,e),s)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,n){e?n(e):this.allRowGuis.forEach(n)},t.prototype.onRowHeightChanged=function(e){if(this.rowNode.rowHeight!=null){var n=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),s=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=s?"".concat(Math.min(i,s)-2,"px"):void 0;this.forEachGui(e,function(l){l.element.style.height="".concat(n,"px"),a&&l.element.style.setProperty("--ag-line-height",a)})}},t.prototype.addEventListener=function(e,n){r.prototype.addEventListener.call(this,e,n)},t.prototype.removeEventListener=function(e,n){r.prototype.removeEventListener.call(this,e,n)},t.prototype.destroyFirstPass=function(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var e=this.createRowEvent(_.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),r.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(!this.isSticky()){var e=this.rowNode.rowTop!=null;if(e){var n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var e=function(n){return n.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var n=this;this.forEachGui(e,function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},t.prototype.onCellFocused=function(){this.onCellFocusChanged()},t.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,n){if(n===void 0&&(n=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return e;var i=this.beans.paginationProxy.getPixelOffset(),o=n?1:-1;return e+i*o},t.prototype.setRowTop=function(e){if(!this.printLayout&&X(e)){var n=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()||this.rowNode.sticky,o=i?n:this.beans.rowContainerHeightService.getRealPixelPosition(n),s="".concat(o,"px");this.setRowTopStyle(s)}},t.prototype.getInitialRowTop=function(e){var n=this.gridOptionsService.get("suppressRowTransform");return n?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){var n=this.gridOptionsService.get("suppressRowTransform");return n?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{var i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(i);n=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return n+"px"},t.prototype.setRowTopStyle=function(e){var n=this.gridOptionsService.get("suppressRowTransform");this.allRowGuis.forEach(function(i){return n?i.rowComp.setTop(e):i.rowComp.setTransform("translateY(".concat(e,")"))})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var n=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==e&&(n=i)}),n!=null||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n},t.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var n=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,s=i+this.rowNode.rowIndex+1;this.forEachGui(e,function(a){a.rowComp.setRowIndex(n),a.rowComp.addOrRemoveCssClass("ag-row-even",o),a.rowComp.addOrRemoveCssClass("ag-row-odd",!o),HC(a.element,s)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(Q),hj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sr=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gj=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},vj=function(r){hj(t,r);function t(e){var n=r.call(this)||this;return n.element=e,n}return t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",n=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,n)},t.prototype.addMouseListeners=function(){var e=this,n=PC("touchstart")?"touchstart":"mousedown",i=["dblclick","contextmenu","mouseover","mouseout","click",n];i.forEach(function(o){var s=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,s)})},t.prototype.processMouseEvent=function(e,n){if(!(!this.mouseEventService.isEventFromThisGrid(n)||Ci(n))){var i=this.getRowForEvent(n),o=this.mouseEventService.getRenderedCellForEvent(n);e==="contextmenu"?this.handleContextMenuMouseEvent(n,null,i,o):(o&&o.onMouseEvent(e,n),i&&i.onMouseEvent(e,n))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(Cs()){var n=new Or(this.element),i=function(o){var s=e.getRowForEvent(o.touchEvent),a=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(null,o.touchEvent,s,a)};this.addManagedListener(n,Or.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return n.destroy()})}},t.prototype.getRowForEvent=function(e){for(var n=e.target;n;){var i=this.gridOptionsService.getDomData(n,wa.DOM_DATA_KEY_ROW_CTRL);if(i)return i;n=n.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,n,i,o){var s=i?i.getRowNode():null,a=o?o.getColumn():null,l=null;if(a){var u=e||n;o.dispatchCellContextMenuEvent(u),l=this.valueService.getValue(a,s)}var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,n,s,a,l,d)},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:dh(this.gridOptionsService,e,Ca.DOM_DATA_KEY_CELL_CTRL),rowCtrl:dh(this.gridOptionsService,e,wa.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,n){var i=this.getControlsForEventTarget(n.target),o=i.cellCtrl,s=i.rowCtrl;n.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,n):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,n))},t.prototype.processCellKeyboardEvent=function(e,n,i){var o=e.getRowNode(),s=e.getColumn(),a=e.isEditing(),l=!gh(this.gridOptionsService,i,o,s,a);if(l&&n==="keydown"){var u=!a&&this.navigationService.handlePageScrollingKey(i);u||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),kh(i)&&e.processCharacter(i)}if(n==="keydown"){var c=e.createEvent(i,_.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,n,i){var o=e.getRowNode(),s=this.focusService.getFocusedCell(),a=s&&s.column,l=!gh(this.gridOptionsService,i,o,a,!1);if(l){var u=i.key;if(n==="keydown")switch(u){case B.PAGE_HOME:case B.PAGE_END:case B.PAGE_UP:case B.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case B.UP:case B.DOWN:e.onKeyboardNavigate(i);break;case B.TAB:e.onTabKeyDown(i);break}}if(n==="keydown"){var c=e.createRowEvent(_.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(c)}},t.prototype.doGridOperations=function(e,n){if(!(!e.ctrlKey&&!e.metaKey)&&!n&&this.mouseEventService.isEventFromThisGrid(e)){var i=jA(e);if(i===B.A)return this.onCtrlAndA(e);if(i===B.C)return this.onCtrlAndC(e);if(i===B.D)return this.onCtrlAndD(e);if(i===B.V)return this.onCtrlAndV(e);if(i===B.X)return this.onCtrlAndX(e);if(i===B.Y)return this.onCtrlAndY();if(i===B.Z)return this.onCtrlAndZ(e)}},t.prototype.onCtrlAndA=function(e){var n=this,i=n.pinnedRowModel,o=n.paginationProxy,s=n.rangeService;if(s&&o.isRowsToRender()){var a=gj([i.isEmpty("top"),i.isEmpty("bottom")],2),l=a[0],u=a[1],c=l?null:"top",d=void 0,f=void 0;u?(d=null,f=this.paginationProxy.getRowCount()-1):(d="bottom",f=i.getPinnedBottomRowData().length-1);var p=this.columnModel.getAllDisplayedColumns();if(lr(p))return;s.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:f,rowEndPinned:d,columnStart:p[0],columnEnd:ut(p)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))){var n=this.getControlsForEventTarget(e.target),i=n.cellCtrl,o=n.rowCtrl;i?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))){var n=this.getControlsForEventTarget(e.target),i=n.cellCtrl,o=n.rowCtrl;i?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var n=this.getControlsForEventTarget(e.target),i=n.cellCtrl,o=n.rowCtrl;i?.isEditing()||o?.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Sr([w("mouseEventService")],t.prototype,"mouseEventService",void 0),Sr([w("valueService")],t.prototype,"valueService",void 0),Sr([rt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Sr([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Sr([w("navigationService")],t.prototype,"navigationService",void 0),Sr([w("focusService")],t.prototype,"focusService",void 0),Sr([w("undoRedoService")],t.prototype,"undoRedoService",void 0),Sr([w("columnModel")],t.prototype,"columnModel",void 0),Sr([w("paginationProxy")],t.prototype,"paginationProxy",void 0),Sr([w("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Sr([rt("rangeService")],t.prototype,"rangeService",void 0),Sr([rt("clipboardService")],t.prototype,"clipboardService",void 0),Sr([ne],t.prototype,"postConstruct",null),t}(Q),mj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tR=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},nR=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},yj=function(r){mj(t,r);function t(e){var n=r.call(this)||this;return n.centerContainerCtrl=e,n}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,_.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){e.checkViewportAndScrolls()})},t.prototype.listenForResize=function(){var e=this,n=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(n),this.gridBodyCtrl.registerBodyViewportResizeListener(n)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),n=xa(e);if(!(isNaN(n)||n<=50)){var i=this.getPinnedColumnsOverflowingViewport(n-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");if(i.length){if(o){var s={columns:i,viewportWidth:n};i=o(s)}this.columnModel.setColumnsPinned(i,null,"viewportSizeFeature")}}},t.prototype.getPinnedColumnsOverflowingViewport=function(e){var n=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),o=n+i;if(o<e)return[];for(var s=nR([],tR(this.columnModel.getDisplayedLeftColumns()),!1),a=nR([],tR(this.columnModel.getDisplayedRightColumns()),!1),l=0,u=0,c=0,d=[],f=o-c-e;(u<s.length||l<a.length)&&f>0;){if(l<a.length){var p=a[l++];f-=p.getActualWidth(),d.push(p)}if(u<s.length&&f>0){var p=s[u++];f-=p.getActualWidth(),d.push(p)}}return d},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),n=od(e);if(this.bodyHeight!==n){this.bodyHeight=n;var i={type:_.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),n=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,n)},yc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),yc([w("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),yc([w("columnModel")],t.prototype,"columnModel",void 0),yc([w("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),yc([ne],t.prototype,"postConstruct",null),t}(Q),Cj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wj=function(r){Cj(t,r);function t(e){var n=r.call(this)||this;return n.element=e,n}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,_.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),n=e>0;it(this.element,n),qr(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},rR([w("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),rR([ne],t.prototype,"postConstruct",null),t}(Q),_j=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),iR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sj=function(r){_j(t,r);function t(e){var n=r.call(this)||this;return n.element=e,n}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,_.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),n=e>0;it(this.element,n),qr(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},iR([w("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),iR([ne],t.prototype,"postConstruct",null),t}(Q),Ej=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),oR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CO=function(r){Ej(t,r);function t(e,n){var i=r.call(this)||this;return i.eContainer=e,i.eViewport=n,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,_.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),n=e!=null?"".concat(e,"px"):"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)},oR([w("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),oR([ne],t.prototype,"postConstruct",null),t}(Q),xj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Iy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Dj=function(r){xj(t,r);function t(e){var n=r.call(this)||this;return n.eContainer=e,n}return t.prototype.postConstruct=function(){var e=this;if(!Oe(this.rangeService)){this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(i){var o=i.currentValue;if(o){e.enableFeature();return}e.disableFeature()}),this.addDestroyFunc(function(){return e.disableFeature()});var n=this.gridOptionsService.get("enableRangeSelection");n&&this.enableFeature()}},t.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},t.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},Iy([rt("rangeService")],t.prototype,"rangeService",void 0),Iy([w("dragService")],t.prototype,"dragService",void 0),Iy([ne],t.prototype,"postConstruct",null),t}(Q),Tj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Py=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pw=function(r){Tj(t,r);function t(e,n){n===void 0&&(n=!1);var i=r.call(this)||this;return i.callback=e,i.addSpacer=n,i}return t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,_.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,_.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,_.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,_.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),s=e.getDisplayedColumnsRightWidth(),a;if(n)a=i+o+s;else if(a=i,this.addSpacer){var l=this.gridOptionsService.get("enableRtl")?o:s;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(a+=this.gridOptionsService.getScrollbarWidth())}this.callback(a)},Py([w("columnModel")],t.prototype,"columnModel",void 0),Py([w("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Py([ne],t.prototype,"postConstruct",null),t}(Q),Rj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rs=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hp=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Bp=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Y=function(r){return r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r.TOP_LEFT="topLeft",r.TOP_RIGHT="topRight",r.TOP_CENTER="topCenter",r.TOP_FULL_WIDTH="topFullWidth",r.STICKY_TOP_LEFT="stickyTopLeft",r.STICKY_TOP_RIGHT="stickyTopRight",r.STICKY_TOP_CENTER="stickyTopCenter",r.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",r.BOTTOM_LEFT="bottomLeft",r.BOTTOM_RIGHT="bottomRight",r.BOTTOM_CENTER="bottomCenter",r.BOTTOM_FULL_WIDTH="bottomFullWidth",r}(Y||{}),cn=function(r){return r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r}(cn||{});function Aj(r){switch(r){case Y.CENTER:case Y.TOP_CENTER:case Y.STICKY_TOP_CENTER:case Y.BOTTOM_CENTER:return cn.CENTER;case Y.LEFT:case Y.TOP_LEFT:case Y.STICKY_TOP_LEFT:case Y.BOTTOM_LEFT:return cn.LEFT;case Y.RIGHT:case Y.TOP_RIGHT:case Y.STICKY_TOP_RIGHT:case Y.BOTTOM_RIGHT:return cn.RIGHT;case Y.FULL_WIDTH:case Y.TOP_FULL_WIDTH:case Y.STICKY_TOP_FULL_WIDTH:case Y.BOTTOM_FULL_WIDTH:return cn.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var Oj=ps([[Y.CENTER,"ag-center-cols-container"],[Y.LEFT,"ag-pinned-left-cols-container"],[Y.RIGHT,"ag-pinned-right-cols-container"],[Y.FULL_WIDTH,"ag-full-width-container"],[Y.TOP_CENTER,"ag-floating-top-container"],[Y.TOP_LEFT,"ag-pinned-left-floating-top"],[Y.TOP_RIGHT,"ag-pinned-right-floating-top"],[Y.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Y.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Y.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Y.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Y.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Y.BOTTOM_CENTER,"ag-floating-bottom-container"],[Y.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Y.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Y.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),bj=ps([[Y.CENTER,"ag-center-cols-viewport"],[Y.TOP_CENTER,"ag-floating-top-viewport"],[Y.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Y.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),wO=function(r){Rj(t,r);function t(e){var n=r.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=e,n.isFullWithContainer=n.name===Y.TOP_FULL_WIDTH||n.name===Y.STICKY_TOP_FULL_WIDTH||n.name===Y.BOTTOM_FULL_WIDTH||n.name===Y.FULL_WIDTH,n}return t.getRowContainerCssClasses=function(e){var n=Oj.get(e),i=bj.get(e);return{container:n,viewport:i}},t.getPinned=function(e){switch(e){case Y.BOTTOM_LEFT:case Y.TOP_LEFT:case Y.STICKY_TOP_LEFT:case Y.LEFT:return"left";case Y.BOTTOM_RIGHT:case Y.TOP_RIGHT:case Y.STICKY_TOP_RIGHT:case Y.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([Y.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new yj(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case Y.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Y.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Y.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Y.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Y.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Y.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Y.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Y.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Y.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Y.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Y.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Y.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},t.prototype.forContainers=function(e,n){e.indexOf(this.name)>=0&&n()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,n,i){var o=this;this.comp=e,this.eContainer=n,this.eViewport=i,this.createManagedBean(new vj(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var s=[Y.TOP_CENTER,Y.TOP_LEFT,Y.TOP_RIGHT],a=[Y.STICKY_TOP_CENTER,Y.STICKY_TOP_LEFT,Y.STICKY_TOP_RIGHT],l=[Y.BOTTOM_CENTER,Y.BOTTOM_LEFT,Y.BOTTOM_RIGHT],u=[Y.CENTER,Y.LEFT,Y.RIGHT],c=Bp(Bp(Bp(Bp([],Hp(s),!1),Hp(l),!1),Hp(u),!1),Hp(a),!1),d=[Y.CENTER,Y.LEFT,Y.RIGHT,Y.FULL_WIDTH],f=[Y.CENTER,Y.TOP_CENTER,Y.STICKY_TOP_CENTER,Y.BOTTOM_CENTER],p=[Y.LEFT,Y.BOTTOM_LEFT,Y.TOP_LEFT,Y.STICKY_TOP_LEFT],h=[Y.RIGHT,Y.BOTTOM_RIGHT,Y.TOP_RIGHT,Y.STICKY_TOP_RIGHT];this.forContainers(p,function(){o.pinnedWidthFeature=o.createManagedBean(new wj(o.eContainer)),o.addManagedListener(o.eventService,_.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(h,function(){o.pinnedWidthFeature=o.createManagedBean(new Sj(o.eContainer)),o.addManagedListener(o.eventService,_.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new CO(o.eContainer,o.name===Y.CENTER?i:void 0))}),this.forContainers(c,function(){return o.createManagedBean(new Dj(o.eContainer))}),this.forContainers(f,function(){return o.createManagedBean(new pw(function(g){return o.comp.setContainerWidth("".concat(g,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_ROWS_CHANGED,function(n){return e.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this,n=[Y.STICKY_TOP_CENTER,Y.STICKY_TOP_LEFT,Y.STICKY_TOP_RIGHT,Y.STICKY_TOP_FULL_WIDTH],i=n.indexOf(this.name)>=0;if(i){this.comp.setDomOrder(!0);return}var o=function(){var s=e.gridOptionsService.get("ensureDomOrder"),a=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(s||a)};this.addManagedPropertyListener("domLayout",o),o()},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([Y.TOP_CENTER,Y.STICKY_TOP_CENTER,Y.BOTTOM_CENTER],function(){var n=function(){return e.eViewport.scrollLeft=0};e.addManagedListener(e.eViewport,"scroll",n)})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([Y.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([Y.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,n=function(i){e.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",n,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",n)})},t.prototype.onHorizontalViewportChanged=function(e){e===void 0&&(e=!1);var n=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,i,e)},t.prototype.getCenterWidth=function(){return xa(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return Jc(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var n=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return n()})},t.prototype.isViewportVisible=function(){return fr(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return Jc(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowHorizontalScroll");return e||NA(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX(".concat(e,"px)")},t.prototype.getHScrollPosition=function(){var e={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return e},t.prototype.setCenterViewportScrollLeft=function(e){ed(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){var e=t.getPinned(this.name);return!e||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())},t.prototype.onDisplayedRowsChanged=function(e){var n=this;if(e===void 0&&(e=!1),this.visible){var i=this.gridOptionsService.isDomLayout("print"),o=this.gridOptionsService.get("embedFullWidthRows"),s=o||i,a=function(u){var c=u.isFullWidth(),d=n.isFullWithContainer?!s&&c:s||!c;return d},l=this.getRowCtrls().filter(a);this.comp.setRowCtrls(l,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},t.prototype.getRowCtrls=function(){switch(this.name){case Y.TOP_CENTER:case Y.TOP_LEFT:case Y.TOP_RIGHT:case Y.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Y.STICKY_TOP_CENTER:case Y.STICKY_TOP_LEFT:case Y.STICKY_TOP_RIGHT:case Y.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Y.BOTTOM_CENTER:case Y.BOTTOM_LEFT:case Y.BOTTOM_RIGHT:case Y.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},rs([w("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),rs([w("dragService")],t.prototype,"dragService",void 0),rs([w("ctrlsService")],t.prototype,"ctrlsService",void 0),rs([w("columnModel")],t.prototype,"columnModel",void 0),rs([w("resizeObserverService")],t.prototype,"resizeObserverService",void 0),rs([w("animationFrameService")],t.prototype,"animationFrameService",void 0),rs([w("rowRenderer")],t.prototype,"rowRenderer",void 0),rs([ne],t.prototype,"postConstruct",null),t}(Q),Fj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),wo=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ij=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`.concat(Y.TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`).concat(Y.TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`).concat(Y.TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`).concat(Y.TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`).concat(Y.LEFT,`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`).concat(Y.CENTER,`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`).concat(Y.RIGHT,`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`).concat(Y.FULL_WIDTH,`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`).concat(Y.STICKY_TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`).concat(Y.STICKY_TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`).concat(Y.STICKY_TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`).concat(Y.STICKY_TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`).concat(Y.BOTTOM_LEFT,`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`).concat(Y.BOTTOM_CENTER,`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`).concat(Y.BOTTOM_RIGHT,`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`).concat(Y.BOTTOM_FULL_WIDTH,`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`),Pj=function(r){Fj(t,r);function t(){return r.call(this,Ij)||this}return t.prototype.init=function(){var e=this,n=function(o,s){var a="".concat(o,"px");s.style.minHeight=a,s.style.height=a},i={setRowAnimationCssOnBodyViewport:function(o,s){return e.setRowAnimationCssOnBodyViewport(o,s)},setColumnCount:function(o){return SA(e.getGui(),o)},setRowCount:function(o){return _A(e.getGui(),o)},setTopHeight:function(o){return n(o,e.eTop)},setBottomHeight:function(o){return n(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setStickyTopHeight:function(o){return e.eStickyTop.style.height=o},setStickyTopTop:function(o){return e.eStickyTop.style.top=o},setStickyTopWidth:function(o){return e.eStickyTop.style.width=o},setColumnMovingCss:function(o,s){return e.addOrRemoveCssClass(o,s)},updateLayoutClasses:function(o,s){var a=[e.eBodyViewport.classList,e.eBody.classList];a.forEach(function(l){l.toggle(nn.AUTO_HEIGHT,s.autoHeight),l.toggle(nn.NORMAL,s.normal),l.toggle(nn.PRINT,s.print)}),e.addOrRemoveCssClass(nn.AUTO_HEIGHT,s.autoHeight),e.addOrRemoveCssClass(nn.NORMAL,s.normal),e.addOrRemoveCssClass(nn.PRINT,s.print)},setAlwaysVerticalScrollClass:function(o,s){return e.eBodyViewport.classList.toggle(mO,s)},registerBodyViewportResizeListener:function(o){var s=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,s){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(a){return a.classList.toggle(o,s)})},setBodyViewportWidth:function(o){return e.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new A4),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&wA(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,n){var i=this.eBodyViewport.classList;i.toggle(rd.ANIMATION_ON,n),i.toggle(rd.ANIMATION_OFF,!n)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},wo([w("resizeObserverService")],t.prototype,"resizeObserverService",void 0),wo([rt("rangeService")],t.prototype,"rangeService",void 0),wo([oe("eBodyViewport")],t.prototype,"eBodyViewport",void 0),wo([oe("eStickyTop")],t.prototype,"eStickyTop",void 0),wo([oe("eTop")],t.prototype,"eTop",void 0),wo([oe("eBottom")],t.prototype,"eBottom",void 0),wo([oe("gridHeader")],t.prototype,"headerRootComp",void 0),wo([oe("eBody")],t.prototype,"eBody",void 0),wo([ne],t.prototype,"init",null),t}(ke),Mj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),My=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nj=function(r){Mj(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var n={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(n)}},t.prototype.setScrollsVisible=function(e){var n=this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing;if(n){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var i={type:_.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},My([w("ctrlsService")],t.prototype,"ctrlsService",void 0),My([ne],t.prototype,"postConstruct",null),t=My([fe("scrollVisibleService")],t),t}(Q),Lj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),sR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kj=function(r){Lj(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.gridInstanceId=e.gridInstanceSequence.next(),n}e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(n){n[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(n){return dh(this.gridOptionsService,n.target,Ca.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(n){var i=this.isElementInThisGrid(n.target);return i},t.prototype.isElementInThisGrid=function(n){for(var i=n;i;){var o=i[e.GRID_DOM_KEY];if(X(o)){var s=o===this.gridInstanceId;return s}i=i.parentElement}return!1},t.prototype.getCellPositionForEvent=function(n){var i=this.getRenderedCellForEvent(n);return i?i.getCellPosition():null},t.prototype.getNormalisedPosition=function(n){var i=this.gridOptionsService.isDomLayout("normal"),o=n,s,a;if(o.clientX!=null||o.clientY!=null?(s=o.clientX,a=o.clientY):(s=o.x,a=o.y),i){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();s+=c.left,a+=u.top}return{x:s,y:a}};var e;return t.gridInstanceSequence=new jl,t.GRID_DOM_KEY="__ag_grid_instance",sR([w("ctrlsService")],t.prototype,"ctrlsService",void 0),t=e=sR([fe("mouseEventService")],t),t}(Q),Gj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Eh=function(){return Eh=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Eh.apply(this,arguments)},nr=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vj=function(r){Gj(t,r);function t(){var e=r.call(this)||this;return e.onPageDown=dC(e.onPageDown,100),e.onPageUp=dC(e.onPageUp,100),e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e,n){n===void 0&&(n=!1);var i=e.key,o=e.altKey,s=e.ctrlKey||e.metaKey,a=!!this.rangeService&&e.shiftKey,l=this.mouseEventService.getCellPositionForEvent(e),u=!1;switch(i){case B.PAGE_HOME:case B.PAGE_END:!s&&!o&&(this.onHomeOrEndKey(i),u=!0);break;case B.LEFT:case B.RIGHT:case B.UP:case B.DOWN:if(!l)return!1;s&&!o&&!a&&(this.onCtrlUpDownLeftRight(i,l),u=!0);break;case B.PAGE_DOWN:case B.PAGE_UP:!s&&!o&&(u=this.handlePageUpDown(i,l,n));break}return u&&e.preventDefault(),u},t.prototype.handlePageUpDown=function(e,n,i){return i&&(n=this.focusService.getFocusedCell()),n?(e===B.PAGE_UP?this.onPageUp(n):this.onPageDown(n),!0):!1},t.prototype.navigateTo=function(e){var n=e.scrollIndex,i=e.scrollType,o=e.scrollColumn,s=e.focusIndex,a=e.focusColumn;if(X(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),X(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:s,rowPinned:null,column:a};this.rangeService.setRangeToCell(l)}},t.prototype.onPageDown=function(e){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),a=i.top+o,l=this.paginationProxy.getRowIndexAtPixel(a+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)},t.prototype.onPageUp=function(e){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=i.top,a=this.paginationProxy.getRowIndexAtPixel(s+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a,!0):this.navigateToNextPage(e,a,!0)},t.prototype.navigateToNextPage=function(e,n,i){i===void 0&&(i=!1);var o=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(e.rowIndex),c=i?u?.rowHeight-o-l:o-l,d=u?.rowTop+c,f=this.paginationProxy.getRowIndexAtPixel(d+l);if(f===e.rowIndex){var p=i?-1:1;n=f=e.rowIndex+p}var h;i?(h="bottom",f<s&&(f=s),n<s&&(n=s)):(h="top",f>a&&(f=a),n>a&&(n=a)),this.isRowTallerThanView(f)&&(n=f,h="top"),this.navigateTo({scrollIndex:n,scrollType:h,scrollColumn:null,focusIndex:f,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,n,i){var o=this;i===void 0&&(i=!1),this.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column}),setTimeout(function(){var s=o.getNextFocusIndexForAutoHeight(e,i);o.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,n){var i;n===void 0&&(n=!1);for(var o=n?-1:1,s=this.getViewportHeight(),a=this.paginationProxy.getPageLastRow(),l=0,u=e.rowIndex;u>=0&&u<=a;){var c=this.paginationProxy.getRow(u);if(c){var d=(i=c.rowHeight)!==null&&i!==void 0?i:0;if(l+d>s)break;l+=d}u+=o}return Math.max(0,Math.min(u,a))},t.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),n=e.getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth(),o=n.bottom-n.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},t.prototype.isRowTallerThanView=function(e){var n=this.paginationProxy.getRow(e);if(!n)return!1;var i=n.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,n){var i=this.cellNavigationService.getNextCellToFocus(e,n,!0),o=i.rowIndex,s=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:s,focusIndex:o,focusColumn:s})},t.prototype.onHomeOrEndKey=function(e){var n=e===B.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=n?i[0]:ut(i),s=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:o,focusIndex:s,focusColumn:o})},t.prototype.onTabKeyDown=function(e,n){var i=n.shiftKey,o=this.tabToNextCellCommon(e,i,n);if(o){n.preventDefault();return}if(i){var s=e.getRowPosition(),a=s.rowIndex,l=s.rowPinned,u=l?a===0:a===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.get("headerHeight")===0?this.focusService.focusNextGridCoreContainer(!0,!0):(n.preventDefault(),this.focusService.focusPreviousFromFirstCell(n)))}else e instanceof Ca&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&n.preventDefault()},t.prototype.tabToNextCell=function(e,n){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!o&&(o=this.rowRenderer.getRowByPosition(i),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,e,n)},t.prototype.tabToNextCellCommon=function(e,n,i){var o=e.isEditing();if(!o&&e instanceof Ca){var s=e,a=s.getRowCtrl();a&&(o=a.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(e,n,i):l=this.moveToNextEditingCell(e,n,i):l=this.moveToNextCellNotEditing(e,n),l||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,n,i){i===void 0&&(i=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var s=this.findNextCellToFocusOn(o,n,!0);return s==null?!1:(s.startEditing(null,!0,i),s.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,n,i){i===void 0&&(i=null);var o=e.getCellPosition(),s=this.findNextCellToFocusOn(o,n,!0);if(s==null)return!1;var a=s.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(a),c=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;if(l&&e.setFocusOutOnEditor(),!c){var d=e.getRowCtrl();d.stopEditing();var f=s.getRowCtrl();f.startRowEditing(void 0,void 0,i)}return u?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,n){var i=this.columnModel.getAllDisplayedColumns(),o;e instanceof wa?o=Eh(Eh({},e.getRowPosition()),{column:n?i[0]:ut(i)}):o=e.getCellPosition();var s=this.findNextCellToFocusOn(o,n,!1);if(s instanceof Ca)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),n);return X(s)},t.prototype.findNextCellToFocusOn=function(e,n,i){for(var o=e;;){e!==o&&(e=o),n||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,n);var s=this.gridOptionsService.getCallback("tabToNextCell");if(X(s)){var a={backwards:n,editing:i,previousCellPosition:e,nextCellPosition:o||null},l=s(a);X(l)?(l.floating&&(Pe("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(i&&!c){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var f=this.getCellByPosition(o);if(!f){var p=this.rowRenderer.getRowByPosition(o);if(!p||!p.isFullWidth()||i)continue;return p}if(!f.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),f}},t.prototype.isCellEditable=function(e){var n=this.lookupRowNodeForCell(e);return n?e.column.isCellEditable(n):!1},t.prototype.getCellByPosition=function(e){var n=this.rowRenderer.getRowByPosition(e);return n?n.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,n,i,o){for(var s=i,a=!1;s&&(s===i||!this.isValidNavigateCell(s));)this.gridOptionsService.get("enableRtl")?n===B.LEFT&&(s=this.getLastCellOfColSpan(s)):n===B.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(n,s),a=Oe(s);if(a&&e&&e.key===B.UP&&(s={rowIndex:-1,rowPinned:null,column:i.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(X(l)){var u={key:n,previousCellPosition:i,nextCellPosition:s||null,event:e},c=l(u);X(c)?(c.floating&&(Pe("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(s){if(s.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+s.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}var f=this.getNormalisedPosition(s);f?this.focusPosition(f):this.tryToFocusFullWidthRow(s)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var n=this.getCellByPosition(e);return n?(e=n.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,n){n===void 0&&(n=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),a={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(n?ut(i):i[0])};this.focusPosition(a);var l=s!=null?this.rowPositionUtils.before(a,s):!1,u={type:_.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,floating:a.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){var n=this.rowPositionUtils.getRowNode(e);return!!n},t.prototype.getLastCellOfColSpan=function(e){var n=this.getCellByPosition(e);if(!n)return e;var i=n.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:ut(i),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var n=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex),o=n&&i?.sticky;!o&&Oe(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},nr([w("mouseEventService")],t.prototype,"mouseEventService",void 0),nr([w("paginationProxy")],t.prototype,"paginationProxy",void 0),nr([w("focusService")],t.prototype,"focusService",void 0),nr([rt("rangeService")],t.prototype,"rangeService",void 0),nr([w("columnModel")],t.prototype,"columnModel",void 0),nr([w("rowModel")],t.prototype,"rowModel",void 0),nr([w("ctrlsService")],t.prototype,"ctrlsService",void 0),nr([w("rowRenderer")],t.prototype,"rowRenderer",void 0),nr([w("headerNavigationService")],t.prototype,"headerNavigationService",void 0),nr([w("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),nr([w("cellNavigationService")],t.prototype,"cellNavigationService",void 0),nr([w("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),nr([ne],t.prototype,"postConstruct",null),t=nr([fe("navigationService")],t),t}(Q),Hj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bj=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jj=function(r){Hj(t,r);function t(e){var n=r.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=e,n}return t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,n=this.getGui(),i=this.params,o=function(s){gh(e.gridOptionsService,s,i.node,i.column,!0)||i.onKeyDown(s)};this.addManagedListener(n,"keydown",o)},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",Bj([ne],t.prototype,"postConstruct",null),t}(Ta),Uj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wj=function(r){Uj(t,r);function t(e,n,i,o,s){var a=r.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=e,a.column=n.getColumn(),a.rowNode=n.getRowNode(),a.rowCtrl=n.getRowCtrl(),a.eRow=o,a.cellCtrl=n,a.setTemplate('<div comp-id="'.concat(a.getCompId(),'"/>'));var l=a.getGui();a.forceWrapper=n.isForceWrapper(),a.refreshWrapper(!1);var u=function(f,p){p!=null&&p!=""?l.setAttribute(f,p):l.removeAttribute(f)};rn(l,n.getCellAriaRole()),u("col-id",n.getColumnIdSanitised());var c=n.getTabIndex();c!==void 0&&u("tabindex",c.toString());var d={addOrRemoveCssClass:function(f,p){return a.addOrRemoveCssClass(f,p)},setUserStyles:function(f){return ew(l,f)},getFocusableElement:function(){return a.getFocusableElement()},setIncludeSelection:function(f){return a.includeSelection=f},setIncludeRowDrag:function(f){return a.includeRowDrag=f},setIncludeDndSource:function(f){return a.includeDndSource=f},setRenderDetails:function(f,p,h){return a.setRenderDetails(f,p,h)},setEditDetails:function(f,p,h){return a.setEditDetails(f,p,h)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}};return n.setComp(d,a.getGui(),a.eCellWrapper,i,s),a}return t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,n,i){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var s=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),e){var a=i||s,l=a?!1:this.refreshCellRenderer(e);l||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(n)}},t.prototype.setEditDetails=function(e,n,i){e?this.createCellEditorInstance(e,n,i):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var n=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=n||this.forceWrapper,o=i&&this.eCellWrapper==null;o&&(this.eCellWrapper=Cn('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var s=!i&&this.eCellWrapper!=null;s&&(To(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var a=!e&&i,l=a&&this.eCellValue==null;l&&(this.eCellValue=Cn('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var u=!a&&this.eCellValue!=null;u&&(To(this.eCellValue),this.eCellValue=void 0);var c=o||s||l||u;return c&&this.removeControls(),e||n&&this.addControls(),c},t.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,n,i){var o=this,s=this.editorVersion,a=e.newAgStackInstance();if(a){var l=e.params;a.then(function(c){return o.afterCellEditorCreated(s,c,l,n,i)});var u=Oe(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var n=this.getParentOfValue();fn(n);var i=e!=null?Kt(e):null;i!=null&&(n.innerHTML=i)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){var e=this.beans.context;this.cellRenderer=e.destroyBean(this.cellRenderer),To(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),To(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;var n=this.cellRenderer.refresh(e.params);return n===!0||n===void 0},t.prototype.createCellRendererInstance=function(e){var n=this,i=this.beans.gridOptionsService.get("suppressAnimationFrame"),o=!i,s=this.rendererVersion,a=e.componentClass,l=function(){var u=n.rendererVersion!==s||!n.isAlive();if(!u){var c=e.newAgStackInstance(),d=n.afterCellRendererCreated.bind(n,s,a);c&&c.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,n,i){var o=!this.isAlive()||e!==this.rendererVersion;if(o){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=n,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var s=this.getParentOfValue();fn(s),s.appendChild(this.cellRendererGui)}},t.prototype.afterCellEditorCreated=function(e,n,i,o,s){var a=e!==this.editorVersion;if(a){this.beans.context.destroyBean(n);return}var l=n.isCancelBeforeStart&&n.isCancelBeforeStart();if(l){this.beans.context.destroyBean(n),this.cellCtrl.stopEditing(!0);return}if(!n.getGui){console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),this.beans.context.destroyBean(n);return}this.cellEditor=n,this.cellEditorGui=n.getGui();var u=o||n.isPopup!==void 0&&n.isPopup();u?this.addPopupCellEditor(i,s):this.addInCellEditor(),this.refreshEditStyles(!0,u),n.afterGuiAttached&&n.afterGuiAttached()},t.prototype.refreshEditStyles=function(e,n){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!n),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!n),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!n),(i=this.rowCtrl)===null||i===void 0||i.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),n=this.beans.gridOptionsService.getDocument();if(e.contains(n.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var i=this.getParentOfValue();i.appendChild(this.cellEditorGui)}},t.prototype.addPopupCellEditor=function(e,n){var i=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new jj(e));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var a=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),u=n??(o.getPopupPosition?o.getPopupPosition():"over"),c=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},f=a.positionPopupByComponent.bind(a,d),p=this.beans.localeService.getLocaleTextFunc(),h=a.addPopup({modal:l,eChild:s,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:f,ariaLabel:p("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),r.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),n=this.beans.gridOptionsService.getDocument();e.contains(n.activeElement)&&Nh()&&e.focus({preventScroll:!0}),fn(this.getParentOfValue())},t}(ke),zj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$j=function(r){zj(t,r);function t(e,n,i){var o=r.call(this)||this;o.cellComps={},o.beans=n,o.rowCtrl=e,o.setTemplate('<div comp-id="'.concat(o.getCompId(),'" style="').concat(o.getInitialStyle(i),'"/>'));var s=o.getGui(),a=s.style;o.domOrder=o.rowCtrl.getDomOrder(),rn(s,"row");var l=o.rowCtrl.getTabIndex();l!=null&&s.setAttribute("tabindex",l.toString());var u={setDomOrder:function(c){return o.domOrder=c},setCellCtrls:function(c){return o.setCellCtrls(c)},showFullWidth:function(c){return o.showFullWidth(c)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(c,d){return o.addOrRemoveCssClass(c,d)},setUserStyles:function(c){return ew(s,c)},setTop:function(c){return a.top=c},setTransform:function(c){return a.transform=c},setRowIndex:function(c){return s.setAttribute("row-index",c)},setRowId:function(c){return s.setAttribute("row-id",c)},setRowBusinessKey:function(c){return s.setAttribute("row-business-key",c)}};return e.setComp(u,o.getGui(),i),o.addDestroyFunc(function(){e.unsetComp(i)}),o}return t.prototype.getInitialStyle=function(e){var n=this.rowCtrl.getInitialTransform(e),i=this.rowCtrl.getInitialRowTop(e);return n?"transform: ".concat(n):"top: ".concat(i)},t.prototype.showFullWidth=function(e){var n=this,i=function(s){if(n.isAlive()){var a=s.getGui();n.getGui().appendChild(a),n.rowCtrl.setupDetailRowAutoHeight(a),n.setFullWidthRowComp(s)}else n.beans.context.destroyBean(s)},o=e.newAgStackInstance();o&&o.then(i)},t.prototype.setCellCtrls=function(e){var n=this,i=Object.assign({},this.cellComps);e.forEach(function(s){var a=s.getInstanceId(),l=n.cellComps[a];l==null?n.newCellComp(s):i[a]=null});var o=ms(i).filter(function(s){return s!=null});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var n=this;if(this.domOrder){var i=[];e.forEach(function(o){var s=n.cellComps[o.getInstanceId()];s&&i.push(s.getGui())}),JC(this.getGui(),i)}},t.prototype.newCellComp=function(e){var n=new Wj(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=n,this.getGui().appendChild(n.getGui())},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=ms(this.cellComps).filter(function(n){return n!=null});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var n=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){n.fullWidthCellRenderer=n.beans.context.destroyBean(n.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var n=this;e.forEach(function(i){if(i){var o=i.getCtrl().getInstanceId();n.cellComps[o]===i&&(i.detach(),i.destroy(),n.cellComps[o]=null)}})},t}(ke),Kj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),AC=function(){return AC=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},AC.apply(this,arguments)},Cc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function Yj(){var r=ke.elementGettingCreated.getAttribute("name"),t=wO.getRowContainerCssClasses(r),e,n=r===Y.CENTER||r===Y.TOP_CENTER||r===Y.STICKY_TOP_CENTER||r===Y.BOTTOM_CENTER;return n?e='<div class="'.concat(t.viewport,`" ref="eViewport" role="presentation">
                <div class="`).concat(t.container,`" ref="eContainer"></div>
            </div>`):e='<div class="'.concat(t.container,'" ref="eContainer"></div>'),e}var qj=function(r){Kj(t,r);function t(){var e=r.call(this,Yj())||this;return e.rowComps={},e.name=ke.elementGettingCreated.getAttribute("name"),e.type=Aj(e.name),e}return t.prototype.postConstruct=function(){var e=this,n={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){return e.setRowCtrls(o)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}},i=this.createManagedBean(new wO(this.name));i.setComp(n,this.eContainer,this.eViewport)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var n=this,i=AC({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(s){var a=s.getInstanceId(),l=i[a];if(l)n.rowComps[a]=l,delete i[a],n.ensureDomOrder(l.getGui());else{if(!s.getRowNode().displayed)return;var u=new $j(s,n.beans,n.type);n.rowComps[a]=u,n.appendRow(u.getGui())}};e.forEach(o),ms(i).forEach(function(s){n.eContainer.removeChild(s.getGui()),s.destroy()}),rn(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?MA(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(ZC(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},Cc([w("beans")],t.prototype,"beans",void 0),Cc([oe("eViewport")],t.prototype,"eViewport",void 0),Cc([oe("eContainer")],t.prototype,"eContainer",void 0),Cc([ne],t.prototype,"postConstruct",null),Cc([Un],t.prototype,"preDestroy",null),t}(ke),aR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xj=function(){function r(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return r.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var n=t.dragItem.columns;n&&n.forEach(function(i){i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?e.columnsToAggregate.push(i):i.isAllowRowGroup()?e.columnsToGroup.push(i):i.isAllowPivot()&&e.columnsToPivot.push(i)))})}},r.prototype.getIconName=function(){var t=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return t>0?this.pinned?dn.ICON_PINNED:dn.ICON_MOVE:null},r.prototype.onDragLeave=function(t){this.clearColumnsList()},r.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},r.prototype.onDragging=function(t){},r.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},aR([w("columnModel")],r.prototype,"columnModel",void 0),aR([w("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),Qj=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},_a=function(){function r(){}return r.attemptMoveColumns=function(t){var e=t.isFromHeader,n=t.hDirection,i=t.xPosition,o=t.fromEnter,s=t.fakeEvent,a=t.pinned,l=t.gridOptionsService,u=t.columnModel,c=n===dr.Left,d=n===dr.Right,f=t.allMovingColumns;if(e){var p=[];f.forEach(function(G){for(var L,ee=null,de=G.getParent();de!=null&&de.getDisplayedLeafColumns().length===1;)ee=de,de=de.getParent();if(ee!=null){var te=!!(!((L=ee.getColGroupDef())===null||L===void 0)&&L.marryChildren),Ce=te?ee.getProvidedColumnGroup().getLeafColumns():ee.getLeafColumns();Ce.forEach(function(se){p.includes(se)||p.push(se)})}else p.includes(G)||p.push(G)}),f=p}var h=f.slice();u.sortColumnsLikeGridColumns(h);var g=this.calculateValidMoves({movingCols:h,draggingRight:d,xPosition:i,pinned:a,gridOptionsService:l,columnModel:u}),v=this.calculateOldIndex(h,u);if(g.length!==0){var m=g[0],C=v!==null&&!o;if(e&&(C=v!==null),!(C&&!s&&(c&&m>=v||d&&m<=v))){for(var y=u.getAllDisplayedColumns(),x=[],P=null,R=0;R<g.length;R++){var E=g[R],O=u.getProposedColumnOrder(h,E);if(u.doesOrderPassRules(O)){var I=O.filter(function(G){return y.includes(G)});if(P===null)P=I;else if(!Do(I,P))break;var k=this.groupFragCount(O);x.push({move:E,fragCount:k})}}if(x.length!==0)return x.sort(function(G,L){return G.fragCount-L.fragCount}),this.moveColumns(f,x[0].move,"uiColumnMoved",!1,u)}}},r.moveColumns=function(t,e,n,i,o){return o.moveColumns(t,e,n,i),i?null:{columns:t,toIndex:e}},r.calculateOldIndex=function(t,e){var n=e.getAllGridColumns(),i=tA(t.map(function(u){return n.indexOf(u)})),o=i[0],s=ut(i),a=s-o,l=a!==i.length-1;return l?null:o},r.groupFragCount=function(t){function e(s){for(var a=[],l=s.getOriginalParent();l!=null;)a.push(l),l=l.getOriginalParent();return a}for(var n=0,i=function(s){var a,l=e(t[s]),u=e(t[s+1]);a=Qj(l.length>u.length?[l,u]:[u,l],2),l=a[0],u=a[1],l.forEach(function(c){u.indexOf(c)===-1&&n++})},o=0;o<t.length-1;o++)i(o);return n},r.calculateValidMoves=function(t){var e=t.movingCols,n=t.draggingRight,i=t.xPosition,o=t.pinned,s=t.gridOptionsService,a=t.columnModel,l=s.get("suppressMovableColumns")||e.some(function(G){return G.getColDef().suppressMovable});if(l)return[];var u=a.getDisplayedColumns(o),c=a.getAllGridColumns(),d=u.filter(function(G){return Kr(e,G)}),f=u.filter(function(G){return!Kr(e,G)}),p=c.filter(function(G){return!Kr(e,G)}),h=0,g=i;if(n){var v=0;d.forEach(function(G){return v+=G.getActualWidth()}),g-=v}if(g>0){for(var m=0;m<f.length;m++){var C=f[m];if(g-=C.getActualWidth(),g<0)break;h++}n&&h++}var y;if(h>0){var x=f[h-1];y=p.indexOf(x)+1}else y=p.indexOf(f[0]),y===-1&&(y=0);var P=[y],R=function(G,L){return G-L};if(n){for(var E=y+1,O=c.length-1;E<=O;)P.push(E),E++;P.sort(R)}else{for(var E=y,O=c.length-1,I=c[E];E<=O&&u.indexOf(I)<0;)E++,P.push(E),I=c[E];E=y-1;for(var k=0;E>=k;)P.push(E),E--;P.sort(R).reverse()}return P},r.normaliseX=function(t,e,n,i,o){var s=o.getHeaderRowContainerCtrl(e).getViewport();if(n&&(t-=s.getBoundingClientRect().left),i.get("enableRtl")){var a=s.clientWidth;t=a-t}return e==null&&(t+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},r}(),wc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Zj=function(){function r(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!X(t)}return r.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},r.prototype.getIconName=function(){return this.pinned?dn.ICON_PINNED:dn.ICON_MOVE},r.prototype.onDragEnter=function(t){var e=t.dragItem.columns,n=t.dragSource.type===br.ToolPanel;if(n)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var i=t.dragItem.visibleState,o=(e||[]).filter(function(s){return i[s.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},r.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.setColumnsVisible=function(t,e,n){if(n===void 0&&(n="api"),t){var i=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,e,n)}},r.prototype.setColumnsPinned=function(t,e,n){if(n===void 0&&(n="api"),t){var i=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,e,n)}},r.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},r.prototype.onDragging=function(t,e,n,i){var o=this,s;if(t===void 0&&(t=this.lastDraggingEvent),e===void 0&&(e=!1),n===void 0&&(n=!1),i===void 0&&(i=!1),i){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,u=a.toIndex;_a.moveColumns(l,u,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=t,!Oe(t.hDirection)){var c=_a.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(c);var d=this.normaliseDirection(t.hDirection),f=t.dragSource.type,p=((s=t.dragSource.getDragItem().columns)===null||s===void 0?void 0:s.filter(function(g){return g.getColDef().lockPinned?g.getPinned()==o.pinned:!0}))||[],h=_a.attemptMoveColumns({allMovingColumns:p,isFromHeader:f===br.HeaderCell,hDirection:d,xPosition:c,pinned:this.pinned,fromEnter:e,fakeEvent:n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});h&&(this.lastMovedInfo=h)}},r.prototype.normaliseDirection=function(t){if(this.gridOptionsService.get("enableRtl"))switch(t){case dr.Left:return dr.Right;case dr.Right:return dr.Left;default:console.error("AG Grid: Unknown direction ".concat(t))}else return t},r.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(dn.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(dn.ICON_RIGHT,!0))},r.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(dn.ICON_MOVE))},r.prototype.moveInterval=function(){var t;this.intervalCount++,t=10+this.intervalCount*5,t>100&&(t=100);var e=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns,o=i.filter(function(a){return!a.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(dn.ICON_PINNED),this.failedMoveAttempts>7)){var s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}},wc([w("columnModel")],r.prototype,"columnModel",void 0),wc([w("dragAndDropService")],r.prototype,"dragAndDropService",void 0),wc([w("gridOptionsService")],r.prototype,"gridOptionsService",void 0),wc([w("ctrlsService")],r.prototype,"ctrlsService",void 0),wc([ne],r.prototype,"init",null),r}(),Jj=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_c=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eU=function(r){Jj(t,r);function t(e,n){var i=r.call(this)||this;return i.pinned=e,i.eContainer=n,i}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){switch(e.pinned){case"left":e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.leftRowContainerCtrl.getContainerElement()],[n.bottomLeftRowContainerCtrl.getContainerElement()],[n.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.rightRowContainerCtrl.getContainerElement()],[n.bottomRightRowContainerCtrl.getContainerElement()],[n.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.centerRowContainerCtrl.getViewportElement()],[n.bottomCenterRowContainerCtrl.getViewportElement()],[n.topCenterRowContainerCtrl.getViewportElement()]];break}})},t.prototype.isInterestedIn=function(e){return e===br.HeaderCell||e===br.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Zj(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Xj(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===br.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},_c([w("dragAndDropService")],t.prototype,"dragAndDropService",void 0),_c([w("columnModel")],t.prototype,"columnModel",void 0),_c([w("ctrlsService")],t.prototype,"ctrlsService",void 0),_c([ne],t.prototype,"postConstruct",null),_c([ne],t.prototype,"init",null),t}(Q),tU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nU=function(r){tU(t,r);function t(e){var n=r.call(this,t.TEMPLATE,e)||this;return n.headerCompVersion=0,n.column=e.getColumnGroupChild(),n.pinned=e.getPinned(),n}return t.prototype.postConstruct=function(){var e=this,n=this.getGui(),i=function(a,l){l!=null&&l!=""?n.setAttribute(a,l):n.removeAttribute(a)};i("col-id",this.column.getColId());var o={setWidth:function(a){return n.style.width=a},addOrRemoveCssClass:function(a,l){return e.addOrRemoveCssClass(a,l)},setAriaDescription:function(a){return mA(n,a)},setAriaSort:function(a){return a?xA(n,a):DA(n)},setUserCompDetails:function(a){return e.setUserCompDetails(a)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var n=this;this.headerCompVersion++;var i=this.headerCompVersion;e.newAgStackInstance().then(function(o){return n.afterCompCreated(i,o)})},t.prototype.afterCompCreated=function(e,n){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(n);return}this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},t.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,jp([oe("eResize")],t.prototype,"eResize",void 0),jp([oe("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),jp([ne],t.prototype,"postConstruct",null),jp([Un],t.prototype,"destroyHeaderComp",null),t}(cw),rU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ny=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iU=function(r){rU(t,r);function t(e){return r.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,n=this.getGui(),i=function(s,a){return a!=null?n.setAttribute(s,a):n.removeAttribute(s)};n.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(s,a){return e.addOrRemoveCssClass(s,a)},setResizableDisplayed:function(s){return it(e.eResize,s)},setWidth:function(s){return n.style.width=s},setAriaExpanded:function(s){return i("aria-expanded",s)},setUserCompDetails:function(s){return e.setUserCompDetails(s)},getUserCompInstance:function(){return e.headerGroupComp}};this.ctrl.setComp(o,n,this.eResize)},t.prototype.setUserCompDetails=function(e){var n=this;e.newAgStackInstance().then(function(i){return n.afterHeaderCompCreated(i)})},t.prototype.afterHeaderCompCreated=function(e){var n=this,i=function(){return n.destroyBean(e)};if(!this.isAlive()){i();return}var o=this.getGui(),s=e.getGui();o.appendChild(s),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(o)},t.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,Ny([w("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ny([oe("eResize")],t.prototype,"eResize",void 0),Ny([ne],t.prototype,"postConstruct",null),t}(cw),oU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),lR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},An=function(r){return r.COLUMN_GROUP="group",r.COLUMN="column",r.FLOATING_FILTER="filter",r}(An||{}),sU=function(r){oU(t,r);function t(e){var n=r.call(this)||this;return n.headerComps={},n.ctrl=e,n.setTemplate('<div class="'.concat(n.ctrl.getHeaderRowClass(),'" role="row"></div>')),n}return t.prototype.init=function(){var e=this;this.getGui().style.transform=this.ctrl.getTransform(),HC(this.getGui(),this.ctrl.getAriaRowIndex());var n={setHeight:function(i){return e.getGui().style.height=i},setTop:function(i){return e.getGui().style.top=i},setHeaderCtrls:function(i,o){return e.setHeaderCtrls(i,o)},setWidth:function(i){return e.getGui().style.width=i}};this.ctrl.setComp(n)},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,n){var i=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach(function(l){var u=l.getInstanceId(),c=o[u];delete o[u],c==null&&(c=i.createHeaderComp(l),i.getGui().appendChild(c.getGui())),i.headerComps[u]=c}),Rn(o,function(l,u){i.getGui().removeChild(u.getGui()),i.destroyBean(u)}),n){var s=ms(this.headerComps);s.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var a=s.map(function(l){return l.getGui()});JC(this.getGui(),a)}}},t.prototype.createHeaderComp=function(e){var n;switch(this.ctrl.getType()){case An.COLUMN_GROUP:n=new iU(e);break;case An.FLOATING_FILTER:n=new v4(e);break;default:n=new nU(e);break}return this.createBean(n),n.setParentComponent(this),n},lR([ne],t.prototype,"init",null),lR([Un],t.prototype,"destroyHeaderCtrls",null),t}(ke),aU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lU=0,Uh=function(r){aU(t,r);function t(e,n){var i=r.call(this)||this;return i.resizeToggleTimeout=0,i.resizeMultiplier=1,i.resizeFeature=null,i.lastFocusEvent=null,i.dragSource=null,i.columnGroupChild=e,i.parentRowCtrl=n,i.instanceId=e.getUniqueId()+"-"+lU++,i}return t.prototype.shouldStopEventPropagation=function(e){var n=this.focusService.getFocusedHeader(),i=n.headerRowIndex,o=n.column;return BA(this.gridOptionsService,e,i,o)},t.prototype.getWrapperHasFocus=function(){var e=this.gridOptionsService.getDocument(),n=e.activeElement;return n===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged()},t.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},t.prototype.refreshFirstAndLastStyles=function(){var e=this,n=e.comp,i=e.column,o=e.beans;jh.refreshFirstAndLastStyles(n,i,o.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this,n=e.beans,i=e.column,o=n.columnModel.getAriaColumnIndex(i);BC(this.eGui,o)},t.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},t.prototype.onGuiKeyDown=function(e){var n,i=this.gridOptionsService.getDocument(),o=i.activeElement,s=e.key===B.LEFT||e.key===B.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),!(o!==this.eGui||!e.shiftKey&&!e.altKey)&&((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!!s)){var a=e.key===B.LEFT!==this.gridOptionsService.get("enableRtl"),l=dr[a?"Left":"Right"];e.altKey?(this.isResizing=!0,this.resizeMultiplier+=1,this.resizeHeader(l,e.shiftKey),(n=this.resizeFeature)===null||n===void 0||n.toggleColumnResizing(!0)):this.moveHeader(l)}},t.prototype.onGuiKeyUp=function(){var e=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var n;(n=e.resizeFeature)===null||n===void 0||n.toggleColumnResizing(!1)},150))},t.prototype.handleKeyDown=function(e){var n=this.getWrapperHasFocus();switch(e.key){case B.PAGE_DOWN:case B.PAGE_UP:case B.PAGE_HOME:case B.PAGE_END:n&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,n=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,n,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Sc([w("focusService")],t.prototype,"focusService",void 0),Sc([w("beans")],t.prototype,"beans",void 0),Sc([w("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Sc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Sc([w("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(Q),uU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cU=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hw=function(r){uU(t,r);function t(e,n,i,o){var s=r.call(this)||this;return s.columnOrGroup=e,s.eCell=n,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=o,s.beans=i,s}return t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?ut(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,yt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),n=X(this.columnOrGroup.getOldLeft()),i=this.beans.columnAnimationService.isActive()&&n&&!e;i?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,n=this.getColumnOrGroup(),i=n.getLeft(),o=n.getOldLeft(),s=this.modifyLeftForPrintLayout(n,o),a=this.modifyLeftForPrintLayout(n,i);this.setLeft(s),this.actualLeft=a,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===a&&e.setLeft(a)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),n=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,n),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,n){var i=this.beans.gridOptionsService.isDomLayout("print");if(!i||e.getPinned()==="left")return n;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){var s=this.beans.columnModel.getBodyContainerWidth();return o+s+n}return o+n},t.prototype.setLeft=function(e){if(X(e)&&(this.eCell.style.left="".concat(e,"px")),this.columnOrGroup instanceof yt)this.columnOrGroup;else{var n=this.columnOrGroup,i=n.getLeafColumns();if(!i.length)return;i.length>1&&EA(this.ariaEl,i.length),i[0]}},cU([ne],t.prototype,"postConstruct",null),t}(Q),dU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),uR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gw=function(r){dU(t,r);function t(e,n){var i=r.call(this)||this;return i.columns=e,i.element=n,i}return t.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},uR([w("columnHoverService")],t.prototype,"columnHoverService",void 0),uR([ne],t.prototype,"postConstruct",null),t}(Q),fU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ly=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pU=function(r){fU(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.iconCreated=!1,i.column=e,i}return t.prototype.setComp=function(e,n,i,o){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o,this.setGui(n),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,yt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.resizeHeader=function(){},t.prototype.moveHeader=function(){},t.prototype.setupActive=function(){var e=this.column.getColDef(),n=!!e.filter,i=!!e.floatingFilter;this.active=n&&i},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var e=Ht("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new _s(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();Ro(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){var n=this.gridOptionsService.getDocument(),i=n.activeElement,o=i===this.eGui;if(!o){var s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),s.focus();return}var a=this.findNextColumnWithFloatingFilter(e.shiftKey);a&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:a},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var n=this.beans.columnModel,i=this.column;do if(i=e?n.getDisplayedColBefore(i):n.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();switch(e.key){case B.UP:case B.DOWN:n||e.preventDefault();case B.LEFT:case B.RIGHT:if(n)return;e.stopPropagation();case B.ENTER:n&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case B.ESCAPE:n||this.eGui.focus()}},t.prototype.onFocusIn=function(e){var n=this.eGui.contains(e.relatedTarget);if(!n){var i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&ma(e.relatedTarget,"ag-floating-filter");if(i&&o&&e.target===this.eGui){var s=this.lastFocusEvent,a=!!(s&&s.key===B.TAB);if(s&&a){var l=s.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new gw([this.column],this.eGui));var n=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,_.EVENT_COLUMN_HOVER_CHANGED,n),n()},t.prototype.setupLeft=function(){var e=new hw(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){var e=this.column.getColDef();this.suppressFilterButton=e.floatingFilterComponentParams?!!e.floatingFilterComponentParams.suppressFilterButton:!1},t.prototype.setupUserComp=function(){var e=this;if(this.active){var n=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});n&&this.setCompDetails(n)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var n=function(i){var o=e.comp.getFloatingFilterComp();o&&o.then(function(s){if(s){var a=e.filterManager.getCurrentFloatingFilterParentModel(e.column);s.onParentModelChanged(a,i)}})};this.destroySyncListener=this.addManagedListener(this.column,yt.EVENT_FILTER_CHANGED,n),this.filterManager.isFilterActive(this.column)&&n(null)}},t.prototype.setupWidth=function(){var e=this,n=function(){var i="".concat(e.column.getActualWidth(),"px");e.comp.setWidth(i)};this.addManagedListener(this.column,yt.EVENT_WIDTH_CHANGED,n),n()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,yt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},t.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},t.prototype.onColDefChanged=function(){var e=this,n,i,o=this.active;this.setupActive();var s=!o&&this.active;o&&!this.active&&((n=this.destroySyncListener)===null||n===void 0||n.call(this),(i=this.destroyFilterChangedListener)===null||i===void 0||i.call(this));var a=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!a?this.updateCompDetails(a,s):l.then(function(u){var c;!u||e.filterManager.areFilterCompsDifferent((c=e.userCompDetails)!==null&&c!==void 0?c:null,a)?e.updateCompDetails(a,s):e.updateFloatingFilterParams(a)})},t.prototype.updateCompDetails=function(e,n){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())},t.prototype.updateFloatingFilterParams=function(e){var n;if(e){var i=e.params;(n=this.comp.getFloatingFilterComp())===null||n===void 0||n.then(function(o){o?.onParamsUpdated&&typeof o.onParamsUpdated=="function"&&o.onParamsUpdated(i)})}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},Ly([w("filterManager")],t.prototype,"filterManager",void 0),Ly([w("columnHoverService")],t.prototype,"columnHoverService",void 0),Ly([w("menuFactory")],t.prototype,"menuFactory",void 0),t}(Uh),hU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ec=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gU=function(r){hU(t,r);function t(e,n,i,o,s){var a=r.call(this)||this;return a.pinned=e,a.column=n,a.eResize=i,a.comp=o,a.ctrl=s,a}return t.prototype.postConstruct=function(){var e=this,n=[],i,o,s=function(){if(it(e.eResize,i),!!i){var u=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(n.push(u),o){var c=e.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){e.columnModel.autoSizeColumn(e.column,c,"uiColumnResized")};e.eResize.addEventListener("dblclick",d);var f=new Or(e.eResize);f.addEventListener(Or.EVENT_DOUBLE_TAP,d),n.push(function(){e.eResize.removeEventListener("dblclick",d),f.removeEventListener(Or.EVENT_DOUBLE_TAP,d),f.destroy()})}}},a=function(){n.forEach(function(u){return u()}),n.length=0},l=function(){var u=e.column.isResizable(),c=!e.gridOptionsService.get("suppressAutoSize")&&!e.column.getColDef().suppressAutoSize,d=u!==i||c!==o;d&&(i=u,o=c,a(),s())};l(),this.addDestroyFunc(a),this.ctrl.addRefreshFunction(l)},t.prototype.onResizing=function(e,n){var i=this,o=i.column,s=i.lastResizeAmount,a=i.resizeStartWidth,l=this.normaliseResizeAmount(n),u=a+l,c=[{key:o,newWidth:u}];if(this.column.getPinned()){var d=this.pinnedWidthService.getPinnedLeftWidth(),f=this.pinnedWidthService.getPinnedRightWidth(),p=xa(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+f+(l-s)>p)return}this.lastResizeAmount=l,this.columnModel.setColumnWidths(c,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.normaliseResizeAmount=function(e){var n=e,i=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?i&&(n*=-1):o&&(n*=-1),n},Ec([w("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Ec([w("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Ec([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Ec([w("columnModel")],t.prototype,"columnModel",void 0),Ec([ne],t.prototype,"postConstruct",null),t}(Q),vU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mU=function(r){vU(t,r);function t(e){var n=r.call(this)||this;return n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=e,n}return t.prototype.onSpaceKeyDown=function(e){var n=this.cbSelectAll,i=this.gridOptionsService.getDocument();n.isDisplayed()&&!n.getGui().contains(i.activeElement)&&(e.preventDefault(),n.setValue(!n.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Vh),this.cbSelectAll.addCssClass("ag-header-select-all"),rn(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,_.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),Ih(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},t.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue(),i=n?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(o," (").concat(i,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(i,")")),this.headerCellCtrl.refreshAriaDescription()},t.prototype.checkSelectionType=function(e){var n=this.gridOptionsService.get("rowSelection")==="multiple";return n?!0:(console.warn("AG Grid: ".concat(e," is only available if using 'multiple' rowSelection.")),!1)},t.prototype.checkRightRowModelType=function(e){var n=this.rowModel.getType(),i=n==="clientSide"||n==="serverSide";return i?!0:(console.warn("AG Grid: ".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(n,".")),!1)},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),n=this.isFilteredOnly(),i=this.isCurrentPageOnly(),o="uiSelectAll";i?o="uiSelectAllCurrentPage":n&&(o="uiSelectAllFiltered");var s={source:o,justFiltered:n,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){var n=e,i={column:this.column,colDef:this.column.getColDef(),columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api,context:this.gridOptionsService.context};e=n(i)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},t.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},t.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},cR([w("rowModel")],t.prototype,"rowModel",void 0),cR([w("selectionService")],t.prototype,"selectionService",void 0),t}(Q),yU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ua=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CU=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wU=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},_U=function(r){yU(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=e,i}return t.prototype.setComp=function(e,n,i,o){var s=this;this.comp=e,this.setGui(n),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new gU(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new gw([this.column],n)),this.createManagedBean(new hw(this.column,n,this.beans)),this.createManagedBean(new _s(n,{shouldStopEventPropagation:function(a){return s.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,yt.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.resizeHeader=function(e,n){var i,o;if(this.column.isResizable()){var s=this.column.getPinned(),a=this.gridOptionsService.get("enableRtl"),l=this.column.getActualWidth(),u=(i=this.column.getMinWidth())!==null&&i!==void 0?i:0,c=(o=this.column.getMaxWidth())!==null&&o!==void 0?o:Number.MAX_SAFE_INTEGER,d=e===dr.Left;s&&a!==(s==="right")&&(d=!d);var f=(d?-1:1)*this.resizeMultiplier,p=Math.min(Math.max(l+f,u),c);if(s){var h=this.pinnedWidthService.getPinnedLeftWidth(),g=this.pinnedWidthService.getPinnedRightWidth(),v=xa(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(h+g+f>v)return}this.columnModel.setColumnWidths([{key:this.column,newWidth:p}],n,!0)}},t.prototype.moveHeader=function(e){var n=this,i=n.eGui,o=n.column,s=n.columnModel,a=n.gridOptionsService,l=n.ctrlsService,u=this.getPinned(),c=i.getBoundingClientRect().left,d=o.getActualWidth(),f=a.get("enableRtl"),p=e===dr.Left!==f,h=_a.normaliseX(p?c-20:c+d+20,u,!0,a,l);_a.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:e,xPosition:h,pinned:u,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:s}),l.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,e)},t.prototype.createParams=function(){var e=this,n={column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,showColumnMenu:function(i){e.gridApi.showColumnMenuAfterButtonClick(e.column,i)},progressSort:function(i){e.sortController.progressSort(e.column,!!i,"uiColumnSorted")},setSort:function(i,o){e.sortController.setSortForColumn(e.column,i,!!o,"uiColumnSorted")},api:this.gridApi,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()};return n},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new mU(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e),e.key===B.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===B.ENTER&&this.onEnterKeyDown(e)},t.prototype.onEnterKeyDown=function(e){var n=this.comp.getUserCompInstance();if(n){if(e.ctrlKey||e.metaKey)this.menuEnabled&&n.showMenu&&(e.preventDefault(),n.showMenu());else if(this.sortable){var i=e.shiftKey;this.sortController.progressSort(this.column,i,"uiColumnSorted")}}},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var n=this.getRowIndex();this.focusService.setFocusedHeader(n,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,n={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=e.column.getColDef().headerTooltip;return o}},i=this.createManagedBean(new fw(n,this.beans));i.setComp(this.eGui),this.refreshFunctions.push(function(){return i.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,n=function(){var i=e.column.getColDef(),o=jh.getHeaderClassesFromColDef(i,e.gridOptionsService,e.column,null),s=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach(function(a){s.has(a)?s.delete(a):e.comp.addOrRemoveCssClass(a,!0)}),s.forEach(function(a){return e.comp.addOrRemoveCssClass(a,!1)})};this.refreshFunctions.push(n),n()},t.prototype.setDragSource=function(e){var n=this;if(this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)){var i=this,o=i.column,s=i.columnModel,a=i.displayName,l=i.dragAndDropService,u=i.gridOptionsService,c=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),d=this.dragSource={type:br.HeaderCell,eElement:e,getDefaultIconName:function(){return c?dn.ICON_HIDE:dn.ICON_NOT_ALLOWED},getDragItem:function(){return n.createDragItem(o)},dragItemName:a,onDragStarted:function(){c=!u.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(f){var p;if(c){var h=((p=f?.columns)===null||p===void 0?void 0:p.filter(function(g){return!g.getColDef().lockVisible}))||[];s.setColumnsVisible(h,!0,"uiColumnMoved")}},onGridExit:function(f){var p;if(c){var h=((p=f?.columns)===null||p===void 0?void 0:p.filter(function(g){return!g.getColDef().lockVisible}))||[];s.setColumnsVisible(h,!1,"uiColumnMoved")}}};l.addDragSource(d,!0)}},t.prototype.createDragItem=function(e){var n={};return n[e.getId()]=e.isVisible(),{columns:[e],visibleState:n}},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails(),n=this.comp.getUserCompInstance(),i=n!=null&&this.userCompDetails.componentClass==e.componentClass,o=i?this.attemptHeaderCompRefresh(e.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var n=this.comp.getUserCompInstance();if(!n||!n.refresh)return!1;var i=n.refresh(e);return i},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef(),n=this.gridOptionsService.get("suppressMovableColumns"),i=!n&&!e.suppressMovable&&!e.lockPosition;return!!i||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,n=function(){var i=e.column.getActualWidth();e.comp.setWidth("".concat(i,"px"))};this.addManagedListener(this.column,yt.EVENT_WIDTH_CHANGED,n),n()},t.prototype.setupMovingCss=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,yt.EVENT_MOVING_CHANGED,n),n()},t.prototype.setupMenuClass=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,yt.EVENT_MENU_VISIBLE_CHANGED,n),n()},t.prototype.setupSortableClass=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};n(),this.addRefreshFunction(n),this.addManagedListener(this.eventService,yt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupFilterClass=function(){var e=this,n=function(){var i=e.column.isFilterActive();e.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),e.refreshAria()};this.addManagedListener(this.column,yt.EVENT_FILTER_ACTIVE_CHANGED,n),n()},t.prototype.setupWrapTextClass=function(){var e=this,n=function(){var i=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};n(),this.addRefreshFunction(n)},t.prototype.onDisplayedColumnsChanged=function(){r.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,n=e.eGui,i=e.column,o=e.comp,s=e.columnModel,a=e.gridOptionsService;if(!i.isSpanHeaderHeight()){n.style.removeProperty("top"),n.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),o.addOrRemoveCssClass("ag-header-span-total",!1);return}var l=this.getColumnGroupPaddingInfo(),u=l.numberOfParents,c=l.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",u>0);var d=s.getColumnHeaderRowHeight();if(u===0){o.addOrRemoveCssClass("ag-header-span-total",!1),n.style.setProperty("top","0px"),n.style.setProperty("height","".concat(d,"px"));return}o.addOrRemoveCssClass("ag-header-span-total",c);var f=a.get("pivotMode"),p=f?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight(),h=u*p;n.style.setProperty("top","".concat(-h,"px")),n.style.setProperty("height","".concat(d+h,"px"))},t.prototype.getColumnGroupPaddingInfo=function(){var e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var n=e.getPaddingLevel()+1,i=!0;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:n,isSpanningTotal:i}},t.prototype.setupAutoHeight=function(e){var n=this,i=function(c){if(n.isAlive()){var d=ws(n.getGui()),f=d.paddingTop,p=d.paddingBottom,h=d.borderBottomWidth,g=d.borderTopWidth,v=f+p+h+g,m=e.offsetHeight,C=m+v;if(c<5){var y=n.beans.gridOptionsService.getDocument(),x=!y||!y.contains(e),P=C==0;if(x||P){n.beans.frameworkOverrides.setTimeout(function(){return i(c+1)},0);return}}n.columnModel.setColumnHeaderHeight(n.column,C)}},o=!1,s,a=function(){var c=n.column.isAutoHeaderHeight();c&&!o&&l(),!c&&o&&u()},l=function(){o=!0,i(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=n.resizeObserverService.observeResize(e,function(){return i(0)})},u=function(){o=!1,s&&s(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};a(),this.addDestroyFunc(function(){return u()}),this.addManagedListener(this.column,yt.EVENT_WIDTH_CHANGED,function(){return o&&i(0)}),this.addManagedListener(this.eventService,yt.EVENT_SORT_CHANGED,function(){o&&n.beans.frameworkOverrides.setTimeout(function(){return i(0)})}),this.addRefreshFunction(a)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),n=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(pA(n)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.refreshAriaFiltered=function(){var e=this.localeService.getLocaleTextFunc(),n=this.column.isFilterActive();n?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)},t.prototype.setAriaDescriptionProperty=function(e,n){n!=null?this.ariaDescriptionProperties.set(e,n):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e,n,i=null;try{for(var o=CU(this.ariaDescriptionProperties),s=o.next();!s.done;s=o.next()){var a=wU(s.value,2),l=a[0],u=a[1];l==="filter"?i="".concat(u," ").concat(i||""):i="".concat(i||""," ").concat(u)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}this.comp.setAriaDescription(i??void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFiltered(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,n=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,_.EVENT_COLUMN_HOVER_CHANGED,n),n()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,n=function(i){return e.setActiveHeader(i.type==="mouseenter")};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},ua([w("columnModel")],t.prototype,"columnModel",void 0),ua([w("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),ua([w("columnHoverService")],t.prototype,"columnHoverService",void 0),ua([w("sortController")],t.prototype,"sortController",void 0),ua([w("menuFactory")],t.prototype,"menuFactory",void 0),ua([w("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ua([w("gridApi")],t.prototype,"gridApi",void 0),t}(Uh),SU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Up=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EU=function(r){SU(t,r);function t(e,n,i,o){var s=r.call(this)||this;return s.eResize=n,s.comp=e,s.pinned=i,s.columnGroup=o,s}return t.prototype.postConstruct=function(){var e=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsService.get("suppressAutoSize")){var i=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],s=e.columnGroup.getDisplayedLeafColumns();s.forEach(function(a){a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")})}},t.prototype.onResizeStart=function(e){var n=this.getInitialValues(e);this.storeLocalValues(n),this.toggleColumnResizing(!0)},t.prototype.onResizing=function(e,n,i){i===void 0&&(i="uiColumnResized");var o=this.normaliseDragChange(n),s=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(s,i,e)},t.prototype.getInitialValues=function(e){var n=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(n),o=this.getSizeRatiosOfColumns(n,i),s={columnsToResize:n,resizeStartWidth:i,resizeRatios:o},a=null;if(e&&(a=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),a){var l=a.getDisplayedLeafColumns(),u=s.groupAfterColumns=l.filter(function(d){return d.isResizable()}),c=s.groupAfterStartWidth=this.getInitialSizeOfColumns(u);s.groupAfterRatios=this.getSizeRatiosOfColumns(u,c)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s},t.prototype.storeLocalValues=function(e){var n=e.columnsToResize,i=e.resizeStartWidth,o=e.resizeRatios,s=e.groupAfterColumns,a=e.groupAfterStartWidth,l=e.groupAfterRatios;this.resizeCols=n,this.resizeStartWidth=i,this.resizeRatios=o,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=a,this.resizeTakeFromRatios=l},t.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},t.prototype.resizeLeafColumnsToFit=function(e){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();n>i.resizeStartWidth&&this.resizeColumns(i,n,e,!0)},t.prototype.resizeColumnsFromLocalValues=function(e,n,i){var o,s,a;if(i===void 0&&(i=!0),!(!this.resizeCols||!this.resizeRatios)){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(o=this.resizeTakeFromCols)!==null&&o!==void 0?o:void 0,groupAfterStartWidth:(s=this.resizeTakeFromStartWidth)!==null&&s!==void 0?s:void 0,groupAfterRatios:(a=this.resizeTakeFromRatios)!==null&&a!==void 0?a:void 0};this.resizeColumns(l,e,n,i)}},t.prototype.resizeColumns=function(e,n,i,o){o===void 0&&(o=!0);var s=e.columnsToResize,a=e.resizeStartWidth,l=e.resizeRatios,u=e.groupAfterColumns,c=e.groupAfterStartWidth,d=e.groupAfterRatios,f=[];if(f.push({columns:s,ratios:l,width:n}),u){var p=n-a;f.push({columns:u,ratios:d,width:c-p})}this.columnModel.resizeColumnSets({resizeSets:f,finished:o,source:i}),o&&this.toggleColumnResizing(!1)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.getColumnsToResize=function(){var e=this.columnGroup.getDisplayedLeafColumns();return e.filter(function(n){return n.isResizable()})},t.prototype.getInitialSizeOfColumns=function(e){return e.reduce(function(n,i){return n+i.getActualWidth()},0)},t.prototype.getSizeRatiosOfColumns=function(e,n){return e.map(function(i){return i.getActualWidth()/n})},t.prototype.normaliseDragChange=function(e){var n=e;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(n*=-1):this.pinned==="right"&&(n*=-1),n},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.clearLocalValues()},Up([w("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Up([w("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Up([w("columnModel")],t.prototype,"columnModel",void 0),Up([ne],t.prototype,"postConstruct",null),t}(Q),xU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),DU=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TU=function(r){xU(t,r);function t(e,n){var i=r.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=n,i.comp=e,i}return t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,tn.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var n=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener("widthChanged",n),i.addEventListener("visibleChanged",n),e.removeChildListenersFuncs.push(function(){i.removeEventListener("widthChanged",n),i.removeEventListener("visibleChanged",n)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",e===0)},DU([ne],t.prototype,"postConstruct",null),t}(Q),RU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),xh=function(){return xh=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},xh.apply(this,arguments)},AU=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OU=function(r){RU(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.onSuppressColMoveChange=function(){if(i.isSuppressMoving())i.removeDragSource();else if(!i.dragSource){var o=i.getGui();i.setDragSource(o)}},i.column=e,i}return t.prototype.setComp=function(e,n,i){this.comp=e,this.setGui(n),this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new gw(s,n)),this.createManagedBean(new hw(this.column,n,this.beans)),this.createManagedBean(new TU(e,this.column)),this.resizeFeature=this.createManagedBean(new EU(e,i,o,this.column)),this.createManagedBean(new _s(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(_.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},t.prototype.resizeHeader=function(e,n){if(this.resizeFeature){var i=e===dr.Left,o=(i?-1:1)*this.resizeMultiplier,s=this.resizeFeature.getInitialValues(n);this.resizeFeature.resizeColumns(s,s.resizeStartWidth+o,"uiColumnResized",!0)}},t.prototype.moveHeader=function(e){var n=this,i=n.eGui,o=n.column,s=n.columnModel,a=n.gridOptionsService,l=n.ctrlsService,u=a.get("enableRtl"),c=e===dr.Left,d=this.getPinned(),f=i.getBoundingClientRect(),p=f.left,h=f.width,g=_a.normaliseX(c!==u?p-20:p+h+20,d,!0,a,l),v=o.getGroupId(),m=this.focusService.getFocusedHeader();_a.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:g,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:s});var C=o.getDisplayedLeafColumns(),y=c?C[0]:ut(C);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(y,"auto"),!this.isAlive()&&m&&this.restoreFocus(v,o,m)},t.prototype.restoreFocus=function(e,n,i){var o=n.getLeafColumns();if(o.length){var s=o[0].getParent();if(s){var a=this.findGroupWidthId(s,e);a&&this.focusService.focusHeaderPosition({headerPosition:xh(xh({},i),{column:a})})}}},t.prototype.findGroupWidthId=function(e,n){for(;e;){if(e.getGroupId()===n)return e;e=e.getParent()}return null},t.prototype.resizeLeafColumnsToFit=function(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,n={displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){e.columnModel.setColumnGroupOpened(e.column.getProvidedColumnGroup(),o,"gridInitializing")},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},i=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(i)},t.prototype.setupTooltip=function(){var e=this,n=this.column.getColGroupDef(),i={getColumn:function(){return e.column},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return n&&n.headerTooltip}};n&&(i.getColDef=function(){return n});var o=this.createManagedBean(new fw(i,this.beans));o.setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,Nt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,Nt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.column;this.expandable=e.isExpandable();var n=e.isExpanded();this.expandable?this.comp.setAriaExpanded(n?"true":"false"):this.comp.setAriaExpanded(void 0)},t.prototype.getColId=function(){return this.column.getUniqueId()},t.prototype.addClasses=function(){var e=this,n=this.column.getColGroupDef(),i=jh.getHeaderClassesFromColDef(n,this.gridOptionsService,null,this.column);if(this.column.isPadding()){i.push("ag-header-group-cell-no-group");var o=this.column.getLeafColumns();o.every(function(s){return s.isSpanHeaderHeight()})&&i.push("ag-header-span-height")}else i.push("ag-header-group-cell-with-group");i.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!0)})},t.prototype.setupMovingCss=function(){var e=this,n=this.column.getProvidedColumnGroup(),i=n.getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};i.forEach(function(s){e.addManagedListener(s,yt.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();if(!(!this.expandable||!n)&&e.key===B.ENTER){var i=this.column,o=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var n=this;if(!this.isSuppressMoving()&&(this.removeDragSource(),!!e)){var i=this,o=i.column,s=i.columnModel,a=i.displayName,l=i.gridOptionsService,u=i.dragAndDropService,c=o.getProvidedColumnGroup().getLeafColumns(),d=!l.get("suppressDragLeaveHidesColumns"),f=this.dragSource={type:br.HeaderCell,eElement:e,getDefaultIconName:function(){return d?dn.ICON_HIDE:dn.ICON_NOT_ALLOWED},dragItemName:a,getDragItem:function(){return n.getDragItemForGroup(o)},onDragStarted:function(){d=!l.get("suppressDragLeaveHidesColumns"),c.forEach(function(p){return p.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return c.forEach(function(p){return p.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(p){var h;if(d){var g=((h=p?.columns)===null||h===void 0?void 0:h.filter(function(v){return!v.getColDef().lockVisible}))||[];s.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(p){var h;if(d){var g=((h=p?.columns)===null||h===void 0?void 0:h.filter(function(v){return!v.getColDef().lockVisible}))||[];s.setColumnsVisible(g,!1,"uiColumnMoved")}}};u.addDragSource(f,!0)}},t.prototype.getDragItemForGroup=function(e){var n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(function(s){return i[s.getId()]=s.isVisible()});var o=[];return this.columnModel.getAllDisplayedColumns().forEach(function(s){n.indexOf(s)>=0&&(o.push(s),Tr(n,s))}),n.forEach(function(s){return o.push(s)}),{columns:o,visibleState:i}},t.prototype.isSuppressMoving=function(){var e=!1;this.column.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)});var n=e||this.gridOptionsService.get("suppressMovableColumns");return n},AU([w("columnModel")],t.prototype,"columnModel",void 0),t}(Uh),bU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dR=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FU=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},IU=0,ky=function(r){bU(t,r);function t(e,n,i){var o=r.call(this)||this;o.instanceId=IU++,o.rowIndex=e,o.pinned=n,o.type=i;var s=i==An.COLUMN_GROUP?"ag-header-row-column-group":i==An.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row ".concat(s),o}return t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,n){n===void 0&&(n=!0),this.comp=e,n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.getTransform=function(){if(wi())return"translateZ(0)"},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_VIRTUAL_COLUMNS_CHANGED,function(n){return e.onVirtualColumnsChanged(n.afterScroll)}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(n){return e.isEnsureDomOrder=n.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){if(this.headerCellCtrls)return va(this.headerCellCtrls).find(function(n){return n.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))},t.prototype.getWidthForRow=function(){if(this.isPrintLayout){var e=this.pinned!=null;return e?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),n=e.topOffset,i=e.rowHeight;this.comp.setTop(n+"px"),this.comp.setHeight(i+"px")},t.prototype.getTopAndHeight=function(){var e=this.columnModel.getHeaderRowCount(),n=[],i=0;this.filterManager.hasFloatingFilters()&&(e++,i=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=1+i,l=e-a,u=0;u<l;u++)n.push(o);n.push(s);for(var u=0;u<i;u++)n.push(this.columnModel.getFloatingFiltersHeight());for(var c=0,u=0;u<this.rowIndex;u++)c+=n[u];var d=n[this.rowIndex];return{topOffset:c,rowHeight:d}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(e){e===void 0&&(e=!1);var n=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(n,i,e)},t.prototype.getHeaderCtrls=function(){var e,n,i,o,s=this,a=this.headerCellCtrls;this.headerCellCtrls=new Map;var l=this.getColumnsInViewport();try{for(var u=dR(l),c=u.next();!c.done;c=u.next()){var d=c.value;this.recycleAndCreateHeaderCtrls(d,a)}}catch(x){e={error:x}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}var f=function(x){var P=s.focusService.isHeaderWrapperFocused(x);if(!P)return!1;var R=s.columnModel.isDisplayed(x.getColumnGroupChild());return R};if(a)try{for(var p=dR(a),h=p.next();!h.done;h=p.next()){var g=FU(h.value,2),v=g[0],m=g[1],C=f(m);C?this.headerCellCtrls.set(v,m):this.destroyBean(m)}}catch(x){i={error:x}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}var y=Array.from(this.headerCellCtrls.values());return y},t.prototype.recycleAndCreateHeaderCtrls=function(e,n){if(this.headerCellCtrls&&!e.isEmptyGroup()){var i=e.getUniqueId(),o;n&&(o=n.get(i),n.delete(i));var s=o&&o.getColumnGroupChild()!=e;if(s&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case An.FLOATING_FILTER:o=this.createBean(new pU(e,this));break;case An.COLUMN_GROUP:o=this.createBean(new OU(e,this));break;default:o=this.createBean(new _U(e,this));break}this.headerCellCtrls.set(i,o)}},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(this.pinned!=null)return[];var n=[],i=this.getActualDepth();return["left",null,"right"].forEach(function(o){var s=e.columnModel.getVirtualHeaderGroupRow(o,i);n=n.concat(s)}),n},t.prototype.getActualDepth=function(){return this.type==An.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,n){if(!this.headerCellCtrls)return!1;var i=Array.from(this.headerCellCtrls.values()),o=i.find(function(s){return s.getColumnGroupChild()==e});return o?o.focus(n):!1},t.prototype.destroy=function(){var e=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(n){e.destroyBean(n)}),this.headerCellCtrls=void 0,r.prototype.destroy.call(this)},Wp([w("columnModel")],t.prototype,"columnModel",void 0),Wp([w("focusService")],t.prototype,"focusService",void 0),Wp([w("filterManager")],t.prototype,"filterManager",void 0),Wp([ne],t.prototype,"postConstruct",null),t}(Q),PU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ol=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MU=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},NU=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},LU=function(r){PU(t,r);function t(e){var n=r.call(this)||this;return n.hidden=!1,n.includeFloatingFilter=!1,n.groupsRowCtrls=[],n.pinned=e,n}return t.prototype.setComp=function(e,n){this.comp=e,this.eViewport=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,_.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var n=new eU(this.pinned,e);this.createManagedBean(n)},t.prototype.refresh=function(e){var n=this;e===void 0&&(e=!1);var i=new jl,o=this.focusService.getFocusHeaderToUseAfterRefresh(),s=function(){var c=n.columnModel.getHeaderRowCount()-1;n.groupsRowCtrls=n.destroyBeans(n.groupsRowCtrls);for(var d=0;d<c;d++){var f=n.createBean(new ky(i.next(),n.pinned,An.COLUMN_GROUP));n.groupsRowCtrls.push(f)}},a=function(){var c=i.next(),d=!n.hidden&&(n.columnsRowCtrl==null||!e||n.columnsRowCtrl.getRowIndex()!==c),f=d||n.hidden;f&&(n.columnsRowCtrl=n.destroyBean(n.columnsRowCtrl)),d&&(n.columnsRowCtrl=n.createBean(new ky(c,n.pinned,An.COLUMN)))},l=function(){n.includeFloatingFilter=n.filterManager.hasFloatingFilters()&&!n.hidden;var c=function(){n.filtersRowCtrl=n.destroyBean(n.filtersRowCtrl)};if(!n.includeFloatingFilter){c();return}var d=i.next();if(n.filtersRowCtrl){var f=n.filtersRowCtrl.getRowIndex()!==d;(!e||f)&&c()}n.filtersRowCtrl||(n.filtersRowCtrl=n.createBean(new ky(d,n.pinned,An.FLOATING_FILTER)))};s(),a(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=NU([],MU(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;this.pinned==null&&this.createManagedBean(new pw(function(n){return e.comp.setCenterWidth("".concat(n,"px"))},!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(this.pinned!=null){var n=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;var o=function(){var s=n?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(s!=null){var a=s==0,l=e.hidden!==a,u=e.gridOptionsService.get("enableRtl"),c=e.gridOptionsService.getScrollbarWidth(),d=e.scrollVisibleService.isVerticalScrollShowing()&&(u&&n||!u&&i),f=d?s+c:s;e.comp.setPinnedContainerWidth("".concat(f,"px")),e.comp.setDisplayed(!a),l&&(e.hidden=a,e.refresh())}};this.addManagedListener(this.eventService,_.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,_.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,_.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,_.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof yt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(var n=0;n<this.groupsRowCtrls.length;n++){var i=this.groupsRowCtrls[n].getHeaderCellCtrl(e);if(i)return i}},t.prototype.getHtmlElementForColumnHeader=function(e){var n=this.getHeaderCtrlForColumn(e);return n?n.getGui():null},t.prototype.getRowType=function(e){var n=this.getAllCtrls(),i=n[e];return i?i.getType():void 0},t.prototype.focusHeader=function(e,n,i){var o=this.getAllCtrls(),s=o[e];return s?s.focusHeader(n,i):!1},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),r.prototype.destroy.call(this)},Ol([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Ol([w("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Ol([w("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Ol([w("columnModel")],t.prototype,"columnModel",void 0),Ol([w("focusService")],t.prototype,"focusService",void 0),Ol([w("filterManager")],t.prototype,"filterManager",void 0),t}(Q),kU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vy=function(r){kU(t,r);function t(e){var n=r.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=e,n}return t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var n={setDisplayed:function(o){return e.setDisplayed(o)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return e.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var s=e.getGui();s.style.width=o,s.style.maxWidth=o,s.style.minWidth=o}},i=this.createManagedBean(new LU(this.pinned));i.setComp(n,this.getGui())},t.prototype.selectAndSetTemplate=function(){var e=this.pinned=="left",n=this.pinned=="right",i=e?t.PINNED_LEFT_TEMPLATE:n?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var n=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,s=function(a){var l=a.getGui(),u=l.parentElement!=n.eRowContainer;u&&n.eRowContainer.appendChild(l),o&&ZC(n.eRowContainer,l,o),o=l};e.forEach(function(a){var l=a.getInstanceId(),u=i[l];delete i[l];var c=u||n.createBean(new sU(a));n.headerRowComps[l]=c,n.rowCompsList.push(c),s(c)}),ms(i).forEach(function(a){return n.destroyRowComp(a)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',t.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,Gy([oe("eCenterContainer")],t.prototype,"eCenterContainer",void 0),Gy([ne],t.prototype,"init",null),Gy([Un],t.prototype,"destroyRowComps",null),t}(ke),GU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),xc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xo=function(r){return r[r.UP=0]="UP",r[r.DOWN=1]="DOWN",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT",r}(xo||{}),VU=function(r){GU(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,n,i){if(n||(n=this.focusService.getFocusedHeader()),!n)return!1;var o=n.headerRowIndex,s=n.column,a=this.getHeaderRowCount(),l=e===xo.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(s,o):this.headerPositionUtils.getColumnVisibleChild(s,o),c=u.nextRow,d=u.nextFocusColumn,f=!1;return c<0&&(c=0,d=s,f=!0),c>=a&&(c=-1),!f&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:i})},t.prototype.navigateHorizontally=function(e,n,i){n===void 0&&(n=!1);var o=this.focusService.getFocusedHeader(),s=e===xo.LEFT,a=this.gridOptionsService.get("enableRtl"),l,u;return s!==a?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!n?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:n,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,u,i)},t.prototype.focusNextHeaderRow=function(e,n,i){var o=e.headerRowIndex,s=null,a;return n==="Before"?o>0&&(a=o-1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"end")):(a=o+1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"start")),this.focusService.focusHeaderPosition({headerPosition:s,direction:n,fromTab:!0,allowUserOverride:!0,event:i})},t.prototype.scrollToColumn=function(e,n){if(n===void 0&&(n="After"),!e.getPinned()){var i;if(e instanceof tn){var o=e.getDisplayedLeafColumns();i=n==="Before"?ut(o):o[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},xc([w("focusService")],t.prototype,"focusService",void 0),xc([w("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),xc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),xc([ne],t.prototype,"postConstruct",null),t=xc([fe("headerNavigationService")],t),t}(Q),HU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BU=function(r){HU(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setComp=function(e,n,i){this.comp=e,this.eGui=n,this.createManagedBean(new _s(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,_.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,_.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,_.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var e=this.columnModel,n=0,i=e.getHeaderRowCount(),o,s=this.filterManager.hasFloatingFilters();s&&(i++,n=1);var a=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+n,c=i-u;if(o=n*e.getFloatingFiltersHeight(),o+=c*a,o+=l,this.headerHeight!==o){this.headerHeight=o;var d="".concat(o+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:_.EVENT_HEADER_HEIGHT_CHANGED})}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.getAllDisplayedColumns(),n=e.some(function(i){return i.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)},t.prototype.onTabKeyDown=function(e){var n=this.gridOptionsService.get("enableRtl"),i=e.shiftKey!==n?xo.LEFT:xo.RIGHT;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var n=null;switch(e.key){case B.LEFT:n=xo.LEFT;case B.RIGHT:X(n)||(n=xo.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,e);break;case B.UP:n=xo.UP;case B.DOWN:X(n)||(n=xo.DOWN),this.headerNavigationService.navigateVertically(n,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var n=this.gridOptionsService.getDocument(),i=e.relatedTarget;!i&&this.eGui.contains(n.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},Dc([w("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Dc([w("focusService")],t.prototype,"focusService",void 0),Dc([w("columnModel")],t.prototype,"columnModel",void 0),Dc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Dc([w("filterManager")],t.prototype,"filterManager",void 0),t}(Q),jU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),UU=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WU=function(r){jU(t,r);function t(){return r.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this,n={addOrRemoveCssClass:function(s,a){return e.addOrRemoveCssClass(s,a)},setHeightAndMinHeight:function(s){e.getGui().style.height=s,e.getGui().style.minHeight=s}},i=this.createManagedBean(new BU);i.setComp(n,this.getGui(),this.getFocusableElement());var o=function(s){e.createManagedBean(s),e.appendChild(s)};o(new Vy("left")),o(new Vy(null)),o(new Vy("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',UU([ne],t.prototype,"postConstruct",null),t}(ke),zU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$U=function(r){zU(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.addResizeBar=function(e){var n=this,i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(i);var o=function(){return n.dragService.removeDragSource(i)};return o},t.prototype.onDragStart=function(e,n){this.dragStartX=n.clientX,this.setResizeIcons();var i=n instanceof MouseEvent&&n.shiftKey===!0;e.onResizeStart(i)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,n){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,n){this.resizeAmount=n.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Hy([w("dragService")],t.prototype,"dragService",void 0),Hy([w("ctrlsService")],t.prototype,"ctrlsService",void 0),t=Hy([fe("horizontalResizeService")],t),t}(Q),KU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YU=function(r){KU(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,n){var i=this;this.showPopup(e,function(o){i.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:n,ePopup:o})},"columnMenu",n.target)},t.prototype.showMenuAfterButtonClick=function(e,n,i){var o=this;this.showPopup(e,function(s){o.popupService.positionPopupByComponent({type:i,eventSource:n,ePopup:s,keepWithinBounds:!0,position:"under",column:e})},i,n)},t.prototype.showPopup=function(e,n,i,o){var s=this,a=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var l=document.createElement("div");rn(l,"presentation"),l.classList.add("ag-menu"),this.tabListener=this.addManagedListener(l,"keydown",function(g){return s.trapFocusWithin(g,l)}),a.guiPromise.then(function(g){return l.appendChild(g)});var u,c=function(){var g;return(g=a.filterPromise)===null||g===void 0?void 0:g.then(function(v){var m;return(m=v?.afterGuiDetached)===null||m===void 0?void 0:m.call(v)})},d=o||this.ctrlsService.getGridBodyCtrl().getGui(),f=function(g){e.setMenuVisible(!1,"contextMenu");var v=g instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),v&&o&&fr(o)){var m=s.focusService.findTabbableParent(o);m&&m.focus()}c()},p=this.localeService.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:f,positionCallback:function(){return n(l)},anchorToElement:d,ariaLabel:p("ariaLabelColumnMenu","Column Menu")});h&&(this.hidePopup=u=h.hideFunc),a.filterPromise.then(function(g){n(l),g.afterGuiAttached&&g.afterGuiAttached({container:i,hidePopup:u})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,n){e.key!==B.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(n,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(n,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},Tc([w("filterManager")],t.prototype,"filterManager",void 0),Tc([w("popupService")],t.prototype,"popupService",void 0),Tc([w("focusService")],t.prototype,"focusService",void 0),Tc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),t=Tc([fe("menuFactory")],t),t}(Q),qU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$se=function(r){qU(t,r);function t(e){var n=r.call(this,t.getTemplate(e.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=e,e.items&&e.items.forEach(function(i){return n.addItem(i)}),n}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new _s(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var n,i,o;return(o=(i=(n=e.activeItem)===null||n===void 0?void 0:n.tabbedItem)===null||i===void 0?void 0:i.afterDetachedCallback)===null||o===void 0?void 0:o.call(i)})},t.getTemplate=function(e){return'<div class="ag-tabs '.concat(e,`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `).concat(e?"".concat(e,"-header"):"",`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `).concat(e?"".concat(e,"-body"):"",`"></div>
        </div>`)},t.prototype.handleKeyDown=function(e){var n=this.gridOptionsService.getDocument();switch(e.key){case B.RIGHT:case B.LEFT:if(!this.eHeader.contains(n.activeElement))return;var i=e.key===B.RIGHT,o=this.gridOptionsService.get("enableRtl"),s=this.items.indexOf(this.activeItem),a=i!==o?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===a)return;e.preventDefault();var l=this.items[a];this.showItemWrapper(l),l.eHeaderButton.focus();break;case B.UP:case B.DOWN:e.stopPropagation();break}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var n=this,i=n.focusService,o=n.eHeader,s=n.eBody,a=n.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=e.target;if(e.preventDefault(),o.contains(u)){i.focusInto(s,e.shiftKey);return}var d=null;i.isTargetUnderManagedComponent(s,c)&&(e.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(s,c)),d||(d=a.eHeaderButton)),!d&&s.contains(u)&&(d=i.findNextFocusableElement(s,!1,e.shiftKey),d||(d=a.eHeaderButton)),d&&d.focus()}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var n=document.createElement("span");rn(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(e.title),n.classList.add("ag-tab"),this.eHeader.appendChild(n),Ro(n,e.titleLabel);var i={tabbedItem:e,eHeaderButton:n};this.items.push(i),n.addEventListener("click",this.showItemWrapper.bind(this,i))},t.prototype.showItem=function(e){var n=this.items.find(function(i){return i.tabbedItem===e});n&&this.showItemWrapper(n)},t.prototype.showItemWrapper=function(e){var n=this,i,o,s=e.tabbedItem,a=e.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem===e){QR(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),fn(this.eBody),s.bodyPromise.then(function(l){n.eBody.appendChild(l);var u=!n.focusService.isKeyboardMode();if(n.focusService.focusInto(n.eBody,!1,u),s.afterAttachedCallback&&s.afterAttachedCallback(n.afterAttachedParams),n.params.keepScrollPosition){var c=s.getScrollableContainer&&s.getScrollableContainer()||l;n.lastScrollListener=n.addManagedListener(c,"scroll",function(){n.tabbedItemScrollMap.set(s.name,c.scrollTop)});var d=n.tabbedItemScrollMap.get(s.name);d!==void 0&&setTimeout(function(){c.scrollTop=d},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(o=(i=this.activeItem.tabbedItem).afterDetachedCallback)===null||o===void 0||o.call(i)),a.classList.add("ag-tab-selected"),this.activeItem=e},zp([w("focusService")],t.prototype,"focusService",void 0),zp([oe("eHeader")],t.prototype,"eHeader",void 0),zp([oe("eBody")],t.prototype,"eBody",void 0),zp([ne],t.prototype,"postConstruct",null),t}(ke),XU=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),QU=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZU=50,JU=function(r){XU(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return t.prototype.observeResize=function(e,n){var i=this,o=this.gridOptionsService.getWindow(),s=function(){var c=new o.ResizeObserver(n);return c.observe(e),function(){return c.disconnect()}},a=function(){var c=CC(e),d=yC(e),f=!0,p=function(){if(f){var h=CC(e),g=yC(e),v=h!==c||g!==d;v&&(c=h,d=g,n()),i.doNextPolyfillTurn(p)}};return p(),function(){return f=!1}},l=this.gridOptionsService.get("suppressBrowserResizeObserver"),u=!!o.ResizeObserver;return u&&!l?s():a()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;if(!this.polyfillScheduled){var n=function(){var i=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],i.forEach(function(o){return o()})};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(n,ZU)}},t=QU([fe("resizeObserverService")],t),t}(Q),eW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$p=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tW=function(r){eW(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return t.prototype.setScrollTop=function(e){var n=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,n&&e===0){var i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService.".concat(e," called but animation frames are off"))},t.prototype.createTask=function(e,n,i){this.verifyAnimationFrameOn(i);var o={task:e,index:n,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,n){e.list.push(n),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var n=this.scrollGoingDown?1:-1;e.list.sort(function(i,o){return i.index!==o.index?n*(o.index-i.index):o.createOrder-i.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var n=this.createTasksP1,i=n.list,o=this.createTasksP2,s=o.list,a=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=e<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<e;){var f=d.getScrollFeature().scrollGridIfNeeded();if(!f){var p=void 0;if(i.length)this.sortTaskList(n),p=i.pop().task;else if(s.length)this.sortTaskList(o),p=s.pop().task;else if(a.length)p=a.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}u=new Date().getTime()-l}i.length||s.length||a.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var n=this.gridOptionsService.getWindow();n.requestAnimationFrame?n.requestAnimationFrame(e):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(e):n.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var n=this,i=!1;return function(){if(!n.isOn()){n.getFrameworkOverrides().setTimeout(e,0);return}i||(i=!0,n.addDestroyTask(function(){i=!1,e()}))}},$p([w("ctrlsService")],t.prototype,"ctrlsService",void 0),$p([w("paginationProxy")],t.prototype,"paginationProxy",void 0),$p([ne],t.prototype,"init",null),t=$p([fe("animationFrameService")],t),t}(Q),tt=function(r){return r.EVERYTHING="group",r.FILTER="filter",r.SORT="sort",r.MAP="map",r.AGGREGATE="aggregate",r.FILTER_AGGREGATES="filter_aggregates",r.PIVOT="pivot",r.NOTHING="nothing",r}(tt||{}),nW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),By=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rW=function(r){nW(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"},t.prototype.expandRows=function(e){if(this.isClientSideRowModel){var n=new Set(e);this.rowModel.forEachNode(function(i){i.id&&n.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},t.prototype.getExpandedRows=function(){var e=[];return this.rowModel.forEachNode(function(n){var i=n.expanded,o=n.id;i&&o&&e.push(o)}),e},t.prototype.expandAll=function(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)},t.prototype.setRowNodeExpanded=function(e,n,i){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,n,i),e.setExpanded(n))},t.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:tt.MAP})},By([w("rowModel")],t.prototype,"rowModel",void 0),By([ne],t.prototype,"postConstruct",null),t=By([fe("expansionService")],t),t}(Q),iW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oW=function(r){iW(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.centerRowContainerCtrl=n.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,n){var i=this.getHeaderCellForColumn(e);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return n||o.push(i),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var n=this.getHeaderCellForColumn(e);return n?this.addElementsToContainerAndGetWidth([n]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var n=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();e.forEach(function(l){return n.cloneItemIntoDummy(l,i)}),o.appendChild(i);var s=i.offsetWidth;o.removeChild(i);var a=this.getAutoSizePadding();return s+a},t.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},t.prototype.getHeaderCellForColumn=function(e){var n=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(e);o!=null&&(n=o)}),n},t.prototype.cloneItemIntoDummy=function(e,n){var i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),s=o.classList,a=["ag-header-cell","ag-header-group-cell"].some(function(f){return i.classList.contains(f)});a?(s.add("ag-header","ag-header-row"),o.style.position="static"):s.add("ag-row");for(var l=e.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(f){return l.classList.contains(f)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&s.add(d)}break}l=l.parentElement}o.appendChild(i),n.appendChild(o)},Rc([w("rowRenderer")],t.prototype,"rowRenderer",void 0),Rc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Rc([w("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),Rc([ne],t.prototype,"postConstruct",null),t=Rc([fe("autoWidthCalculator")],t),t}(Q),sW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aW=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lW=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},uW=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},cW=function(r){sW(t,r);function t(e,n){var i=r.call(this)||this;return i.createRowCon=e,i.destroyRowCtrls=n,i.stickyRowCtrls=[],i.containerHeight=0,i}return t.prototype.postConstruct=function(){var e=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(n){e.gridBodyCtrl=n.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,n=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],n);for(var i=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),s=function(p){var h,g,v;i.push(p);var m;if(e.isClientSide){for(var C=p;C.isExpandable()&&C.expanded;)if(C.master)C=C.detailNode;else if(C.childrenAfterSort){if(C.childrenAfterSort.length===0)break;C=ut(C.childrenAfterSort)}m=C.rowTop+C.rowHeight}else if(p.master)m=p.detailNode.rowTop+p.detailNode.rowHeight;else{var y=(h=p.childStore)===null||h===void 0?void 0:h.getStoreBounds();m=((g=y?.heightPx)!==null&&g!==void 0?g:0)+((v=y?.topPx)!==null&&v!==void 0?v:0)}var x=o+n+p.rowHeight;m<x?p.stickyRowTop=n+(m-x):p.stickyRowTop=n,n=0,i.forEach(function(P){var R=P.stickyRowTop+P.rowHeight;n<R&&(n=R)})};;){var a=o+n,l=this.rowModel.getRowIndexAtPixel(a),u=this.rowModel.getRow(l);if(u==null||u.level<0)break;for(var c=[],d=u.parent;d.level>=0;)c.push(d),d=d.parent;var f=c.reverse().find(function(p){return i.indexOf(p)<0&&p.displayed});if(f){s(f);continue}if(u.isExpandable()&&u.expanded&&u.rowTop<a){s(u);continue}break}return this.refreshNodesAndContainerHeight(i,n)},t.prototype.refreshStickyNode=function(e){for(var n=[],i=0;i<this.stickyRowCtrls.length;i++){var o=this.stickyRowCtrls[i].getRowNode();o!==e&&n.push(o)}this.refreshNodesAndContainerHeight(n,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,n){var i,o,s,a=this,l=!1,u=this.stickyRowCtrls.filter(function(v){return e.indexOf(v.getRowNode())===-1}),c=e.filter(function(v){return a.stickyRowCtrls.findIndex(function(m){return m.getRowNode()===v})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(v){d[v.getRowNode().id]=v,a.stickyRowCtrls=a.stickyRowCtrls.filter(function(m){return m!==v})});try{for(var f=aW(Object.values(d)),p=f.next();!p.done;p=f.next()){var h=p.value;h.getRowNode().sticky=!1}}catch(v){i={error:v}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}this.destroyRowCtrls(d,!1);var g=c.map(function(v){return v.sticky=!0,a.createRowCon(v,!1,!1)});return(s=this.stickyRowCtrls).push.apply(s,uW([],lW(g),!1)),this.stickyRowCtrls.forEach(function(v){return v.setRowTop(v.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(v,m){return m.getRowNode().rowIndex-v.getRowNode().rowIndex}),this.containerHeight!==n&&(this.containerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),l=!0),l},Kp([w("rowModel")],t.prototype,"rowModel",void 0),Kp([w("rowRenderer")],t.prototype,"rowRenderer",void 0),Kp([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Kp([ne],t.prototype,"postConstruct",null),t}(Q),dW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vi=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},is=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},os=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},fW=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pW=function(r){dW(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e.setupRangeSelectionListeners=function(){var n=function(){e.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},i=function(){e.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},o=function(){e.eventService.addEventListener(_.EVENT_RANGE_SELECTION_CHANGED,n),e.eventService.addEventListener(_.EVENT_COLUMN_MOVED,i),e.eventService.addEventListener(_.EVENT_COLUMN_PINNED,i),e.eventService.addEventListener(_.EVENT_COLUMN_VISIBLE,i)},s=function(){e.eventService.removeEventListener(_.EVENT_RANGE_SELECTION_CHANGED,n),e.eventService.removeEventListener(_.EVENT_COLUMN_MOVED,i),e.eventService.removeEventListener(_.EVENT_COLUMN_PINNED,i),e.eventService.removeEventListener(_.EVENT_COLUMN_VISIBLE,i)};e.addDestroyFunc(function(){return s()}),e.addManagedPropertyListener("enableRangeSelection",function(l){var u=l.currentValue;u?o():s()});var a=e.gridOptionsService.get("enableRangeSelection");a&&o()},e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){var e=this;if(this.addManagedListener(this.eventService,_.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,_.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,_.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return e.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return e.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return e.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var n=this.rowModel.getType();(n==="clientSide"||n==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new cW(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var e=this.getKeepDetailRowsCount(),n=e??3;this.cachedRowCtrls=new hW(n)}},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=ms(this.rowCtrlsByRowIndex),n=this.gridOptionsService.get("ensureDomOrder"),i=this.gridOptionsService.isDomLayout("print");(n||i)&&e.sort(function(a,l){return a.getRowNode().rowIndex-l.getRowNode.rowIndex});var o=ms(this.zombieRowCtrls),s=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];o.length>0||s.length>0?this.allRowCtrls=os(os(os([],is(e),!1),is(o),!1),is(s),!1):this.allRowCtrls=e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(n){return n.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(n){return n.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_CELL_FOCUSED,function(n){e.onCellFocusChanged(n)}),this.addManagedListener(this.eventService,_.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,_.EVENT_FLASH_CELLS,function(n){e.getAllCellCtrls().forEach(function(i){return i.onFlashCells(n)})}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onColumnHover()})}),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(n){return n.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,_.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var n=this.columnModel.getAllGridColumns();n.forEach(function(i){var o=function(d){e.getAllCellCtrls().forEach(function(f){f.getColumn()===i&&d(f)})},s=function(){o(function(d){return d.onLeftChanged()})},a=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};i.addEventListener("leftChanged",s),i.addEventListener("widthChanged",a),i.addEventListener("firstRightPinnedChanged",l),i.addEventListener("lastLeftPinnedChanged",u),i.addEventListener("colDefChanged",c),e.destroyFuncsForColumnListeners.push(function(){i.removeEventListener("leftChanged",s),i.removeEventListener("widthChanged",a),i.removeEventListener("firstRightPinnedChanged",l),i.removeEventListener("lastLeftPinnedChanged",u),i.removeEventListener("colDefChanged",c)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),n=e||this.gridOptionsService.get("embedFullWidthRows"),i=n!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=n,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){var n={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(n)},t.prototype.getAllCellsForColumn=function(e){var n=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(e);o&&n.push(o)}),n},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,n){var i=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,n&&n.forEach(function(o){var s=new wa(o,i.beans,!1,!1,i.printLayout);e.push(s)})},t.prototype.onPinnedRowDataChanged=function(){var e={recycleRows:!0};this.redrawAfterModelUpdate(e)},t.prototype.redrawRow=function(e,n){var i=this;if(n===void 0&&(n=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{var o=function(s){var a=s[e.rowIndex];a&&a.getRowNode()===e&&(a.destroyFirstPass(),a.destroySecondPass(),s[e.rowIndex]=i.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}n||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var n=this,i=e!=null;if(i){e?.forEach(function(o){return n.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var n=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(n==null)return null;var i=this.gridOptionsService.getDocument(),o=i.activeElement,s=this.gridOptionsService.getDomData(o,Ca.DOM_DATA_KEY_CELL_CTRL),a=this.gridOptionsService.getDomData(o,wa.DOM_DATA_KEY_ROW_CTRL),l=s||a;return l?n:null},t.prototype.redrawAfterModelUpdate=function(e){e===void 0&&(e={}),this.getLockOnRefresh();var n=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var i=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),s=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),n!=null&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var n=e.newData||e.newPage,i=this.gridOptionsService.get("suppressScrollOnNewData");n&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))},t.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.getAllRowCtrls().forEach(function(n){n.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],n=this.getAllRowCtrls(),i=n.length,o=0;o<i;o++)for(var s=n[o].getAllCellCtrls(),a=s.length,l=0;l<a;l++)e.push(s[l]);return e},t.prototype.getAllRowCtrls=function(){var e,n,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=os(os(os([],is(this.topRowCtrls),!1),is(this.bottomRowCtrls),!1),is(i),!1);try{for(var s=fW(Object.keys(this.rowCtrlsByRowIndex)),a=s.next();!a.done;a=s.next()){var l=a.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o},t.prototype.addRenderedRowListener=function(e,n,i){var o=this.rowCtrlsByRowIndex[n];o&&o.addEventListener(e,i)},t.prototype.flashCells=function(e){e===void 0&&(e={});var n=e.flashDelay,i=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.flashCell({flashDelay:n,fadeDelay:i})})},t.prototype.refreshCells=function(e){var n=this;e===void 0&&(e={});var i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.refreshOrDestroyCell(i)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(function(o){if(o.isFullWidth()){var s=o.refreshFullWidth();s||n.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var n=this,i,o=this.getCellCtrls(e.rowNodes,e.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((i=e.columns)===null||i===void 0)&&i.length)return o;var s=[],a=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(a&&!n.isRowInMap(l.getRowNode(),a))&&l.isFullWidth()){var u=l.getFullWidthCellRenderer();u&&s.push(u)}}),os(os([],is(s),!1),is(o),!1)},t.prototype.getCellEditorInstances=function(e){var n=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){var o=i.getCellEditor();o&&n.push(o)}),n},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(n){if(n.isEditing()){var i=n.getCellPosition();e.push(i)}}),e},t.prototype.mapRowNodes=function(e){if(e){var n={top:{},bottom:{},normal:{}};return e.forEach(function(i){var o=i.id;i.rowPinned==="top"?n.top[o]=i:i.rowPinned==="bottom"?n.bottom[o]=i:n.normal[o]=i}),n}},t.prototype.isRowInMap=function(e,n){var i=e.id,o=e.rowPinned;return o==="bottom"?n.bottom[i]!=null:o==="top"?n.top[i]!=null:n.normal[i]!=null},t.prototype.getRowCtrls=function(e){var n=this,i=this.mapRowNodes(e),o=this.getAllRowCtrls();return!e||!i?o:o.filter(function(s){var a=s.getRowNode();return n.isRowInMap(a,i)})},t.prototype.getCellCtrls=function(e,n){var i=this,o;X(n)&&(o={},n.forEach(function(a){var l=i.columnModel.getGridColumn(a);X(l)&&(o[l.getId()]=!0)}));var s=[];return this.getRowCtrls(e).forEach(function(a){a.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=o&&!o[u];c||s.push(l)})}),s},t.prototype.destroy=function(){this.removeAllRowComps(),r.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];Rn(this.rowCtrlsByRowIndex,function(i,o){var s=o.getRowNode().id==null;s&&e.push(i)}),this.removeRowCtrls(e);var n={};return Rn(this.rowCtrlsByRowIndex,function(i,o){var s=o.getRowNode();n[s.id]=o}),this.rowCtrlsByRowIndex={},n},t.prototype.removeRowCtrls=function(e){var n=this;e.forEach(function(i){var o=n.rowCtrlsByRowIndex[i];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete n.rowCtrlsByRowIndex[i]})},t.prototype.onBodyScroll=function(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){e===void 0&&(e={});var n=e.afterScroll,i;this.stickyRowFeature&&Nh()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var a=!1;this.stickyRowFeature&&(a=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==s;if(!(n&&!a&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n),i!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();i!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}},t.prototype.removeRowCompsNotToDraw=function(e){var n={};e.forEach(function(s){return n[s]=!0});var i=Object.keys(this.rowCtrlsByRowIndex),o=i.filter(function(s){return!n[s]});this.removeRowCtrls(o)},t.prototype.calculateIndexesToDraw=function(e){var n=this,i=FA(this.firstRenderedRow,this.lastRenderedRow),o=function(c,d){var f=d.getRowNode().rowIndex;f!=null&&(f<n.firstRenderedRow||f>n.lastRenderedRow)&&n.doNotUnVirtualiseRow(d)&&i.push(f)};Rn(this.rowCtrlsByRowIndex,o),Rn(e,o),i.sort(function(c,d){return c-d});for(var s=[],a=0;a<i.length;a++){var l=i[a],u=this.paginationProxy.getRow(l);u&&!u.sticky&&s.push(l)}return s},t.prototype.recycleRows=function(e,n,i){var o=this;n===void 0&&(n=!1),i===void 0&&(i=!1);var s=this.calculateIndexesToDraw(e);if(this.removeRowCompsNotToDraw(s),this.printLayout&&(n=!1),s.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,e,n,i);X(u)}),e){var a=i&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout;a?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,n),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,n)}this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){e===void 0&&(e=!1);var n={type:_.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(n)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),n=this.columnModel.isPinningRight(),i=this.pinningLeft!==e||n!==this.pinningRight;i&&(this.pinningLeft=e,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(n){var i=n.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var n=this,i=this.mapRowNodes(e);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var s=o.getRowNode();return!(i!=null&&!n.isRowInMap(s,i))})},t.prototype.createOrUpdateRowCtrl=function(e,n,i,o){var s,a=this.rowCtrlsByRowIndex[e];a||(s=this.paginationProxy.getRow(e),X(s)&&X(n)&&n[s.id]&&s.alreadyRendered&&(a=n[s.id],n[s.id]=null));var l=!a;if(l)if(s||(s=this.paginationProxy.getRow(e)),X(s))a=this.createRowCon(s,i,o);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=a,a},t.prototype.destroyRowCtrls=function(e,n){var i=this,o=[];Rn(e,function(s,a){if(a){if(i.cachedRowCtrls&&a.isCacheable()){i.cachedRowCtrls.addRow(a);return}a.destroyFirstPass(),n?(i.zombieRowCtrls[a.getInstanceId()]=a,o.push(function(){a.destroySecondPass(),delete i.zombieRowCtrls[a.getInstanceId()]})):a.destroySecondPass()}}),n&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),qR(o))},t.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},t.prototype.getRowBufferInPixels=function(){var e=this.getRowBuffer(),n=this.gridOptionsService.getRowHeightAsNumber();return e*n},t.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var e,n;if(!this.paginationProxy.isRowsToRender())e=0,n=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow();else{var i=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsService.get("suppressRowVirtualisation"),a=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),f=d.pageFirstPixel,p=d.pageLastPixel,h=this.rowContainerHeightService.getDivStretchOffset(),g=o.getScrollFeature().getVScrollPosition(),v=g.top,m=g.bottom;s?(l=f+h,u=p+h):(l=Math.max(v+c-i,f)+h,u=Math.min(m+c+i,p)+h),this.firstVisibleVPixel=Math.max(v+c,f)+h,a=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(a);var C=this.paginationProxy.getRowIndexAtPixel(l),y=this.paginationProxy.getRowIndexAtPixel(u),x=this.paginationProxy.getPageFirstRow(),P=this.paginationProxy.getPageLastRow();C<x&&(C=x),y>P&&(y=P),e=C,n=y}var R=this.gridOptionsService.isDomLayout("normal"),E=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),O=Math.max(this.getRowBuffer(),500);R&&!E&&n-e>O&&(n=e+O);var I=e!==this.firstRenderedRow,k=n!==this.lastRenderedRow;if(I||k){this.firstRenderedRow=e,this.lastRenderedRow=n;var G={type:_.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:n};this.eventService.dispatchEvent(G)}},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var n={type:_.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(n)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,n){var i=this.paginationProxy.ensureRowHeightsValid(e,n,-1,-1);return i&&this.updateContainerHeights(),i},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var n=!1,i=!0,o=e.getRowNode(),s=this.focusService.isRowNodeFocused(o),a=e.isEditing(),l=o.detail,u=s||a||l;if(!u)return n;var c=this.paginationProxy.isRowPresent(o);return c?i:n},t.prototype.createRowCon=function(e,n,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var s=this.gridOptionsService.get("suppressAnimationFrame"),a=i&&!s&&!this.printLayout,l=new wa(e,this.beans,n,a,this.printLayout);return l},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(n){return e[n].getRowNode()})},t.prototype.getRowByPosition=function(e){var n,i=e.rowIndex;switch(e.rowPinned){case"top":n=this.topRowCtrls[i];break;case"bottom":n=this.bottomRowCtrls[i];break;default:n=this.rowCtrlsByRowIndex[i],n||(n=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===i})||null);break}return n},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,n){var i=e==null||n==null;if(i)return!1;var o=e>this.lastRenderedRow,s=n<this.firstRenderedRow,a=!s&&!o;return a},vi([w("animationFrameService")],t.prototype,"animationFrameService",void 0),vi([w("paginationProxy")],t.prototype,"paginationProxy",void 0),vi([w("columnModel")],t.prototype,"columnModel",void 0),vi([w("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),vi([w("rowModel")],t.prototype,"rowModel",void 0),vi([w("focusService")],t.prototype,"focusService",void 0),vi([w("beans")],t.prototype,"beans",void 0),vi([w("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),vi([w("ctrlsService")],t.prototype,"ctrlsService",void 0),vi([ne],t.prototype,"postConstruct",null),t=vi([fe("rowRenderer")],t),t}(Q),hW=function(){function r(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return r.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},r.prototype.getRow=function(t){if(t==null||t.id==null)return null;var e=this.entriesMap[t.id];if(!e)return null;this.removeFromCache(e),e.setCached(!1);var n=e.getRowNode()!=t;return n?null:e},r.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],Tr(this.entriesList,t)},r.prototype.getEntries=function(){return this.entriesList},r}(),gW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vW=function(r){gW(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.formatValue=function(e,n,i,o,s){s===void 0&&(s=!0);var a=null,l,u=e.getColDef();if(o?l=o:s&&(l=u.valueFormatter),l){var c={value:i,node:n,data:n?n.data:null,colDef:u,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};typeof l=="function"?a=l(c):a=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[i]||"";return a==null&&Array.isArray(i)&&(a=i.join(", ")),a},fR([w("expressionService")],t.prototype,"expressionService",void 0),t=fR([fe("valueFormatterService")],t),t}(Q),mW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yW=function(r){mW(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return e.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return e.setPinnedBottomRowData()})},t.prototype.isEmpty=function(e){var n=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return lr(n)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,n){var i=n==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(lr(i))return 0;for(var o=0;o<i.length;o++){var s=i[o],a=s.rowTop+s.rowHeight-1;if(a>=e)return o}return i.length-1},t.prototype.setPinnedTopRowData=function(){var e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);var n={type:_.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},t.prototype.setPinnedBottomRowData=function(){var e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);var n={type:_.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},t.prototype.createNodesFromData=function(e,n){var i=this,o=[];if(e){var s=0;e.forEach(function(a,l){var u=new ze(i.beans);u.data=a;var c=n?ze.ID_PREFIX_TOP_PINNED:ze.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=n?"top":"bottom",u.setRowTop(s),u.setRowHeight(i.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),s+=u.rowHeight,o.push(u)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){lr(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){lr(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||e.length===0)return 0;var n=ut(e);return n.rowTop+n.rowHeight},jy([w("beans")],t.prototype,"beans",void 0),jy([ne],t.prototype,"init",null),t=jy([fe("pinnedRowModel")],t),t}(Q);var Wh=function(){function r(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return r.prototype.setInactive=function(){this.active=!1},r.prototype.isActive=function(){return this.active},r.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},r.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var o=t.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,n):n&&e(o)}e(t)},r.prototype.forEachChangedNodeDepthFirst=function(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},r.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},r.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];){var i={rowNode:e,children:null};this.mapToItems[e.id]=i,n++,e=e.parent}return n},r.prototype.populateColumnsMap=function(t,e){var n=this;if(!(!this.keepingColumns||!e))for(var i=t;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(function(o){return n.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},r.prototype.linkPathItems=function(t,e){for(var n=t,i=0;i<e;i++){var o=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(o),n=n.parent}},r.prototype.addParentNode=function(t,e){if(!(!t||t.isRowPinned())){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},r.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},r.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id],i=e.filter(function(o){return n[o.getId()]});return i},r.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id],i=e.filter(function(o){return!n[o.getId()]});return i},r}(),CW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),OC=function(r){CW(t,r);function t(e){var n=r.call(this)||this;return n.state=t.STATE_WAITING_TO_LOAD,n.version=0,n.id=e,n}return t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){var n=this.isRequestMostRecentAndLive(e);n&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,n){this.successCommon(e,n)},t.prototype.pageLoaded=function(e,n,i){this.successCommon(e,{rowData:n,rowCount:i})},t.prototype.isRequestMostRecentAndLive=function(e){var n=e===this.version,i=this.isAlive();return n&&i},t.prototype.successCommon=function(e,n){this.dispatchLoadCompleted();var i=this.isRequestMostRecentAndLive(e);i&&(this.state=t.STATE_LOADED,this.processServerResult(n))},t.prototype.dispatchLoadCompleted=function(e){e===void 0&&(e=!0);var n={type:t.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(n)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(Q),wW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_W=function(r,t){return function(e,n){t(e,n,r)}},SW=function(r){wW(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n}e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var n=this.gridOptionsService.get("blockLoadDebounceMillis");n&&n>0&&(this.checkBlockToLoadDebounce=He.debounce(this.performCheckBlocksToLoad.bind(this),n))},t.prototype.setBeans=function(n){this.logger=n.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var n=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(n==null)return 2;if(!(n<=0))return n},t.prototype.addBlock=function(n){this.blocks.push(n),n.addEventListener(OC.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(n){He.removeFromArray(this.blocks,n)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var n=this.getAvailableLoadingCount(),i=this.blocks.filter(function(o){return o.getState()===OC.STATE_WAITING_TO_LOAD}).slice(0,n);this.registerLoads(i.length),i.forEach(function(o){return o.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var n=this.rowModel;return n.getBlockStates()}var i={};return this.blocks.forEach(function(o){var s=o.getBlockStateJson(),a=s.id,l=s.state;i[a]=l}),i},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(n){this.activeBlockLoadsCount+=n},t.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var e;return t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Yp([w("rowModel")],t.prototype,"rowModel",void 0),Yp([ne],t.prototype,"postConstruct",null),Yp([_W(0,ur("loggerFactory"))],t.prototype,"setBeans",null),t=e=Yp([fe("rowNodeBlockLoader")],t),t}(Q),EW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xW=function(r){EW(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return t.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,_.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,n,i,o){var s=this.rowModel.ensureRowHeightsValid(e,n,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},t.prototype.isPaginateChildRows=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren");return e?!0:this.gridOptionsService.get("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages();var n={type:_.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(n)},t.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();var e={type:_.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)},t.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},t.prototype.goToPage=function(e){if(!(!this.active||this.currentPage===e||typeof this.currentPage!="number")){this.currentPage=e;var n={type:_.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(n)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return Oe(this.topRowBounds)||Oe(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){var e=this.topRowBounds?this.topRowBounds.rowTop:0,n=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:n}},t.prototype.isRowPresent=function(e){if(!this.rowModel.isRowPresent(e))return!1;var n=e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex;return n},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var n=this.getPageFirstRow(),i=this.getPageLastRow(),o=n;o<=i;o++){var s=this.getRow(o);s&&e(s)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var n=this.rowModel.getRowBounds(e);return n.rowIndex=e,n},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var n=this.getPageForIndex(e);this.goToPage(n)}},t.prototype.isRowInPage=function(e){if(!this.active)return!0;var n=this.getPageForIndex(e.rowIndex);return n===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),n=Math.floor(e/this.pageSize);this.goToPage(n)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPage=function(e){this.currentPage=e},Object.defineProperty(t.prototype,"pageSize",{get:function(){return X(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:X(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:X(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:X(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),t.prototype.unsetAutoCalculatedPageSize=function(){if(this.pageSizeAutoCalculated!==void 0){var e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:_.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},t.prototype.setPageSize=function(e,n){var i=this.pageSize;switch(n){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(i!==this.pageSize){var o={type:_.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(o)}},t.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(X(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:_.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var n=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(n),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)},t.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Uy([w("rowModel")],t.prototype,"rowModel",void 0),Uy([ne],t.prototype,"postConstruct",null),t=Uy([fe("paginationProxy")],t),t}(Q),DW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TW=function(r){DW(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.processAllCellClasses=function(e,n,i,o){this.processClassRules(void 0,e.cellClassRules,n,i,o),this.processStaticCellClasses(e,n,i)},t.prototype.processClassRules=function(e,n,i,o,s){if(!(n==null&&e==null)){var a={},l={},u=function(h,g){h.split(" ").forEach(function(v){v.trim()!=""&&g(v)})};if(n)for(var c=Object.keys(n),d=function(h){var g=c[h],v=n[g],m;typeof v=="string"?m=f.expressionService.evaluate(v,i):typeof v=="function"&&(m=v(i)),u(g,function(C){m?a[C]=!0:l[C]=!0})},f=this,p=0;p<c.length;p++)d(p);e&&s&&Object.keys(e).forEach(function(h){return u(h,function(g){a[g]||(l[g]=!0)})}),s&&Object.keys(l).forEach(s),Object.keys(a).forEach(o)}},t.prototype.getStaticCellClasses=function(e,n){var i=e.cellClass;if(!i)return[];var o;if(typeof i=="function"){var s=i;o=s(n)}else o=i;return typeof o=="string"&&(o=[o]),o||[]},t.prototype.processStaticCellClasses=function(e,n,i){var o=this.getStaticCellClasses(e,n);o.forEach(function(s){i(s)})},pR([w("expressionService")],t.prototype,"expressionService",void 0),t=pR([fe("stylingService")],t),t}(Q),RW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),AW=function(r){RW(t,r);function t(e){return r.call(this,e,"ag-toggle-button")||this}return t.prototype.setValue=function(e,n){return r.prototype.setValue.call(this,e,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(Vh),OW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),bW=function(r){OW(t,r);function t(e){return r.call(this,e,"ag-text-area",null,"textarea")||this}return t.prototype.setValue=function(e,n){var i=r.prototype.setValue.call(this,e,n);return this.eInput.value=e,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(hs),FW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),IW=function(r){FW(t,r);function t(e){return r.call(this,e,"ag-date-field","date")||this}return t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var n=wi();this.addManagedListener(this.eInput,"mousedown",function(){e.isDisabled()||n||e.eInput.focus()}),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var n,i=e instanceof Date?(n=Yr(e??null,!1))!==null&&n!==void 0?n:void 0:e;return this.min===i?this:(this.min=i,eo(this.eInput,"min",i),this)},t.prototype.setMax=function(e){var n,i=e instanceof Date?(n=Yr(e??null,!1))!==null&&n!==void 0?n:void 0:e;return this.max===i?this:(this.max=i,eo(this.eInput,"max",i),this)},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,eo(this.eInput,"step",e),this)},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return(e=cr(this.getValue()))!==null&&e!==void 0?e:void 0},t.prototype.setDate=function(e,n){this.setValue(Yr(e??null,!1),n)},t}(Da),PW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),MW=function(r){PW(t,r);function t(e){return r.call(this,e,"ag-range-field","range")||this}return t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this);var e=this.config,n=e.min,i=e.max,o=e.step;n!=null&&this.setMinValue(n),i!=null&&this.setMaxValue(i),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(n){var i=n.target.value;e.setValue(i)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,n){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());var i=r.prototype.setValue.call(this,e,n);return this.eInput.value=e,i},t}(hs),NW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),hR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LW=function(r){NW(t,r);function t(e,n){var i=r.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=e,i.wrapperEl=n,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))},t.prototype.setState=function(e){var n="";this.params.valueFormatter&&(n=this.params.valueFormatter(e));var i=this.populateWithRenderer(e,n);i||this.populateWithoutRenderer(e,n),this.value=e},t.prototype.highlightString=function(e){var n=this.parsedValue;if(!(this.params.cellRenderer||!X(n))){var i=X(e);if(i){var o=n?.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){var s=o+e.length,a=Kt(n.slice(0,o),!0),l=Kt(n.slice(o,s),!0),u=Kt(n.slice(s));this.renderValueWithoutRenderer("".concat(a,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(u))}else i=!1}i||this.renderValueWithoutRenderer(n)}},t.prototype.updateHighlighted=function(e){var n,i=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());if((n=i.parentElement)===null||n===void 0||n.setAttribute("id",o),e){var s=this.getParentComponent().getAriaElement();kC(s,o),this.wrapperEl.setAttribute("data-active-option",o)}Hl(i.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,n){var i=this.gridOptionsService.getDocument(),o=this.getGui(),s=i.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";var a=Kt(X(n)?n:e,!0);this.parsedValue=X(a)?a:null,o.appendChild(s),this.renderValueWithoutRenderer(a)},t.prototype.renderValueWithoutRenderer=function(e){var n=this.getGui().querySelector("span");n&&(n.innerHTML=X(e)?e:"&nbsp;")},t.prototype.populateWithRenderer=function(e,n){var i=this,o,s;return this.params.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:n,api:this.gridOptionsService.api})),s&&(o=s.newAgStackInstance()),o&&nw(o,this.getGui()),o?(o.then(function(a){i.addDestroyFunc(function(){i.getContext().destroyBean(a)})}),!0):!1},t.prototype.onMouseUp=function(){var e=this.getParentComponent(),n={type:_.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e?.dispatchEvent(n)},hR([w("userComponentFactory")],t.prototype,"userComponentFactory",void 0),hR([ne],t.prototype,"postConstruct",null),t}(ke),kW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kc=function(r){return r.TAB_GUARD="ag-tab-guard",r.TAB_GUARD_TOP="ag-tab-guard-top",r.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",r}(Kc||{}),GW=function(r){kW(t,r);function t(e){var n=r.call(this)||this;n.skipTabGuardFocus=!1;var i=e.comp,o=e.eTopGuard,s=e.eBottomGuard,a=e.focusInnerElement,l=e.onFocusIn,u=e.onFocusOut,c=e.shouldStopEventPropagation,d=e.onTabKeyDown,f=e.handleKeyDown,p=e.eFocusableElement;return n.comp=i,n.eTopGuard=o,n.eBottomGuard=s,n.providedFocusInnerElement=a,n.eFocusableElement=p,n.providedFocusIn=l,n.providedFocusOut=u,n.providedShouldStopEventPropagation=c,n.providedOnTabKeyDown=d,n.providedHandleKeyDown=f,n}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new _s(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)},onFocusIn:function(n){return e.onFocusIn(n)},onFocusOut:function(n){return e.onFocusOut(n)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(n){return e.addManagedListener(n,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},t.prototype.activateTabGuards=function(){var e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var n=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(n):this.focusInnerElement(n)},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var n=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(!e.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(function(){return n.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){e===void 0&&(e=!1);var n=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(n.splice(0,1),n.splice(n.length-1,1)),n.length&&n[e?n.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1);var n=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,n.focus()},gR([w("focusService")],t.prototype,"focusService",void 0),gR([ne],t.prototype,"postConstruct",null),t}(Q),VW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),HW=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},BW=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},zh=function(r){VW(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var n=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){n.forEach(function(s){return o!=null?s.setAttribute("tabindex",o):s.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new GW({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var n=document.createElement("div"),i=e==="top"?Kc.TAB_GUARD_TOP:Kc.TAB_GUARD_BOTTOM;return n.classList.add(Kc.TAB_GUARD,i),rn(n,"presentation"),n},t.prototype.addTabGuards=function(e,n){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",n)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];fn(this.getFocusableElement()),this.addTabGuards.apply(this,BW([],HW(e),!1))},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,n){sd(e)||(e=e.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",e):r.prototype.appendChild.call(this,e,n)},t}(ke),jW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),qp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_O=function(r){jW(t,r);function t(e){var n=r.call(this,t.getTemplate(e?.cssIdentifier||"default"))||this;n.renderedRows=new Map,n.rowHeight=20;var i=e||{},o=i.cssIdentifier,s=o===void 0?"default":o,a=i.ariaRole,l=a===void 0?"listbox":a,u=i.listName;return n.cssIdentifier=s,n.ariaRole=l,n.listName=u,n}return t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(n){return e.onFocusIn(n)},onFocusOut:function(n){return e.onFocusOut(n)},focusInnerElement:function(n){return e.focusInnerElement(n)},onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,_.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var e=this.localeService.getLocaleTextFunc(),n=e("ariaDefaultListName",this.listName||"List"),i=this.eContainer;rn(i,this.ariaRole),Ro(i,n)},t.prototype.addResizeObserver=function(){var e=this,n=function(){return e.animationFrameService.requestAnimationFrame(function(){return e.drawVirtualRows()})},i=this.resizeObserverService.observeResize(this.getGui(),n);this.addDestroyFunc(i)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var n=e.target;return n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=gA(n)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case B.UP:case B.DOWN:this.navigate(e.key===B.UP)&&e.preventDefault();break}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(to(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(this.lastFocusedRowIndex==null)return!1;var n=this.lastFocusedRowIndex+(e?-1:1);return n<0||n>=this.model.getRowCount()?!1:(this.focusRow(n),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var n=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(n.isAlive()){var i=n.renderedRows.get(e);i&&i.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var n=this.renderedRows.get(e);return n&&n.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(n,i){return e(n.rowComponent,i)})},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'.concat(e,`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`).concat(e,`-virtual-list-container" ref="eContainer"></div>
            </div>`)},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e,n){n===void 0&&(n=!0);var i=this.model.getRowCount();if(typeof e!="number"||e<0||e>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;var o=e*this.rowHeight,s=o+this.rowHeight,a=this.getGui(),l=a.scrollTop,u=a.offsetHeight,c=l+u,d=n?0:this.rowHeight,f=l>o+d,p=c<s-d;if(f)return a.scrollTop=o,!0;if(p){var h=s-u;return a.scrollTop=h,!0}return!1},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var n=this;if(!(this.model==null||!this.isAlive())){var i=this.model.getRowCount();this.eContainer.style.height="".concat(i*this.rowHeight,"px"),FC(function(){return n.eContainer.clientHeight>=i*n.rowHeight},function(){n.isAlive()&&(n.canSoftRefresh(e)?n.drawVirtualRows(!0):(n.clearVirtualRows(),n.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(n,i){return e.removeRow(i)})},t.prototype.drawVirtualRows=function(e){if(!(!this.isAlive()||!this.model)){var n=this.getGui(),i=n.scrollTop,o=i+n.offsetHeight,s=Math.floor(i/this.rowHeight),a=Math.floor(o/this.rowHeight);this.ensureRowsRendered(s,a,e)}},t.prototype.ensureRowsRendered=function(e,n,i){var o=this;this.renderedRows.forEach(function(a,l){(l<e||l>n)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),i&&this.refreshRows();for(var s=e;s<=n;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},t.prototype.insertRow=function(e){var n=this,i=this.model.getRow(e),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),rn(o,this.ariaRole==="tree"?"treeitem":"option"),GC(o,this.model.getRowCount()),VC(o,e+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*e,"px");var s=this.componentCreator(i,o);s.addGuiEventListener("focusin",function(){return n.lastFocusedRowIndex=e}),o.appendChild(s.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:s,eDiv:o,value:i})},t.prototype.removeRow=function(e){var n=this.renderedRows.get(e);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,n=this.model.getRowCount();this.renderedRows.forEach(function(i,o){var s,a;if(o>=n)e.removeRow(o);else{var l=e.model.getRow(o);!((a=(s=e.model).areRowsEqual)===null||a===void 0)&&a.call(s,i.value,l)?e.componentUpdater(l,i.rowComponent):e.removeRow(o)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),r.prototype.destroy.call(this))},qp([w("resizeObserverService")],t.prototype,"resizeObserverService",void 0),qp([w("animationFrameService")],t.prototype,"animationFrameService",void 0),qp([oe("eContainer")],t.prototype,"eContainer",void 0),qp([ne],t.prototype,"postConstruct",null),t}(zh),UW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dh=function(){return Dh=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Dh.apply(this,arguments)},vR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WW=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,zW=function(r){UW(t,r);function t(e){var n=this,i,o;n=r.call(this,Dh(Dh({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(i=e?.template)!==null&&i!==void 0?i:WW,modalPicker:!1},e),{maxPickerHeight:(o=e?.maxPickerHeight)!==null&&o!==void 0?o:"calc(var(--ag-row-height) * 6.5)"}))||this,n.searchString="",n.highlightedItem=-1,n.lastRowHovered=-1,n.searchStringCreator=null;var s=e||{},a=s.cellRowHeight,l=s.value,u=s.valueList,c=s.searchStringCreator;return a!=null&&(n.cellRowHeight=a),l!==void 0&&(n.value=l),u!=null&&(n.values=u),c&&(n.searchStringCreator=c),n}return t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var n=this.config,i=n.allowTyping,o=n.placeholder;i?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var s=this.config.searchDebounceDelay,a=s===void 0?300:s;this.clearSearchString=$r(this.clearSearchString,a),this.renderSelectedValue(),i&&(this.eInput.onValueChange(function(l){return e.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},t.prototype.createLoadingElement=function(){var e=this.gridOptionsService.getDocument(),n=this.localeService.getLocaleTextFunc(),i=e.createElement("div");i.classList.add("ag-loading-text"),i.innerText=n("loadingOoo","Loading..."),this.eLoading=i},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new _O({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,_.EVENT_FIELD_PICKER_VALUE_SELECTED,function(u){e.onListValueSelected(u.value,u.fromEnterKey)});var n=this.cellRowHeight;n&&this.listComponent.setRowHeight(n);var i=this.listComponent.getGui(),o=this.listComponent.getAriaElement();this.addManagedListener(i,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(i,"mousedown",function(u){return u.preventDefault()}),i.classList.add("ag-rich-select-list");var s="ag-rich-select-list-".concat(this.listComponent.getCompId());o.setAttribute("id",s);var a=this.localeService.getLocaleTextFunc(),l=a(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Ro(o,l),jC(this.eWrapper,o)},t.prototype.renderSelectedValue=function(){var e=this,n=this,i=n.value,o=n.eDisplayField,s=n.config,a=this.config,l=a.allowTyping,u=a.initialInputValue,c=this.config.valueFormatter?this.config.valueFormatter(i):i;if(l){this.eInput.setValue(u??c);return}var d;s.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:c,api:this.gridOptionsService.api}));var f;if(d&&(f=d.newAgStackInstance()),f)fn(o),nw(f,o),f.then(function(h){e.addDestroyFunc(function(){return e.getContext().destroyBean(h)})});else if(X(this.value))o.innerText=c,o.classList.remove("ag-display-as-placeholder");else{var p=s.placeholder;X(p)?(o.innerHTML="".concat(Kt(p)),o.classList.add("ag-display-as-placeholder")):fn(o)}},t.prototype.getCurrentValueIndex=function(){var e=this,n=e.currentList,i=e.value;if(i==null||!n)return-1;for(var o=0;o<n.length;o++)if(n[o]===i)return o;return-1},t.prototype.highlightFilterMatch=function(){var e=this,n;(n=this.listComponent)===null||n===void 0||n.forEachRenderedRow(function(i,o){i.highlightString(e.searchString)})},t.prototype.highlightSelectedValue=function(e){var n=this,i;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(i=this.listComponent)===null||i===void 0||i.forEachRenderedRow(function(o,s){var a=e===-1?!1:n.highlightedItem===s;o.updateHighlighted(a)})},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return e&&this.setValueList({valueList:e}),this.listComponent},t.prototype.setSearchStringCreator=function(e){this.searchStringCreator=e},t.prototype.setValueList=function(e){var n=e.valueList,i=e.refresh;this.listComponent&&this.currentList!==n&&(this.currentList=n,this.listComponent.setModel({getRowCount:function(){return n.length},getRow:function(o){return n[o]}}),i&&(this.values?this.listComponent.refresh():(this.values=n,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},t.prototype.showPicker=function(){r.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},t.prototype.showCurrentValueInPicker=function(){var e,n;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((e=this.eLoading)===null||e===void 0)&&e.offsetParent&&((n=this.eLoading.parentElement)===null||n===void 0||n.removeChild(this.eLoading));var i=this.getCurrentValueIndex();i!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,r.prototype.beforeHidePicker.call(this)},t.prototype.onWrapperFocus=function(){if(this.eInput){var e=this.eInput.getFocusableElement();e.focus(),e.select()}},t.prototype.onWrapperFocusOut=function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()},t.prototype.buildSearchStringFromKeyboardEvent=function(e){var n=e.key;if(n===B.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!kh(e))return;e.preventDefault(),this.searchTextFromCharacter(n)},t.prototype.searchTextFromCharacter=function(e){this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.searchTextFromString=function(e){e==null&&(e=""),this.searchString=e,this.runSearch()},t.prototype.buildSearchStrings=function(e){var n=this.config.valueFormatter,i=n===void 0?function(s){return s}:n,o;return typeof e[0]=="number"||typeof e[0]=="string"?o=e.map(function(s){return i(s)}):typeof e[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(e)),o},t.prototype.getSuggestionsAndFilteredValues=function(e,n){var i=this,o=[],s=[];if(!e.length)return{suggestions:o,filteredValues:s};var a=this.config,l=a.searchType,u=l===void 0?"fuzzy":l,c=a.filterList;if(u==="fuzzy"){var d=ad(this.searchString,n,!0);o=d.values;var f=d.indices;if(c&&f.length)for(var p=0;p<f.length;p++)s.push(this.values[f[p]])}else o=n.filter(function(h,g){var v=h.toLocaleLowerCase(),m=i.searchString.toLocaleLowerCase(),C=u==="match"?v.startsWith(m):v.indexOf(m)!==-1;return c&&C&&s.push(i.values[g]),C});return{suggestions:o,filteredValues:s}},t.prototype.filterListModel=function(e){var n=this.config.filterList;n&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())},t.prototype.runSearch=function(){var e,n,i=this.values,o=this.buildSearchStrings(i);if(!o){this.highlightSelectedValue(-1);return}var s=this.getSuggestionsAndFilteredValues(this.searchString,o),a=s.suggestions,l=s.filteredValues,u=this.config,c=u.filterList,d=u.highlightMatch,f=u.searchType,p=f===void 0?"fuzzy":f,h=l.length,g=!!(c&&this.searchString!=="");if(this.filterListModel(g?l:i),a.length){var v=g?0:o.indexOf(a[0]);this.selectListItem(v)}else if(this.highlightSelectedValue(-1),!g||h)(e=this.listComponent)===null||e===void 0||e.ensureIndexVisible(0);else if(g){this.getAriaElement().removeAttribute("data-active-option");var m=(n=this.listComponent)===null||n===void 0?void 0:n.getAriaElement();m&&kC(m,null)}d&&p!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()},t.prototype.displayOrHidePicker=function(){var e,n=(e=this.listComponent)===null||e===void 0?void 0:e.getGui(),i=this.currentList?this.currentList.length===0:!1;n?.classList.toggle("ag-hidden",i)},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e,n){if(!(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)){var i=this.listComponent.ensureIndexVisible(e,!n);i&&!n&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}},t.prototype.setValue=function(e,n,i){var o=this.currentList?this.currentList.indexOf(e):-1;return o===-1?this:(this.value=e,i||this.selectListItem(o),this.renderSelectedValue(),r.prototype.setValue.call(this,e,n))},t.prototype.createRowComponent=function(e){var n=new LW(this.config,this.eWrapper);n.setParentComponent(this.listComponent),this.getContext().createBean(n),n.setState(e);var i=this.config,o=i.highlightMatch,s=i.searchType,a=s===void 0?"fuzzy":s;return o&&a!=="fuzzy"&&n.highlightString(this.searchString),n},t.prototype.getRowForMouseEvent=function(e){var n=this.listComponent;if(!n)return-1;var i=n?.getGui(),o=i.getBoundingClientRect(),s=n.getScrollTop(),a=e.clientY-o.top+s;return Math.floor(a/n.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var n=this.getRowForMouseEvent(e);n!==-1&&n!=this.lastRowHovered&&(this.lastRowHovered=n,this.selectListItem(n,!0))}},t.prototype.onNavigationKeyDown=function(e,n){e.preventDefault();var i=n===B.DOWN;if(!this.isPickerDisplayed&&i){this.showPicker();return}var o=this.highlightedItem,s=i?1:-1,a=o===-1?0:o+s;this.selectListItem(a)},t.prototype.onEnterKeyDown=function(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},t.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},t.prototype.onListValueSelected=function(e,n){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,n),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,n){var i={type:_.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:n,value:e};this.dispatchEvent(i)},t.prototype.getFocusableElement=function(){var e=this.config.allowTyping;return e?this.eInput.getFocusableElement():r.prototype.getFocusableElement.call(this)},t.prototype.onKeyDown=function(e){var n=e.key,i=this.config.allowTyping;switch(n){case B.LEFT:case B.RIGHT:case B.PAGE_HOME:case B.PAGE_END:i||e.preventDefault();break;case B.PAGE_UP:case B.PAGE_DOWN:e.preventDefault();break;case B.DOWN:case B.UP:this.onNavigationKeyDown(e,n);break;case B.ESCAPE:this.isPickerDisplayed&&(fr(this.listComponent.getGui())&&(e.preventDefault(),to(e)),this.hidePicker());break;case B.ENTER:this.onEnterKeyDown(e);break;case B.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(e)}},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,r.prototype.destroy.call(this)},vR([w("userComponentFactory")],t.prototype,"userComponentFactory",void 0),vR([oe("eInput")],t.prototype,"eInput",void 0),t}(QA),$W=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},KW=function(r){$W(t,r);function t(e){var n=r.call(this,e,t.TEMPLATE)||this;return n.labelAlignment="top",n}return t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var n=this,i=_.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(n.eText.getValue());n.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=n.eSlider.getValue();n.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:_.EVENT_FIELD_VALUE_CHANGED}),this)},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,Xp([oe("eLabel")],t.prototype,"eLabel",void 0),Xp([oe("eSlider")],t.prototype,"eSlider",void 0),Xp([oe("eText")],t.prototype,"eText",void 0),Xp([ne],t.prototype,"init",null),t}(qA),YW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ss=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qW=function(r){YW(t,r);function t(e){e===void 0&&(e={});var n=r.call(this,t.getTemplate(e))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var i=e.title,o=e.enabled,s=e.items,a=e.suppressEnabledCheckbox,l=e.suppressOpenCloseIcons;return n.title=i,n.cssIdentifier=e.cssIdentifier||"default",n.enabled=o??!0,n.items=s||[],n.alignItems=e.alignItems||"center",a!=null&&(n.suppressEnabledCheckbox=a),l!=null&&(n.suppressOpenCloseIcons=l),n}return t.getTemplate=function(e){var n=e.cssIdentifier||"default",i=e.direction||"vertical";return'<div class="ag-group ag-'.concat(n,`-group" role="presentation">
            <div class="ag-group-title-bar ag-`).concat(n,`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`).concat(n,`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`).concat(n,`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`).concat(n,`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`).concat(n,`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`).concat(i," ag-").concat(n,`-group-container"></div>
        </div>`)},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var n=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(n("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(zr("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(zr("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(n){switch(n.key){case B.ENTER:case B.SPACE:n.preventDefault(),e.toggleGroupExpand();break;case B.RIGHT:case B.LEFT:n.preventDefault(),e.toggleGroupExpand(n.key===B.RIGHT);break}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||yi(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;it(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),it(this.eGroupOpenedIcon,e&&this.expanded),it(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=e;var n="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(n),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),it(this.eContainer,!0),this):(e=e??!this.expanded,this.expanded===e?this:(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),it(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED}),this))},t.prototype.addItems=function(e){var n=this;e.forEach(function(i){return n.addItem(i)})},t.prototype.addItem=function(e){var n=this.eContainer,i=e instanceof ke?e.getGui():e;i.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),n.appendChild(i),this.items.push(i)},t.prototype.hideItem=function(e,n){var i=this.items[n];it(i,!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,n){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),n||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var n=this;return this.cbGroupEnabled.onValueChange(function(i){n.setEnabled(i,!0),e(i)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",ss([oe("eTitleBar")],t.prototype,"eTitleBar",void 0),ss([oe("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),ss([oe("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),ss([oe("eToolbar")],t.prototype,"eToolbar",void 0),ss([oe("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),ss([oe("eTitle")],t.prototype,"eTitle",void 0),ss([oe("eContainer")],t.prototype,"eContainer",void 0),ss([ne],t.prototype,"postConstruct",null),t}(ke),XW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Th=function(){return Th=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Th.apply(this,arguments)},mR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QW=function(r){XW(t,r);function t(e){e===void 0&&(e=1);var n=r.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=e,n.menuItems=[],n}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}})},t.prototype.onTabKeyDown=function(e){var n=this.getParentComponent(),i=n&&n.getGui(),o=i&&i.classList.contains("ag-focus-managed");o||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case B.UP:case B.RIGHT:case B.DOWN:case B.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case B.ESCAPE:var n=this.findTopMenu();n&&this.focusService.focusInto(n.getGui());break}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var n=this;e?.forEach(function(i){i==="separator"?n.addSeparator():typeof i=="string"?console.warn("AG Grid: unrecognised menu item ".concat(i)):n.addItem(i)})},t.prototype.addItem=function(e){var n=this,i=this.createManagedBean(new Ac(Th(Th({},e),{isAnotherSubMenuOpen:function(){return n.menuItems.some(function(o){return o.isSubMenuOpen()})}})));i.setParentComponent(this),yA(i.getGui(),this.level),this.menuItems.push(i),this.appendChild(i.getGui()),this.addManagedListener(i,Ac.EVENT_MENU_ITEM_SELECTED,function(o){n.dispatchEvent(o)}),this.addManagedListener(i,Ac.EVENT_MENU_ITEM_ACTIVATED,function(o){n.activeMenuItem&&n.activeMenuItem!==o.menuItem&&n.activeMenuItem.deactivate(),n.activeMenuItem=o.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(n){return!n.isDisabled()})[0];e&&e.activate()},t.prototype.addSeparator=function(){var e=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(Cn(e))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var n=e&&e.getParentComponent&&e.getParentComponent();if(!n||!(n instanceof t||n instanceof Ac))break;e=n}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case B.UP:case B.DOWN:var n=this.findNextItem(e===B.UP);n&&n!==this.activeMenuItem&&n.activate();return}var i=this.gridOptionsService.get("enableRtl")?B.RIGHT:B.LEFT;e===i?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var n=this.getParentComponent();n&&n instanceof Ac&&(e&&e.preventDefault(),n.closeSubMenu(),n.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var n=this.menuItems.filter(function(l){return!l.isDisabled()});if(n.length){if(!this.activeMenuItem)return e?ut(n):n[0];e&&n.reverse();for(var i,o=!1,s=0;s<n.length;s++){var a=n[s];if(!o){a===this.activeMenuItem&&(o=!0);continue}i=a;break}return i||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),r.prototype.destroy.call(this)},mR([w("focusService")],t.prototype,"focusService",void 0),mR([ne],t.prototype,"postConstruct",null),t}(zh),ZW=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),JW=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},e8=function(r){ZW(t,r);function t(e){var n=r.call(this)||this;return n.wrappedComponent=e,n.setTemplateFromElement(e.getGui()),n}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}})},t.prototype.handleKeyDown=function(e){e.key===B.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},JW([ne],t.prototype,"postConstruct",null),t}(zh),t8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ac=function(r){t8(t,r);function t(e){var n=r.call(this)||this;return n.params=e,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'.concat(n.getClassName(),'" tabindex="-1" role="treeitem"></div>')),n}return t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var n=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),LC(n,!0)):(this.addGuiEventListener("click",function(i){return e.onItemSelected(i)}),this.addGuiEventListener("keydown",function(i){(i.key===B.ENTER||i.key===B.SPACE)&&(i.preventDefault(),e.onItemSelected(i))}),this.addGuiEventListener("mousedown",function(i){i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(i){return e.addCssClass(i)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var n=this;if(e===void 0&&(e=!1),this.closeSubMenu(),!!this.params.subMenu){var i=Cn('<div class="ag-menu" role="presentation"></div>'),o;if(this.params.subMenu instanceof Array){var s=hA(this.getGui()),a=isNaN(s)?1:s+1,l=this.createBean(new QW(a));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),i.appendChild(l.getGui()),this.addManagedListener(l,t.EVENT_MENU_ITEM_SELECTED,function(C){return n.dispatchEvent(C)}),l.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),o=function(){return n.destroyBean(l)},e&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new e8(u));c.setParentComponent(this);var d=c.getGui(),f="mouseenter",p=function(){return n.cancelDeactivate()};d.addEventListener(f,p),o=function(){return d.removeEventListener(f,p)},i.appendChild(d),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var h=this.getGui(),g=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:h,ePopup:i}),v=this.localeService.getLocaleTextFunc(),m=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:g,anchorToElement:h,ariaLabel:v("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,yi(h,!0),this.hideSubMenu=function(){m&&m.hideFunc(),n.subMenuIsOpen=!1,yi(h,!1),o()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,yi(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var n=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){n.isAlive()&&n.isActive&&n.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var e=Cn('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?e.appendChild(Ht("check",this.gridOptionsService)):this.params.icon&&(sd(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var e=Cn('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.get("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new ow(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var e=Cn('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var e=Cn('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),n=this.getGui();if(this.params.subMenu){var i=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";yi(n,!1),e.appendChild(Ht(i,this.gridOptionsService))}n.appendChild(e)}},t.prototype.onItemSelected=function(e){if(this.params.action?this.params.action():this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var n={type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(n)}},t.prototype.onItemActivated=function(){var e={type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var n=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?"".concat(n,"-").concat(e):n},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,yR([w("popupService")],t.prototype,"popupService",void 0),yR([ne],t.prototype,"init",null),t}(ke),n8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Oc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SO=function(r){n8(t,r);function t(e){var n=r.call(this,t.getTemplate(e))||this;return n.closable=!0,n.config=e,n}return t.getTemplate=function(e){var n=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(n,`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`).concat(n,`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`).concat(n,`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`).concat(n,`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`).concat(n,`-panel-content-wrapper"></div>
        </div>`)},t.prototype.postConstruct=function(){var e=this,n=this.config,i=n.component,o=n.closable,s=n.hideTitleBar,a=n.title,l=n.minWidth,u=l===void 0?250:l,c=n.width,d=n.minHeight,f=d===void 0?250:d,p=n.height,h=n.centered,g=n.popup,v=n.x,m=n.y;this.positionableFeature=new YA(this.getGui(),{minWidth:u,width:c,minHeight:f,height:p,centered:h,x:v,y:m,popup:g,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var C=this.getGui();i&&this.setBodyComponent(i),s?it(this.eTitleBar,!1):(a&&this.setTitle(a),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(y){var x=e.gridOptionsService.getDocument();if(C.contains(y.relatedTarget)||C.contains(x.activeElement)||e.eTitleBarButtons.contains(y.target)){y.preventDefault();return}var P=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");P&&P.focus()}),!(g&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,n=this.getGui();n.focus(),this.close=function(){n.parentElement.removeChild(n),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var n=this.closeButtonComp=new ke(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var i=n.getGui(),o=Ht("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,n){var i=this.eTitleBarButtons,o=i.children,s=o.length;n==null&&(n=s),n=Math.max(0,Math.min(n,s)),e.addCssClass("ag-panel-title-bar-button");var a=e.getGui();n===0?i.insertAdjacentElement("afterbegin",a):n===s?i.insertAdjacentElement("beforeend",a):o[n-1].insertAdjacentElement("afterend",a),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return od(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return xa(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&fr(e)&&this.close(),r.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Oc([oe("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Oc([oe("eTitleBar")],t.prototype,"eTitleBar",void 0),Oc([oe("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Oc([oe("eTitle")],t.prototype,"eTitle",void 0),Oc([ne],t.prototype,"postConstruct",null),t}(ke),r8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rh=function(){return Rh=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Rh.apply(this,arguments)},i8=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},o8=function(r){r8(t,r);function t(e){var n=r.call(this,Rh(Rh({},e),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return t.prototype.postConstruct=function(){var e=this,n=this.getGui(),i=this.config,o=i.movable,s=i.resizable,a=i.maximizable;this.addCssClass("ag-dialog"),r.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(l){n.contains(l.relatedTarget)||e.popupService.bringPopupToFront(n)}),o&&this.setMovable(o),a&&this.setMaximizable(a),s&&this.setResizable(s)},t.prototype.renderComponent=function(){var e=this.getGui(),n=this.config,i=n.alwaysOnTop,o=n.modal,s=n.title,a=n.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:i,ariaLabel:s||l("ariaLabelDialog","Dialog"),afterGuiAttached:a});u&&(this.close=u.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var n=this.lastPosition,i=n.x,o=n.y,s=n.width,a=n.height;this.setWidth(s),this.setHeight(a),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){it(this.maximizeIcon,!this.isMaximized),it(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),r.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var n=this;if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var i=this.eTitleBar;if(!(!i||e===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){n.isMaximized=!1,n.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new ke('<div class="ag-dialog-button"></span>')),n=e.getGui();return this.maximizeIcon=Ht("maximize",this.gridOptionsService),n.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Ht("minimize",this.gridOptionsService),n.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},i8([w("popupService")],t.prototype,"popupService",void 0),t}(SO),s8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ah=function(){return Ah=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ah.apply(this,arguments)},bc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CR=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},wR=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},_R=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},fa=function(r){return r[r.vertical=0]="vertical",r[r.horizontal=1]="horizontal",r}(fa||{}),a8=0,l8=function(r){s8(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.popupList=[],n}e=t,t.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(i){n.gridCtrl=i.gridCtrl}),this.addManagedListener(this.eventService,_.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},t.prototype.getPopupParent=function(){var n=this.gridOptionsService.get("popupParent");return n||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(n){var i=n.eventSource,o=n.ePopup,s=this.getPopupIndex(o);if(s!==-1){var a=this.popupList[s];a.alignedToElement=i}var l=i.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(o,l.top-u.top,fa.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(d,"px");var f=u.right-u.left,p=f-d,h;this.gridOptionsService.get("enableRtl")?(h=v(),h<0&&(h=g(),this.setAlignedStyles(o,"left")),h>p&&(h=0,this.setAlignedStyles(o,"right"))):(h=g(),h>p&&(h=v(),this.setAlignedStyles(o,"right")),h<0&&(h=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(h,"px"),o.style.top="".concat(c,"px");function g(){return l.right-u.left-2}function v(){return l.left-u.left-d}},t.prototype.positionPopupUnderMouseEvent=function(n){var i=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,l=n.skipObserver;this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return i.calculatePointerAlign(n.mouseEvent)},postProcessCallback:function(){return i.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)}})},t.prototype.calculatePointerAlign=function(n){var i=this.getParentRect();return{x:n.clientX-i.left,y:n.clientY-i.top}},t.prototype.positionPopupByComponent=function(n){var i=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,l=n.keepWithinBounds,u=n.eventSource,c=n.alignSide,d=c===void 0?"left":c,f=n.position,p=f===void 0?"over":f,h=n.column,g=n.rowNode,v=n.type,m=u.getBoundingClientRect(),C=this.getParentRect(),y=this.getPopupIndex(o);if(y!==-1){var x=this.popupList[y];x.alignedToElement=u}var P=function(){var R=m.left-C.left;d==="right"&&(R-=o.offsetWidth-m.width);var E;if(p==="over")E=m.top-C.top,i.setAlignedStyles(o,"over");else{i.setAlignedStyles(o,"under");var O=i.shouldRenderUnderOrAbove(o,m,C,n.nudgeY||0);O==="under"?E=m.top-C.top+m.height:E=m.top-o.offsetHeight-(a||0)*2-C.top}return{x:R,y:E}};this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:l,updatePosition:P,postProcessCallback:function(){return i.callPostProcessPopup(v,o,u,null,h,g)}})},t.prototype.shouldRenderUnderOrAbove=function(n,i,o,s){var a=o.bottom-i.bottom,l=i.top-o.top,u=n.offsetHeight+s;return a>u?"under":l>u||l>a?"above":"under"},t.prototype.setAlignedStyles=function(n,i){var o=this.getPopupIndex(n);if(o!==-1){var s=this.popupList[o],a=s.alignedToElement;if(a){var l=["right","left","over","above","under"];l.forEach(function(u){a.classList.remove("ag-has-popup-positioned-".concat(u)),n.classList.remove("ag-popup-positioned-".concat(u))}),i&&(a.classList.add("ag-has-popup-positioned-".concat(i)),n.classList.add("ag-popup-positioned-".concat(i)))}}},t.prototype.callPostProcessPopup=function(n,i,o,s,a,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:a,rowNode:l,ePopup:i,type:n,eventSource:o,mouseEvent:s};u(c)}},t.prototype.positionPopup=function(n){var i=this,o=n.ePopup,s=n.keepWithinBounds,a=n.nudgeX,l=n.nudgeY,u=n.skipObserver,c=n.updatePosition,d={width:0,height:0},f=function(h){h===void 0&&(h=!1);var g=c(),v=g.x,m=g.y;h&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,a&&(v+=a),l&&(m+=l),s&&(v=i.keepXYWithinBounds(o,v,fa.horizontal),m=i.keepXYWithinBounds(o,m,fa.vertical)),o.style.left="".concat(v,"px"),o.style.top="".concat(m,"px"),n.postProcessCallback&&n.postProcessCallback())};if(f(),!u){var p=this.resizeObserverService.observeResize(o,function(){return f(!0)});setTimeout(function(){return p()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var n=this.gridOptionsService.getDocument(),i=this.getPopupParent();return i===n.body?i=n.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),QC(i)},t.prototype.keepXYWithinBounds=function(n,i,o){var s=o===fa.vertical,a=s?"clientHeight":"clientWidth",l=s?"top":"left",u=s?"offsetHeight":"offsetWidth",c=s?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),f=d.documentElement,p=this.getPopupParent(),h=p.getBoundingClientRect(),g=d.documentElement.getBoundingClientRect(),v=p===d.body,m=n[u],C=s?XC:Qc,y=v?C(f)+f[c]:p[a];v&&(y-=Math.abs(g[l]-h[l]));var x=y-m;return Math.min(Math.max(i,0),Math.abs(x))},t.prototype.addPopup=function(n){var i=this.gridOptionsService.getDocument(),o=n.eChild,s=n.ariaLabel,a=n.alwaysOnTop,l=n.positionCallback,u=n.anchorToElement;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var c=this.getPopupIndex(o);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var f=this.createPopupWrapper(o,s,!!a),p=this.addEventListenersToPopup(Ah(Ah({},n),{wrapperEl:f}));return l&&l(),this.addPopupToPopupList(o,f,p,u),{hideFunc:p}},t.prototype.initialisePopupPosition=function(n){var i=this.getPopupParent(),o=i.getBoundingClientRect();X(n.style.top)||(n.style.top="".concat(o.top*-1,"px")),X(n.style.left)||(n.style.left="".concat(o.left*-1,"px"))},t.prototype.createPopupWrapper=function(n,i,o){var s,a=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(s=l.classList).add.apply(s,wR([],CR(u),!1)),l.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||rn(n,"dialog"),Ro(n,i),l.appendChild(n),a.appendChild(l),o?this.setAlwaysOnTop(n,!0):this.bringPopupToFront(n),l},t.prototype.handleThemeChange=function(){var n,i,o,s,a,l=this.environment.getTheme().allThemes;try{for(var u=_R(this.popupList),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var f=(o=void 0,_R(Array.from(d.wrapper.classList))),p=f.next();!p.done;p=f.next()){var h=p.value;h.startsWith("ag-theme-")&&d.wrapper.classList.remove(h)}}catch(g){o={error:g}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}l.length&&(a=d.wrapper.classList).add.apply(a,wR([],CR(l),!1))}}catch(g){n={error:g}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}},t.prototype.addEventListenersToPopup=function(n){var i=this,o=this.gridOptionsService.getDocument(),s=this.getPopupParent(),a=n.wrapperEl,l=n.eChild;n.click;var u=n.closedCallback,c=n.afterGuiAttached,d=n.closeOnEsc,f=n.modal,p=!1,h=function(C){if(a.contains(o.activeElement)){var y=C.key;y===B.ESCAPE&&!Ci(C)&&m({keyboardEvent:C})}},g=function(C){return m({mouseEvent:C})},v=function(C){return m({touchEvent:C})},m=function(C){C===void 0&&(C={});var y=C.mouseEvent,x=C.touchEvent,P=C.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:y,touchEvent:x},l)||p||(p=!0,s.removeChild(a),o.removeEventListener("keydown",h),o.removeEventListener("mousedown",g),o.removeEventListener("touchstart",v),o.removeEventListener("contextmenu",g),i.eventService.removeEventListener(_.EVENT_DRAG_STARTED,g),u&&u(y||x||P),i.removePopupFromPopupList(l))};return c&&c({hidePopup:m}),window.setTimeout(function(){d&&o.addEventListener("keydown",h),f&&(o.addEventListener("mousedown",g),i.eventService.addEventListener(_.EVENT_DRAG_STARTED,g),o.addEventListener("touchstart",v),o.addEventListener("contextmenu",g))},0),m},t.prototype.addPopupToPopupList=function(n,i,o,s){this.popupList.push({element:n,wrapper:i,hideFunc:o,instanceId:a8++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(n,s)},t.prototype.getPopupIndex=function(n){return this.popupList.findIndex(function(i){return i.element===n})},t.prototype.setPopupPositionRelatedToElement=function(n,i){var o=this.getPopupIndex(n);if(o!==-1){var s=this.popupList[o];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(function(l){return l&&l()}),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!!i){var a=this.keepPopupPositionedRelativeTo({element:i,ePopup:n,hidePopup:s.hideFunc});return s.stopAnchoringPromise=a,s.isAnchored=!0,a}}},t.prototype.removePopupFromPopupList=function(n){this.setAlignedStyles(n,null),this.setPopupPositionRelatedToElement(n,null),this.popupList=this.popupList.filter(function(i){return i.element!==n})},t.prototype.keepPopupPositionedRelativeTo=function(n){var i=this,o=this.getPopupParent(),s=o.getBoundingClientRect(),a=n.element,l=n.ePopup,u=a.getBoundingClientRect(),c=s.top-u.top,d=s.left-u.left,f=c,p=d,h=l.style.top,g=parseInt(h.substring(0,h.length-1),10),v=l.style.left,m=parseInt(v.substring(0,v.length-1),10);return new Rr(function(C){i.getFrameworkOverrides().setInterval(function(){var y=o.getBoundingClientRect(),x=a.getBoundingClientRect(),P=x.top==0&&x.left==0&&x.height==0&&x.width==0;if(P){n.hidePopup();return}var R=y.top-x.top;if(R!=f){var E=i.keepXYWithinBounds(l,g+c-R,fa.vertical);l.style.top="".concat(E,"px")}f=R;var O=y.left-x.left;if(O!=p){var I=i.keepXYWithinBounds(l,m+d-O,fa.horizontal);l.style.left="".concat(I,"px")}p=O},200).then(function(y){var x=function(){y!=null&&window.clearInterval(y)};C(x)})})},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},t.prototype.isEventFromCurrentPopup=function(n,i){var o=n.mouseEvent,s=n.touchEvent,a=o||s;if(!a)return!1;var l=this.getPopupIndex(i);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(fh(c.element,a))return!0}return this.isElementWithinCustomPopup(a.target)},t.prototype.isElementWithinCustomPopup=function(n){for(var i=this.gridOptionsService.getDocument();n&&n!==i.body;){if(n.classList.contains("ag-custom-component-popup")||n.parentElement===null)return!0;n=n.parentElement}return!1},t.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},t.prototype.setAlwaysOnTop=function(n,i){var o=this.getWrapper(n);o&&(o.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(n){var i=this.getPopupParent(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),s=o.length,a=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),l=a.length,u=this.getWrapper(n);if(!(!u||s<=1||!i.contains(n))){var c=o.indexOf(u),d=u.querySelectorAll("div"),f=[];if(d.forEach(function(v){v.scrollTop!==0&&f.push([v,v.scrollTop])}),l){var p=u.classList.contains("ag-always-on-top");p?c!==s-1&&ut(a).insertAdjacentElement("afterend",u):c!==s-l-1&&a[0].insertAdjacentElement("beforebegin",u)}else c!==s-1&&ut(o).insertAdjacentElement("afterend",u);for(;f.length;){var h=f.pop();h[0].scrollTop=h[1]}var g={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:u};this.eventService.dispatchEvent(g)}};var e;return t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,bc([w("focusService")],t.prototype,"focusService",void 0),bc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),bc([w("resizeObserverService")],t.prototype,"resizeObserverService",void 0),bc([ne],t.prototype,"postConstruct",null),t=e=bc([fe("popupService")],t),t}(Q),u8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),c8=function(r){u8(t,r);function t(){var e=r.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return e.hasHighlighting=!1,e}return t.prototype.setState=function(e,n){this.value=e,this.render(),this.updateSelected(n)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var n,i=!1;if(X(e)){var o=(n=this.value)===null||n===void 0?void 0:n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){i=!0,this.hasHighlighting=!0;var s=o+e.length,a=Kt(this.value.slice(0,o)),l=Kt(this.value.slice(o,s)),u=Kt(this.value.slice(s));this.getGui().lastElementChild.innerHTML="".concat(a,"<b>").concat(l,"</b>").concat(u)}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=(e=Kt(this.value))!==null&&e!==void 0?e:"&nbsp;"},t}(ke),d8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),SR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},f8=function(r){d8(t,r);function t(e){var n=r.call(this,t.TEMPLATE)||this;return n.params=e,n.searchString="",n}return t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new _O({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(i){return e.autocompleteEntries[i]}});var n=this.virtualList.getGui();this.addManagedListener(n,"click",function(){return e.params.onConfirmed()}),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",function(i){return i.preventDefault()}),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,n){e.preventDefault();var i=this.autocompleteEntries.indexOf(this.selectedValue),o=n===B.UP?i-1:i+1;this.checkSetSelectedValue(o)},t.prototype.setSearch=function(e){this.searchString=e,X(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,n){var i,o=!1,s=e.toLocaleLowerCase(),a=n.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(s),d=c===0,f=c>=0;return f&&(!i||!o&&d||o===d&&l.length<i.length)&&(i=l,o=d),f});return!i&&a.length&&(i=a[0]),{topMatch:i,allMatches:a}},t.prototype.runSearch=function(){var e,n,i=this.params.autocompleteEntries,o=i.map(function(d){var f;return(f=d.displayValue)!==null&&f!==void 0?f:d.key}),s,a;if(this.params.useFuzzySearch)s=ad(this.searchString,o,!0).values,a=s.length?s[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);s=l.allMatches,a=l.topMatch}var u=i.filter(function(d){var f=d.key,p=d.displayValue;return s.includes(p??f)});if(!u.length&&this.selectedValue&&(!((n=(e=this.params)===null||e===void 0?void 0:e.forceLastSelection)===null||n===void 0)&&n.call(e,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!a){var c=s.indexOf(a);this.checkSetSelectedValue(c)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow(function(n){return n.setSearchString(e.searchString)})},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var n=this.autocompleteEntries[e];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(i,o){i.updateSelected(e===o)}))},t.prototype.createRowComponent=function(e){var n,i=new c8;return this.getContext().createBean(i),i.setState((n=e.displayValue)!==null&&n!==void 0?n:e.key,e===this.selectedValue),i},t.prototype.onMouseMove=function(e){var n=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),o=e.clientY-n.top+i,s=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!==null&&e!==void 0?e:null},t.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,SR([oe("eList")],t.prototype,"eList",void 0),SR([ne],t.prototype,"init",null),t}(Ta),p8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},h8=function(r){p8(t,r);function t(){var e=r.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange(function(n){return e.onValueChanged(n)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){e.destroyBean(e.autocompleteList)}),this.addGuiEventListener("focusout",function(){return e.onFocusOut()})},t.prototype.onValueChanged=function(e){var n=Ji(e);this.updateValue(n),this.updateAutocompleteList(n)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var n,i,o,s,a=(i=(n=this.listGenerator)===null||n===void 0?void 0:n.call(this,e,this.lastPosition))!==null&&i!==void 0?i:{enabled:!1};if((!a.type||a.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=a,!((s=this.autocompleteListParams)===null||s===void 0)&&s.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var n=this,i=e.key;switch(this.updateLastPosition(),i){case B.ENTER:this.onEnterKeyDown(e);break;case B.TAB:this.onTabKeyDown(e);break;case B.DOWN:case B.UP:this.onUpDownKeyDown(e,i);break;case B.LEFT:case B.RIGHT:case B.PAGE_HOME:case B.PAGE_END:setTimeout(function(){n.updatePositionAndList()});break;case B.ESCAPE:this.onEscapeKeyDown(e);break;case B.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}},t.prototype.confirmSelection=function(){var e,n=(e=this.autocompleteList)===null||e===void 0?void 0:e.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,n){var i;e.preventDefault(),this.isListOpen?(i=this.autocompleteList)===null||i===void 0||i.onNavigationKeyDown(e,n):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!==null&&e!==void 0?e:null)},t.prototype.setCaret=function(e,n){var i=this.gridOptionsService.getDocument();n&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(e,e),e===o.value.length&&(o.scrollLeft=o.scrollWidth)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&e!==void 0?e:0},t.prototype.validate=function(e){var n;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((n=this.validationMessage)!==null&&n!==void 0?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new f8({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var n=this.autocompleteList.getGui(),i={ePopup:n,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:n,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(i)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return Ji(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var n=e.value,i=e.position,o=e.silent,s=e.updateListOnlyIfOpen,a=e.restoreFocus;this.eAutocompleteInput.setValue(n,!0),this.setCaret(i??this.lastPosition,a),o||this.updateValue(n),(!s||this.isListOpen)&&this.updateAutocompleteList(n)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",Wy([w("popupService")],t.prototype,"popupService",void 0),Wy([oe("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),Wy([ne],t.prototype,"postConstruct",null),t}(ke),g8=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],v8=["touchstart","touchend","touchmove","touchcancel"],vw=function(){function r(t){t===void 0&&(t="javascript"),this.frameworkName=t,this.renderingEngine="vanilla",this.isOutsideAngular=function(e){return Kr(g8,e)}}return r.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},r.prototype.setInterval=function(t,e){return new Rr(function(n){n(window.setInterval(t,e))})},r.prototype.addEventListener=function(t,e,n,i){var o=Kr(v8,e);t.addEventListener(e,n,{capture:!!i,passive:o})},r.prototype.dispatchEvent=function(t,e,n){e()},r.prototype.frameworkComponent=function(t){return null},r.prototype.isFrameworkComponent=function(t){return!1},r.prototype.getDocLink=function(t){var e=this.frameworkName==="solid"?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(e,"-data-grid").concat(t?"/".concat(t):"")},r}(),m8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),bl=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y8=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},C8=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},w8=function(r){m8(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getNextCellToFocus=function(e,n,i){return i===void 0&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(e,n):this.getNextCellToFocusWithoutCtrlPressed(e,n)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,n){var i=e===B.UP,o=e===B.DOWN,s=e===B.LEFT,a,l;if(i||o)l=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),a=n.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.get("enableRtl");l=n.rowIndex,a=s!==c?u[0]:ut(u)}return{rowIndex:l,rowPinned:null,column:a}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,n){for(var i=n,o=!1;!o;){switch(e){case B.UP:i=this.getCellAbove(i);break;case B.DOWN:i=this.getCellBelow(i);break;case B.RIGHT:this.gridOptionsService.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case B.LEFT:this.gridOptionsService.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e);break}i?o=this.isCellGoodToFocusOn(i):o=!0}return i},t.prototype.isCellGoodToFocusOn=function(e){var n=e.column,i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}if(!i)return!1;var o=n.isSuppressNavigable(i);return!o},t.prototype.getCellToLeft=function(e){if(!e)return null;var n=this.columnModel.getDisplayedColBefore(e.column);return n?{rowIndex:e.rowIndex,column:n,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var n=this.columnModel.getDisplayedColAfter(e.column);return n?{rowIndex:e.rowIndex,column:n,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var n=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(e.rowIndex),s=this.getNextStickyPosition(o);return s||{rowIndex:n+1,rowPinned:i}},t.prototype.getNextStickyPosition=function(e,n){if(!(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)){var i=C8([],y8(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=n?-1:1,s=i.findIndex(function(l){return l.getRowNode().rowIndex===e.rowIndex}),a=i[s+o];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var n=this.getRowBelow(e);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var n=e.rowPinned,i=e.rowIndex;if(n==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=i}if(n==="bottom"){var s=this.pinnedRowModel.getPinnedBottomRowData().length-1;return s<=i}var a=this.paginationProxy.getPageLastRow();return a<=i},t.prototype.getRowAbove=function(e){var n=e.rowIndex,i=e.rowPinned,o=i?n===0:n===this.paginationProxy.getPageFirstRow();if(o)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(e.rowIndex),a=this.getNextStickyPosition(s,!0);return a||{rowIndex:n-1,rowPinned:i}},t.prototype.getCellAbove=function(e){if(!e)return null;var n=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null},t.prototype.getLastBodyCell=function(){var e=this.paginationProxy.getPageLastRow();return{rowIndex:e,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){var e=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:e,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,n){return n?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var n=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,s=this.columnModel.getDisplayedColAfter(e.column);if(!s){s=n[0];var a=this.getRowBelow(e);if(Oe(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var n=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,s=this.columnModel.getDisplayedColBefore(e.column);if(!s){s=ut(n);var a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Oe(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}},bl([w("columnModel")],t.prototype,"columnModel",void 0),bl([w("rowModel")],t.prototype,"rowModel",void 0),bl([w("rowRenderer")],t.prototype,"rowRenderer",void 0),bl([w("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),bl([w("paginationProxy")],t.prototype,"paginationProxy",void 0),t=bl([fe("cellNavigationService")],t),t}(Q),_8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},S8=function(r,t){return function(e,n){t(e,n,r)}},E8=function(r){_8(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.consuming=!1,e}return t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.getAlignedGridApis=function(){var e=this,n,i=(n=this.gridOptionsService.get("alignedGrids"))!==null&&n!==void 0?n:[],o=typeof i=="function";typeof i=="function"&&(i=i());var s=function(){return"See ".concat(e.getFrameworkOverrides().getDocLink("aligned-grids"))},a=i.map(function(l){var u;if(!l){mi("alignedGrids contains an undefined option."),o||mi(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),mi(s());return}if(l instanceof gO)return l;var c=l;return"current"in c?(u=c.current)===null||u===void 0?void 0:u.api:(c.api||mi("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(s())),c.api)}).filter(function(l){return!!l&&!l.isDestroyed()});return a},t.prototype.init=function(){this.addManagedListener(this.eventService,_.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,_.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){this.consuming||this.getAlignedGridApis().forEach(function(n){var i=n.__getAlignedGridService();e(i)})},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(n){n.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){e.direction==="horizontal"&&this.fireEvent(function(n){n.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var n=this;this.onEvent(function(){var i=n.ctrlsService.getGridBodyCtrl();i.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})},t.prototype.getMasterColumns=function(e){var n=[];return e.columns?e.columns.forEach(function(i){n.push(i)}):e.column&&n.push(e.column),n},t.prototype.getColumnIds=function(e){var n=[];return e.columns?e.columns.forEach(function(i){n.push(i.getColId())}):e.column&&n.push(e.column.getColId()),n},t.prototype.onColumnEvent=function(e){var n=this;this.onEvent(function(){switch(e.type){case _.EVENT_COLUMN_MOVED:case _.EVENT_COLUMN_VISIBLE:case _.EVENT_COLUMN_PINNED:case _.EVENT_COLUMN_RESIZED:var i=e;n.processColumnEvent(i);break;case _.EVENT_COLUMN_GROUP_OPENED:var o=e;n.processGroupOpenedEvent(o);break;case _.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},t.prototype.processGroupOpenedEvent=function(e){var n=this;e.columnGroups.forEach(function(i){var o=null;if(i){var s=i.getGroupId();o=n.columnModel.getProvidedColumnGroup(s)}i&&!o||(n.logger.log("onColumnEvent-> processing "+e+" expanded = "+i.isExpanded()),n.columnModel.setColumnGroupOpened(o,i.isExpanded(),"alignedGridChanged"))})},t.prototype.processColumnEvent=function(e){var n=this,i,o=e.column,s=null;if(o&&(s=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!s)){var a=this.getMasterColumns(e);switch(e.type){case _.EVENT_COLUMN_MOVED:{var l=e,u=e.api.getColumnState(),c=u.map(function(m){return{colId:m.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," toIndex = ").concat(l.toIndex))}break;case _.EVENT_COLUMN_VISIBLE:{var d=e,u=e.api.getColumnState(),c=u.map(function(y){return{colId:y.colId,hide:y.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," visible = ").concat(d.visible))}break;case _.EVENT_COLUMN_PINNED:{var f=e,u=e.api.getColumnState(),c=u.map(function(y){return{colId:y.colId,pinned:y.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," pinned = ").concat(f.pinned))}break;case _.EVENT_COLUMN_RESIZED:var p=e,h={};a.forEach(function(m){n.logger.log("onColumnEvent-> processing ".concat(e.type," actualWidth = ").concat(m.getActualWidth())),h[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()}}),(i=p.flexColumns)===null||i===void 0||i.forEach(function(m){h[m.getId()]&&delete h[m.getId()]}),this.columnModel.setColumnWidths(Object.values(h),!1,p.finished,"alignedGridChanged");break}var g=this.ctrlsService.getGridBodyCtrl(),v=g.isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(m){m.setGridOption("alwaysShowVerticalScroll",v)})}},Fc([w("columnModel")],t.prototype,"columnModel",void 0),Fc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Fc([S8(0,ur("loggerFactory"))],t.prototype,"setBeans",null),Fc([ne],t.prototype,"init",null),t=Fc([fe("alignedGridsService")],t),t}(Q),x8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ic=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},D8=function(r,t){return function(e,n){t(e,n,r)}},EO=function(r){x8(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.selectedNodes=new Map,e}return t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.resetNodes()},t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){e.groupSelectsChildren=e.gridOptionsService.get("groupSelectsChildren"),e.rowSelection=e.gridOptionsService.get("rowSelection"),e.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,_.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},t.prototype.setNodesSelected=function(e){var n;if(e.nodes.length===0)return 0;var i=e.newValue,o=e.clearSelection,s=e.suppressFinishActions,a=e.rangeSelect;e.event;var l=e.source,u=l===void 0?"api":l;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var c=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,d=e.nodes.map(function(P){return P.footer?P.sibling:P});if(a){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var f=this.getLastSelectedNode();if(f){var p=d[0],h=f!==p;if(h&&this.isMultiselect())return this.selectRange(p,f,e.newValue,u)}}for(var g=0,v=0;v<d.length;v++){var p=d[v],m=c&&p.group;if(!m){var C=p.selectThisNode(i,e.event,u);C&&g++}this.groupSelectsChildren&&(!((n=p.childrenAfterGroup)===null||n===void 0)&&n.length)&&(g+=this.selectChildren(p,i,c,u))}if(!s){var y=i&&(o||!this.isMultiselect());if(y&&(g+=this.clearOtherNodes(d[0],u)),g>0){this.updateGroupsFromChildrenSelections(u);var x={type:_.EVENT_SELECTION_CHANGED,source:u};this.eventService.dispatchEvent(x)}}return g},t.prototype.selectRange=function(e,n,i,o){var s=this;i===void 0&&(i=!0);var a=this.rowModel.getNodesInRangeForSelection(e,n),l=0;a.forEach(function(c){if(!(c.group&&s.groupSelectsChildren||i===!1&&e===c)){var d=c.selectThisNode(i,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var u={type:_.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(u),l},t.prototype.selectChildren=function(e,n,i,o){var s=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return Oe(s)?0:this.setNodesSelected({newValue:n,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o,nodes:s})},t.prototype.getLastSelectedNode=function(){var e=Array.from(this.selectedNodes.keys());if(e.length==0)return null;var n=this.selectedNodes.get(ut(e));return n||null},t.prototype.getSelectedNodes=function(){var e=[];return this.selectedNodes.forEach(function(n){n&&e.push(n)}),e},t.prototype.getSelectedRows=function(){var e=[];return this.selectedNodes.forEach(function(n){n&&n.data&&e.push(n.data)}),e},t.prototype.getSelectionCount=function(){return this.selectedNodes.size},t.prototype.filterFromSelection=function(e){var n=new Map;this.selectedNodes.forEach(function(i,o){var s=i&&e(i);s&&n.set(o,i)}),this.selectedNodes=n},t.prototype.updateGroupsFromChildrenSelections=function(e,n){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var i=this.rowModel,o=i.getRootNode();n||(n=new Wh(!0,o),n.setInactive());var s=!1;return n.forEachChangedNodeDepthFirst(function(a){if(a!==o){var l=a.calculateSelectedFromChildren();s=a.selectThisNode(l===null?!1:l,void 0,e)||s}}),s},t.prototype.clearOtherNodes=function(e,n){var i=this,o=new Map,s=0;return this.selectedNodes.forEach(function(a){if(a&&a.id!==e.id){var l=i.selectedNodes.get(a.id);s+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),i.groupSelectsChildren&&a.parent&&o.set(a.parent.id,a.parent)}}),o.forEach(function(a){var l=a.calculateSelectedFromChildren();a.selectThisNode(l===null?!1:l,void 0,n)}),s},t.prototype.onRowSelected=function(e){var n=e.node;this.groupSelectsChildren&&n.group||(n.isSelected()?this.selectedNodes.set(n.id,n):this.selectedNodes.delete(n.id))},t.prototype.syncInRowNode=function(e,n){this.syncInOldRowNode(e,n),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,n){var i=X(n)&&e.id!==n.id;if(i&&n){var o=n.id,s=this.selectedNodes.get(o)==e;s&&this.selectedNodes.set(n.id,n)}},t.prototype.syncInNewRowNode=function(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)},t.prototype.reset=function(e){var n=this.getSelectionCount();if(this.resetNodes(),n){var i={type:_.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(i)}},t.prototype.resetNodes=function(){var e;this.logger.log("reset"),(e=this.selectedNodes)===null||e===void 0||e.clear()},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var e=this.rowModel,n=e.getTopLevelNodes();if(n===null)return;var i=[];function o(s){for(var a=0,l=s.length;a<l;a++){var u=s[a];if(u.isSelected())i.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(n),i},t.prototype.isEmpty=function(){var e=0;return this.selectedNodes.forEach(function(n){n&&e++}),e===0},t.prototype.deselectAllRowNodes=function(e){var n=function(u){return u.selectThisNode(!1,void 0,o)},i=this.rowModel.getType()==="clientSide",o=e.source,s=e.justFiltered,a=e.justCurrentPage;if(a||s){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,a).forEach(n)}else this.selectedNodes.forEach(function(u){u&&n(u)}),this.reset(o);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:_.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},t.prototype.getSelectedCounts=function(e,n){var i=this,o=0,s=0,a=function(l){i.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&s++)};return this.getNodesToSelect(e,n).forEach(a),{selectedCount:o,notSelectedCount:s}},t.prototype.getSelectAllState=function(e,n){var i=this.getSelectedCounts(e,n),o=i.selectedCount,s=i.notSelectedCount;return o===0&&s===0?!1:o>0&&s>0?null:o>0},t.prototype.getNodesToSelect=function(e,n){var i=this;if(e===void 0&&(e=!1),n===void 0&&(n=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(n)return this.paginationProxy.forEachNodeOnPage(function(a){if(!a.group){o.push(a);return}if(!a.expanded){var l=function(u){var c;o.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(a);return}i.groupSelectsChildren||o.push(a)}),o;var s=this.rowModel;return e?(s.forEachNodeAfterFilter(function(a){o.push(a)}),o):(s.forEachNode(function(a){o.push(a)}),o)},t.prototype.selectAllRowNodes=function(e){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var n=e.source,i=e.justFiltered,o=e.justCurrentPage,s=function(l){return l.selectThisNode(!0,void 0,n)};this.getNodesToSelect(i,o).forEach(s),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);var a={type:_.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(a)},t.prototype.getSelectionState=function(){var e=[];return this.selectedNodes.forEach(function(n){n?.id&&e.push(n.id)}),e.length?e:null},t.prototype.setSelectionState=function(e,n){if(Array.isArray(e)){var i=new Set(e),o=[];this.rowModel.forEachNode(function(s){i.has(s.id)&&o.push(s)}),this.setNodesSelected({newValue:!0,nodes:o,source:n})}},Ic([w("rowModel")],t.prototype,"rowModel",void 0),Ic([w("paginationProxy")],t.prototype,"paginationProxy",void 0),Ic([D8(0,ur("loggerFactory"))],t.prototype,"setBeans",null),Ic([ne],t.prototype,"init",null),t=Ic([fe("selectionService")],t),t}(Q),ER=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},T8=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},R8=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},ld=function(){function r(t){var e=this;this.viaApi=function(n){for(var i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return Pe("Since v31, 'columnApi.".concat(n,"' is deprecated and moved to 'api.").concat(n,"'.")),(i=e.api)[n].apply(i,R8([],T8(o),!1))},this.api=t}return r.prototype.sizeColumnsToFit=function(t){this.viaApi("sizeColumnsToFit",t)},r.prototype.setColumnGroupOpened=function(t,e){this.viaApi("setColumnGroupOpened",t,e)},r.prototype.getColumnGroup=function(t,e){return this.viaApi("getColumnGroup",t,e)},r.prototype.getProvidedColumnGroup=function(t){return this.viaApi("getProvidedColumnGroup",t)},r.prototype.getDisplayNameForColumn=function(t,e){return this.viaApi("getDisplayNameForColumn",t,e)},r.prototype.getDisplayNameForColumnGroup=function(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)},r.prototype.getColumn=function(t){return this.viaApi("getColumn",t)},r.prototype.getColumns=function(){return this.viaApi("getColumns")},r.prototype.applyColumnState=function(t){return this.viaApi("applyColumnState",t)},r.prototype.getColumnState=function(){return this.viaApi("getColumnState")},r.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},r.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},r.prototype.setColumnGroupState=function(t){this.viaApi("setColumnGroupState",t)},r.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},r.prototype.isPinning=function(){return this.viaApi("isPinning")},r.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},r.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},r.prototype.getDisplayedColAfter=function(t){return this.viaApi("getDisplayedColAfter",t)},r.prototype.getDisplayedColBefore=function(t){return this.viaApi("getDisplayedColBefore",t)},r.prototype.setColumnVisible=function(t,e){this.viaApi("setColumnVisible",t,e)},r.prototype.setColumnsVisible=function(t,e){this.viaApi("setColumnsVisible",t,e)},r.prototype.setColumnPinned=function(t,e){this.viaApi("setColumnPinned",t,e)},r.prototype.setColumnsPinned=function(t,e){this.viaApi("setColumnsPinned",t,e)},r.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},r.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},r.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},r.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},r.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},r.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},r.prototype.moveColumn=function(t,e){this.viaApi("moveColumn",t,e)},r.prototype.moveColumnByIndex=function(t,e){this.viaApi("moveColumnByIndex",t,e)},r.prototype.moveColumns=function(t,e){this.viaApi("moveColumns",t,e)},r.prototype.moveRowGroupColumn=function(t,e){this.viaApi("moveRowGroupColumn",t,e)},r.prototype.setColumnAggFunc=function(t,e){this.viaApi("setColumnAggFunc",t,e)},r.prototype.setColumnWidth=function(t,e,n,i){n===void 0&&(n=!0),this.viaApi("setColumnWidth",t,e,n,i)},r.prototype.setColumnWidths=function(t,e,n){e===void 0&&(e=!0),this.viaApi("setColumnWidths",t,e,n)},r.prototype.setPivotMode=function(t){this.viaApi("setPivotMode",t)},r.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},r.prototype.getPivotResultColumn=function(t,e){return this.viaApi("getPivotResultColumn",t,e)},r.prototype.setValueColumns=function(t){this.viaApi("setValueColumns",t)},r.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},r.prototype.removeValueColumn=function(t){this.viaApi("removeValueColumn",t)},r.prototype.removeValueColumns=function(t){this.viaApi("removeValueColumns",t)},r.prototype.addValueColumn=function(t){this.viaApi("addValueColumn",t)},r.prototype.addValueColumns=function(t){this.viaApi("addValueColumns",t)},r.prototype.setRowGroupColumns=function(t){this.viaApi("setRowGroupColumns",t)},r.prototype.removeRowGroupColumn=function(t){this.viaApi("removeRowGroupColumn",t)},r.prototype.removeRowGroupColumns=function(t){this.viaApi("removeRowGroupColumns",t)},r.prototype.addRowGroupColumn=function(t){this.viaApi("addRowGroupColumn",t)},r.prototype.addRowGroupColumns=function(t){this.viaApi("addRowGroupColumns",t)},r.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},r.prototype.setPivotColumns=function(t){this.viaApi("setPivotColumns",t)},r.prototype.removePivotColumn=function(t){this.viaApi("removePivotColumn",t)},r.prototype.removePivotColumns=function(t){this.viaApi("removePivotColumns",t)},r.prototype.addPivotColumn=function(t){this.viaApi("addPivotColumn",t)},r.prototype.addPivotColumns=function(t){this.viaApi("addPivotColumns",t)},r.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},r.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},r.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},r.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},r.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},r.prototype.autoSizeColumn=function(t,e){return this.viaApi("autoSizeColumn",t,e)},r.prototype.autoSizeColumns=function(t,e){this.viaApi("autoSizeColumns",t,e)},r.prototype.autoSizeAllColumns=function(t){this.viaApi("autoSizeAllColumns",t)},r.prototype.setPivotResultColumns=function(t){this.viaApi("setPivotResultColumns",t)},r.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},ER([w("gridApi")],r.prototype,"api",void 0),r=ER([fe("columnApi")],r),r}(),A8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fl=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},O8=function(r){A8(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var n=function(o){return e.callColumnCellValueChangedHandler(o)},i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(_.EVENT_CELL_VALUE_CHANGED,n,i),this.addDestroyFunc(function(){return e.eventService.removeEventListener(_.EVENT_CELL_VALUE_CHANGED,n,i)}),this.addManagedPropertyListener("treeData",function(o){return e.isTreeData=o.currentValue})},t.prototype.getValue=function(e,n,i,o){if(i===void 0&&(i=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!n){var s=e.getColDef(),a=s.field,l=e.getColId(),u=n.data,c,d=n.groupData&&n.groupData[l]!==void 0,f=!o&&n.aggData&&n.aggData[l]!==void 0,p=this.isSsrm&&o&&!!e.getColDef().aggFunc,h=this.isSsrm&&n.footer&&n.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===n.field);if(i&&s.filterValueGetter?c=this.executeFilterValueGetter(s.filterValueGetter,u,e,n):this.isTreeData&&f?c=n.aggData[l]:this.isTreeData&&s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,e,n):this.isTreeData&&a&&u?c=Ll(u,a,e.isFieldContainsDots()):d?c=n.groupData[l]:f?c=n.aggData[l]:s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,e,n):h?c=Ll(u,n.field,e.isFieldContainsDots()):a&&u&&!p&&(c=Ll(u,a,e.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var g=c.substring(1);c=this.executeValueGetter(g,u,e,n)}if(c==null){var v=this.getOpenedGroup(n,e);if(v!=null)return v}return c}},t.prototype.getOpenedGroup=function(e,n){if(this.gridOptionsService.get("showOpenedGroup")){var i=n.getColDef();if(i.showRowGroup)for(var o=n.getColDef().showRowGroup,s=e.parent;s!=null;){if(s.rowGroupColumn&&(o===!0||o===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}},t.prototype.setValue=function(e,n,i,o){var s=this.columnModel.getPrimaryColumn(n);if(!e||!s)return!1;Oe(e.data)&&(e.data={});var a=s.getColDef(),l=a.field,u=a.valueSetter;if(Oe(l)&&Oe(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c={node:e,data:e.data,oldValue:this.getValue(s,e),newValue:i,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};c.newValue=i;var d;if(X(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(e.data,l,i,s.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(s,e);var f={type:_.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:e.data,node:e,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:o};return this.eventService.dispatchEvent(f),!0},t.prototype.callColumnCellValueChangedHandler=function(e){var n=e.colDef.onCellValueChanged;typeof n=="function"&&n({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,n,i,o){if(!n)return!1;var s=!1;if(!o)s=e[n]===i,s||(e[n]=i);else for(var a=n.split("."),l=e;a.length>0&&l;){var u=a.shift();a.length===0?(s=l[u]===i,s||(l[u]=i)):l=l[u]}return!s},t.prototype.executeFilterValueGetter=function(e,n,i,o){var s={data:n,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return typeof e=="function"?e(s):this.expressionService.evaluate(e,s)},t.prototype.executeValueGetter=function(e,n,i,o){var s=i.getColId(),a=this.valueCache.getValue(o,s);if(a!==void 0)return a;var l={data:n,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)},u;return typeof e=="function"?u=e(l):u=this.expressionService.evaluate(e,l),this.valueCache.setValue(o,s,u),u},t.prototype.getValueCallback=function(e,n){var i=this.columnModel.getPrimaryColumn(n);return i?this.getValue(i,e):null},t.prototype.getKeyForNode=function(e,n){var i=this.getValue(e,n),o=e.getColDef().keyCreator,s=i;if(o){var a={value:i,colDef:e.getColDef(),column:e,node:n,data:n.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};s=o(a)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Pe("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s},Fl([w("expressionService")],t.prototype,"expressionService",void 0),Fl([w("columnModel")],t.prototype,"columnModel",void 0),Fl([w("valueCache")],t.prototype,"valueCache",void 0),Fl([w("dataTypeService")],t.prototype,"dataTypeService",void 0),Fl([ne],t.prototype,"init",null),t=Fl([fe("valueService")],t),t}(Q),b8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),xR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},F8=function(r,t){return function(e,n){t(e,n,r)}},I8=function(r){b8(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,n){if(typeof e=="string")return this.evaluateExpression(e,n);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,n){try{var i=this.createExpressionFunction(e),o=i(n.value,n.context,n.oldValue,n.newValue,n.value,n.node,n.data,n.colDef,n.rowIndex,n.api,n.columnApi,n.getValue,n.column,n.columnGroup);return o}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",n),console.log("Exception = "+s),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",n);return this.expressionToFunctionCache[e]=i,i},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},xR([F8(0,ur("loggerFactory"))],t.prototype,"setBeans",null),t=xR([fe("expressionService")],t),t}(Q),P8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),M8=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},N8=function(r){P8(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return t.prototype.getTemplate=function(e,n){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],s=this;if(!o){o=[],this.waitingCallbacks[e]=o;var a=new XMLHttpRequest;a.onload=function(){s.handleHttpResult(this,e)},a.open("GET",e),a.send()}return n&&o.push(n),null},t.prototype.handleHttpResult=function(e,n){if(e.status!==200||e.response===null){console.warn("AG Grid: Unable to get template error ".concat(e.status," - ").concat(n));return}this.templateCache[n]=e.response||e.responseText;for(var i=this.waitingCallbacks[n],o=0;o<i.length;o++){var s=i[o];s()}},t=M8([fe("templateService")],t),t}(Q),L8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),DR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},k8=function(r,t){return function(e,n){t(e,n,r)}},G8=function(r){L8(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logging=e.get("debug")},t.prototype.create=function(e){return new mw(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},DR([k8(0,ur("gridOptionsService"))],t.prototype,"setBeans",null),t=DR([fe("loggerFactory")],t),t}(Q),mw=function(){function r(t,e){this.name=t,this.isLoggingFunc=e}return r.prototype.isLogging=function(){return this.isLoggingFunc()},r.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},r}(),V8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Il=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},H8=function(r){V8(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setComp=function(e,n,i){var o=this;this.view=e,this.eGridHostDiv=n,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(a){return a===br.HeaderCell||a===br.ToolPanel},getIconName:function(){return dn.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(n),this.createManagedBean(new dw(this.view)),this.addRtlSupport();var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,n=this.focusService.findTabbableParent(this.getGui());return((e=n?.getAttribute("row-id"))===null||e===void 0?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return Le.__isRegistered(ge.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return Le.__isRegistered(ge.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return Le.__isRegistered(ge.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return Le.__isRegistered(ge.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){var e={type:_.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var n=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),o=i.findIndex(function(a){return a.contains(n.activeElement)}),s=o+(e?-1:1);return s<=0||s>=i.length?!1:this.focusService.focusInto(i[s])},t.prototype.focusInnerElement=function(e){var n=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(n.length>1)return this.focusService.focusInto(ut(n),!0);var o=ut(i);if(this.focusService.focusGridView(o,!0))return!0}return this.gridOptionsService.get("headerHeight")===0?this.focusService.focusGridView(i[0]):this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.view.forceFocusOutOfContainer(e)},Il([w("focusService")],t.prototype,"focusService",void 0),Il([w("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Il([w("columnModel")],t.prototype,"columnModel",void 0),Il([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Il([w("mouseEventService")],t.prototype,"mouseEventService",void 0),Il([w("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(Q),B8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xO=function(r){B8(t,r);function t(e){var n=r.call(this)||this;return n.eGridDiv=e,n}return t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var n={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o??"",e.getGui().style.webkitUserSelect=o??""},setCursor:function(o){e.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new H8);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(n,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)}})},t.prototype.insertGridIntoDom=function(){var e=this,n=this.getGui();this.eGridDiv.appendChild(n),this.addDestroyFunc(function(){e.eGridDiv.removeChild(n),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,n){var i=this.eRootWrapperBody.classList;i.toggle(nn.AUTO_HEIGHT,n.autoHeight),i.toggle(nn.NORMAL,n.normal),i.toggle(nn.PRINT,n.print),this.addOrRemoveCssClass(nn.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(nn.NORMAL,n.normal),this.addOrRemoveCssClass(nn.PRINT,n.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",s=`<div class="ag-root-wrapper" role="presentation">
                `.concat(e,`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `).concat(n,`
                </div>
                `).concat(i,`
                <ag-pagination></ag-pagination>
                `).concat(o,`
            </div>`);return s},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(n){return fr(n)})},Pc([w("loggerFactory")],t.prototype,"loggerFactory",void 0),Pc([oe("gridBody")],t.prototype,"gridBodyComp",void 0),Pc([oe("sideBar")],t.prototype,"sideBarComp",void 0),Pc([oe("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),Pc([ne],t.prototype,"postConstruct",null),t}(zh),j8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),TR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},as=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Pl=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},U8=function(r){j8(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}e=t,t.prototype.progressSort=function(n,i,o){var s=this.getNextSortDirection(n);this.setSortForColumn(n,s,i,o)},t.prototype.setSortForColumn=function(n,i,o,s){i!=="asc"&&i!=="desc"&&(i=null);var a=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[n];if(a&&n.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(n),c=u?.filter(function(f){return f.isSortable()});c&&(l=Pl([n],as(c),!1))}l.forEach(function(f){return f.setSort(i,s)});var d=(o||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort");d||this.clearSortBarTheseColumns(l,s),this.updateSortIndex(n),this.dispatchSortChangedEvents(s)},t.prototype.updateSortIndex=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()),s=i&&o||n,a=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=a.filter(function(c){return c!==s}),u=s.getSort()?Pl(Pl([],as(l),!1),[s],!1):l;u.forEach(function(c,d){return c.setSortIndex(d)})},t.prototype.onSortChanged=function(n){this.dispatchSortChangedEvents(n)},t.prototype.isSortActive=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i=n.filter(function(o){return!!o.getSort()});return i&&i.length>0},t.prototype.dispatchSortChangedEvents=function(n){var i={type:_.EVENT_SORT_CHANGED,source:n};this.eventService.dispatchEvent(i)},t.prototype.clearSortBarTheseColumns=function(n,i){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){n.includes(o)||o.setSort(void 0,i)})},t.prototype.getNextSortDirection=function(n){var i;if(n.getColDef().sortingOrder?i=n.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?i=this.gridOptionsService.get("sortingOrder"):i=e.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(i)),null;var o=i.indexOf(n.getSort()),s=o<0,a=o==i.length-1,l;return s||a?l=i[0]:l=i[o+1],e.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},t.prototype.getIndexedSortMap=function(){var n=this,i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();i=i.filter(function(c){var d=!!c.getAggFunc(),f=!c.isPrimary(),p=o?n.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||f||p})}var s=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),a=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!s.length;a&&(i=Pl([],as(new Set(i.map(function(c){var d;return(d=n.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c}))),!1));var l={};i.forEach(function(c,d){return l[c.getId()]=d}),i.sort(function(c,d){var f=c.getSortIndex(),p=d.getSortIndex();if(f!=null&&p!=null)return f-p;if(f==null&&p==null){var h=l[c.getId()],g=l[d.getId()];return h>g?1:-1}else return p==null?-1:1});var u=new Map;return i.forEach(function(c,d){return u.set(c,d)}),a&&s.forEach(function(c){var d=n.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},t.prototype.getColumnsWithSortingOrdered=function(){return Pl([],as(this.getIndexedSortMap().entries()),!1).sort(function(n,i){var o=as(n,2);o[0];var s=o[1],a=as(i,2);a[0];var l=a[1];return s-l}).map(function(n){var i=as(n,1),o=i[0];return o})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),colId:n.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),column:n}})},t.prototype.canColumnDisplayMixedSort=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!n.getColDef().showRowGroup;return i&&o},t.prototype.getDisplaySortForColumn=function(n){var i=this.columnModel.getSourceColumnsForGroupColumn(n);if(!this.canColumnDisplayMixedSort(n)||!i?.length)return n.getSort();var o=n.getColDef().field!=null||!!n.getColDef().valueGetter,s=o?Pl([n],as(i),!1):i,a=s[0].getSort(),l=s.every(function(u){return u.getSort()==a});return l?a:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(n){return this.getIndexedSortMap().get(n)};var e;return t.DEFAULT_SORTING_ORDER=["asc","desc",null],TR([w("columnModel")],t.prototype,"columnModel",void 0),t=e=TR([fe("sortController")],t),t}(Q),W8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yc=function(){return Yc=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Yc.apply(this,arguments)},Er=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},z8=function(r){W8(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}e=t,t.addKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",e.toggleKeyboardMode),n.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",e.toggleKeyboardMode),n.addEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(n){var i=e.keyboardModeActive,o=n.type==="keydown";o&&(n.ctrlKey||n.metaKey||n.altKey)||i!==o&&(e.keyboardModeActive=o)},t.unregisterGridCompController=function(n){e.removeKeyboardModeEvents(n)},t.prototype.init=function(){var n=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){n.gridCtrl=o.gridCtrl})},t.prototype.registerKeyboardFocusEvents=function(){var n=this.gridOptionsService.getDocument();e.addKeyboardModeEvents(n),e.instanceCount++,this.addDestroyFunc(function(){e.instanceCount--,e.unregisterGridCompController(n)})},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var n=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(n.getId());n!==i&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(n.activeElement,wa.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(n.activeElement,Uh.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(n,i){for(var o=n;o;){var s=this.gridOptionsService.getDomData(o,i);if(s)return!1;o=o.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(n){var i=this;return this.isCellRestoreFocused(n)?(setTimeout(function(){i.restoredFocusedCellPosition=null},0),!0):!1},t.prototype.isCellRestoreFocused=function(n){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(n){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=n)},t.prototype.getFocusEventParams=function(){var n=this.focusedCellPosition,i=n.rowIndex,o=n.rowPinned,s=n.column,a={rowIndex:i,rowPinned:o,column:s,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:o});return l&&(a.isFullWidthCell=l.isFullWidth()),a},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var n=Yc({type:_.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(n)}},t.prototype.setFocusedCell=function(n){var i=n.column,o=n.rowIndex,s=n.rowPinned,a=n.forceBrowserFocus,l=a===void 0?!1:a,u=n.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(i);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:Ji(s),column:d}:null;var f=Yc(Yc({type:_.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(f)},t.prototype.isCellFocused=function(n){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(n){return this.isRowFocused(n.rowIndex,n.rowPinned)},t.prototype.isHeaderWrapperFocused=function(n){if(this.focusedHeaderPosition==null)return!1;var i=n.getColumnGroupChild(),o=n.getRowIndex(),s=n.getPinned(),a=this.focusedHeaderPosition,l=a.column,u=a.headerRowIndex;return i===l&&o===u&&s==l.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(n,i){this.focusedHeaderPosition={headerRowIndex:n,column:i}},t.prototype.focusHeaderPosition=function(n){var i=n.direction,o=n.fromTab,s=n.allowUserOverride,a=n.event,l=n.fromCell,u=n.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(u);if(s){var c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(o){var f=this.gridOptionsService.getCallback("tabToNextHeader");if(f){var p={backwards:i==="Before",previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d};u=f(p)}}else{var f=this.gridOptionsService.getCallback("navigateToNextHeader");if(f&&a){var h={key:a.key,previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d,event:a};u=f(h)}}}if(!u)return!1;if(u.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(u):this.focusGridView(u.column);this.headerNavigationService.scrollToColumn(u.column,i);var g=this.ctrlsService.getHeaderRowContainerCtrl(u.column.getPinned()),v=g.focusHeader(u.headerRowIndex,u.column,a);return v},t.prototype.focusFirstHeader=function(){var n=this.columnModel.getAllDisplayedColumns()[0];return n?(n.getParent()&&(n=this.columnModel.getColumnGroupAtLevel(n,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:n}})):!1},t.prototype.focusLastHeader=function(n){var i=this.headerNavigationService.getHeaderRowCount()-1,o=ut(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},event:n})},t.prototype.focusPreviousFromFirstCell=function(n){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(n,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===Ji(i)},t.prototype.findFocusableElements=function(n,i,o){o===void 0&&(o=!1);var s=IA,a=YC;i&&(a+=", "+i),o&&(a+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(n.querySelectorAll(s)).filter(function(d){return fr(d)}),u=Array.prototype.slice.apply(n.querySelectorAll(a));if(!u.length)return l;var c=function(d,f){return d.filter(function(p){return f.indexOf(p)===-1})};return c(l,u)},t.prototype.focusInto=function(n,i,o){i===void 0&&(i=!1),o===void 0&&(o=!1);var s=this.findFocusableElements(n,null,o),a=i?ut(s):s[0];return a?(a.focus({preventScroll:!0}),!0):!1},t.prototype.findFocusableElementBeforeTabGuard=function(n,i){if(!i)return null;var o=this.findFocusableElements(n),s=o.indexOf(i);if(s===-1)return null;for(var a=-1,l=s-1;l>=0;l--)if(o[l].classList.contains(Kc.TAB_GUARD_TOP)){a=l;break}return a<=0?null:o[a-1]},t.prototype.findNextFocusableElement=function(n,i,o){n===void 0&&(n=this.eGridDiv);var s=this.findFocusableElements(n,i?':not([tabindex="-1"])':null),a=this.gridOptionsService.getDocument(),l=a.activeElement,u;i?u=s.findIndex(function(d){return d.contains(l)}):u=s.indexOf(l);var c=u+(o?-1:1);return c<0||c>=s.length?null:s[c]},t.prototype.isTargetUnderManagedComponent=function(n,i){if(!i)return!1;var o=n.querySelectorAll(".".concat(_s.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1},t.prototype.findTabbableParent=function(n,i){i===void 0&&(i=5);for(var o=0;n&&hh(n)===null&&++o<=i;)n=n.parentElement;return hh(n)===null?null:n},t.prototype.focusGridView=function(n,i){if(this.gridOptionsService.get("suppressCellFocus"))return i?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var s=o.rowIndex,a=o.rowPinned,l=this.getFocusedHeader();if(!n&&l&&(n=l.column),s==null||!n)return!1;if(this.navigationService.ensureCellVisible({rowIndex:s,column:n,rowPinned:a}),this.setFocusedCell({rowIndex:s,column:n,rowPinned:Ji(a),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:s,rowPinned:a,column:n};this.rangeService.setRangeToCell(u)}return!0},t.prototype.focusNextGridCoreContainer=function(n,i){return i===void 0&&(i=!1),!i&&this.gridCtrl.focusNextInnerContainer(n)?!0:((i||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)},t.prototype.focusAdvancedFilter=function(n){return this.advancedFilterFocusColumn=n?.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(n,i){var o,s,a=(o=i?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(s=this.columnModel.getAllDisplayedColumns())===null||s===void 0?void 0:s[0];return n?this.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(a)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var e;return t.keyboardModeActive=!1,t.instanceCount=0,Er([w("eGridDiv")],t.prototype,"eGridDiv",void 0),Er([w("columnModel")],t.prototype,"columnModel",void 0),Er([w("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Er([w("rowRenderer")],t.prototype,"rowRenderer",void 0),Er([w("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Er([w("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Er([rt("rangeService")],t.prototype,"rangeService",void 0),Er([w("navigationService")],t.prototype,"navigationService",void 0),Er([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Er([w("filterManager")],t.prototype,"filterManager",void 0),Er([rt("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Er([ne],t.prototype,"init",null),t=e=Er([fe("focusService")],t),t}(Q),$8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),K8=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Y8=function(r){$8(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setMouseOver=function(e){this.selectedColumns=e;var n={type:_.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(n)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:_.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=K8([fe("columnHoverService")],t),t}(Q),q8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},X8=function(r){q8(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){return e.gridBodyCtrl=n.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var n=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===n&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var n=this.executeLaterFuncs;this.executeLaterFuncs=[],!(e.length===0&&n.length===0)&&(window.setTimeout(function(){return e.forEach(function(i){return i()})},0),window.setTimeout(function(){return n.forEach(function(i){return i()})},300))},zy([w("ctrlsService")],t.prototype,"ctrlsService",void 0),zy([ne],t.prototype,"postConstruct",null),t=zy([fe("columnAnimationService")],t),t}(Q),Q8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Z8=function(r){Q8(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.centerRowContainerCon=n.centerRowContainerCtrl,e.addManagedListener(e.eventService,_.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,_.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.addManagedPropertyListener("paginationAutoPageSize",e.onPaginationAutoSizeChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null},t.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var n=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(n>0){var i=function(){var o=e.gridOptionsService.getRowHeightAsNumber(),s=Math.floor(n/o);e.paginationProxy.setPageSize(s,"autoCalculated")};this.isBodyRendered?$r(function(){return i()},50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Qp([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Qp([w("paginationProxy")],t.prototype,"paginationProxy",void 0),Qp([ne],t.prototype,"postConstruct",null),t=Qp([fe("paginationAutoPageSizeService")],t),t}(Q),J8=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),RR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},e6=function(r){J8(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.cacheVersion=0,e}return t.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,n,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[n]=i)},t.prototype.getValue=function(e,n){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[n]},RR([ne],t.prototype,"init",null),t=RR([fe("valueCache")],t),t}(Q),t6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},n6="paste",r6=function(r){t6(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,_.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==n6&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,n){if(!this.gridOptionsService.get("suppressChangeDetection")){var i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),s=new Wh(o,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[n]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(function(a){i.push(a)})}this.rowRenderer.refreshCells({rowNodes:i})}},Zp([w("rowModel")],t.prototype,"rowModel",void 0),Zp([w("rowRenderer")],t.prototype,"rowRenderer",void 0),Zp([ne],t.prototype,"init",null),t=Zp([fe("changeDetectionService")],t),t}(Q),i6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),AR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},o6=function(r){i6(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.adaptFunction=function(e,n){var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(n):null},t.prototype.adaptCellRendererFunction=function(e){var n=function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var s=e(o),a=typeof s;if(a==="string"||a==="number"||a==="boolean"){this.eGui=Cn("<span>"+s+"</span>");return}if(s==null){this.eGui=Cn("<span></span>");return}this.eGui=s},i}();return n},t.prototype.doesImplementIComponent=function(e){return e?e.prototype&&"getGui"in e.prototype:!1},AR([w("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=AR([fe("agComponentUtils")],t),t}(Q),s6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$y=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},a6=function(r){s6(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},$y([w("agComponentUtils")],t.prototype,"agComponentUtils",void 0),$y([ne],t.prototype,"postConstruct",null),t=$y([fe("componentMetadataProvider")],t),t}(Q),l6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ky=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},u6=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},c6=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},d6=25,OR=10,Yy=8,f6=4,qy=4,Xy=6,p6=16,bR=14,Qy=8,h6={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:f6*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:Yy*7,headerCellMinWidth:48,listItemHeight:Yy*4,rowHeight:Yy*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:qy*8,headerCellMinWidth:24,listItemHeight:qy*6,rowHeight:qy*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:Xy*8,headerCellMinWidth:36,listItemHeight:Xy*4,rowHeight:Xy*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:bR+Qy*4.25,headerCellMinWidth:36,listItemHeight:p6+Qy,rowHeight:bR+Qy*3.5,chartMenuPanelWidth:260}},FR={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},g6=function(r){l6(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.calculatedSizes={},e}return t.prototype.postConstruct=function(){var e=this,n,i=(n=this.getTheme().el)!==null&&n!==void 0?n:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return e.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){var e={type:_.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.getSassVariable=function(e){var n=this.getTheme(),i=n.themeFamily,o=n.el;if(!(!i||i.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={});var s=this.calculatedSizes[i][e];return s??(this.calculatedSizes[i][e]=this.calculateValueForSassProperty(e,i,o),this.calculatedSizes[i][e])}},t.prototype.calculateValueForSassProperty=function(e,n,i){var o,s="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),a=h6[s][e],l=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!FR[e])return a;var u=FR[e],c=l.createElement("div"),d=Array.from(i.classList);(o=c.classList).add.apply(o,c6([n],u6(d),!1)),c.style.position="absolute";var f=u.reduce(function(g,v){var m=l.createElement("div");return m.style.position="static",m.classList.add(v),g.appendChild(m),m},c),p=0;if(l.body){l.body.appendChild(c);var h=e.toLowerCase().indexOf("height")!==-1?"height":"width";p=parseInt(window.getComputedStyle(f)[h],10),l.body.removeChild(c)}return p||a},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,n=this.eGridDiv,i=null,o=[];n;)if(i=e.exec(n.className),!i)n=n.parentElement||void 0;else{var s=n.className.match(e);s&&(o=s);break}if(!i)return{allThemes:o};var a=i[0];return{theme:a,el:n,themeFamily:a.replace(/-dark$/,""),allThemes:o}},t.prototype.getFromTheme=function(e,n){var i;return(i=this.getSassVariable(n))!==null&&i!==void 0?i:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(d6,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.refreshRowHeightVariable=function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),n=this.gridOptionsService.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var i="".concat(n,"px");return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),n):e!=""?parseFloat(e):-1},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return X(e)?Math.max(e,OR):OR},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),r.prototype.destroy.call(this)},Ky([w("eGridDiv")],t.prototype,"eGridDiv",void 0),Ky([ne],t.prototype,"postConstruct",null),t=Ky([fe("environment")],t),t}(Q),v6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jp=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},m6=function(r,t){return function(e,n){t(e,n,r)}},y6=function(r){v6(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,_.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=TA(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl(),n=e.getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight(),o=n!==this.scrollY||i!==this.uiBodyHeight;o&&(this.scrollY=n,this.uiBodyHeight=i,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,n=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(n," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(n)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:_.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var n=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==n&&(this.divStretchOffset=n,this.eventService.dispatchEvent({type:_.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),n=e.getScrollFeature().getVScrollPosition();return n.bottom-n.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var n=this.modelHeight-this.getUiBodyHeight(),i=e/n,o=this.maxScrollY*i;return o},Jp([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Jp([m6(0,ur("loggerFactory"))],t.prototype,"agWire",null),Jp([ne],t.prototype,"postConstruct",null),t=Jp([fe("rowContainerHeightService")],t),t}(Q),C6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),eh=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},w6=function(r){C6(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.addManagedPropertyListener("isRowSelectable",function(){return e.updateSelectable()})},t.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},t.prototype.updateSelectable=function(e){e===void 0&&(e=!1);var n=!!this.gridOptionsService.get("rowSelection"),i=this.gridOptionsService.get("isRowSelectable");if(!(!n||!i)){var o=this.gridOptionsService.get("groupSelectsChildren"),s=this.rowModel.getType()==="clientSide"&&o,a=[],l=function(d){if(!(e&&!d.group)){if(s&&d.group){var f=d.childrenAfterGroup.some(function(h){return h.selectable===!0});d.setRowSelectable(f,!0);return}var p=i?i(d):!0;d.setRowSelectable(p,!0),!p&&d.isSelected()&&a.push(d)}};if(s){var u=this.rowModel,c=new Wh(!1,u.getRootNode());c.forEachChangedNodeDepthFirst(l,!0,!0)}else this.rowModel.forEachNode(l);a.length&&this.selectionService.setNodesSelected({nodes:a,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof EO&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},eh([w("rowModel")],t.prototype,"rowModel",void 0),eh([w("selectionService")],t.prototype,"selectionService",void 0),eh([ne],t.prototype,"init",null),t=eh([fe("selectableService")],t),t}(Q),_6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),xr=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},S6=function(r){_6(t,r);function t(){var e=r.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return t.prototype.postConstruct=function(){var e=this,n=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var i=this,o=i.btFirst,s=i.btPrevious,a=i.btNext,l=i.btLast;i.pageSizeComp,this.activateTabIndex([o,s,a,l]),o.insertAdjacentElement("afterbegin",Ht(n?"last":"first",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Ht(n?"next":"previous",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",Ht(n?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",Ht(n?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return e.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var e=this.gridOptionsService.get("pagination"),n=e&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(n),n&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},t.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,_.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(n){var i=n.el,o=n.fn;e.addManagedListener(i,"click",o),e.addManagedListener(i,"keydown",function(s){(s.key===B.ENTER||s.key===B.SPACE)&&(s.preventDefault(),o())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,n=this.paginationProxy.getCurrentPage(),i=e?n+1:0;this.lbCurrent.innerHTML=this.formatNumber(i)},t.prototype.formatNumber=function(e){var n=this.gridOptionsService.getCallback("paginationNumberFormatter");if(n){var i={value:e};return n(i)}var o=this.localeService.getLocaleTextFunc(),s=o("thousandSeparator",","),a=o("decimalSeparator",".");return KC(e,s,a)},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),n=e("page","Page"),i=e("to","to"),o=e("of","of"),s=e("firstPage","First Page"),a=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),u=e("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(c,`">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`).concat(c,`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-to">').concat(i,`</span>
                    <span id="ag-`).concat(c,`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-of">').concat(o,`</span>
                    <span id="ag-`).concat(c,`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`).concat(s,`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`).concat(a,`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`).concat(c,'-start-page">').concat(n,`</span>
                        <span id="ag-`).concat(c,`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`).concat(c,'-of-page">').concat(o,`</span>
                        <span id="ag-`).concat(c,`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`).concat(l,`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`).concat(u,`"></div>
                </span>
            </div>`)},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),s=e===i-1;this.nextButtonDisabled=s||o,this.lastButtonDisabled=!n||o||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,n){LC(e,n),e.classList.toggle("ag-disabled",n)},t.prototype.updateRowLabels=function(){var e=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,s,a;if(this.isZeroPagesToDisplay()?s=a=0:(s=n*e+1,a=s+n-1,i&&a>o&&(a=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(a)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();return e&&n===0},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(i===1){var o=this.paginationProxy.getRow(0),s=o&&o.group&&!(o.groupData||o.aggData);if(s){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.innerHTML=this.formatNumber(n),this.lbRecordCount.innerHTML=this.formatNumber(i);else{var a=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=a,this.lbRecordCount.innerHTML=a}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},xr([w("paginationProxy")],t.prototype,"paginationProxy",void 0),xr([w("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),xr([oe("btFirst")],t.prototype,"btFirst",void 0),xr([oe("btPrevious")],t.prototype,"btPrevious",void 0),xr([oe("btNext")],t.prototype,"btNext",void 0),xr([oe("btLast")],t.prototype,"btLast",void 0),xr([oe("lbRecordCount")],t.prototype,"lbRecordCount",void 0),xr([oe("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),xr([oe("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),xr([oe("lbCurrent")],t.prototype,"lbCurrent",void 0),xr([oe("lbTotal")],t.prototype,"lbTotal",void 0),xr([oe("pageSizeComp")],t.prototype,"pageSizeComp",void 0),xr([ne],t.prototype,"postConstruct",null),t}(ke),E6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zy=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},x6=function(r){E6(t,r);function t(){var e=r.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e}return t.prototype.updateLayoutClasses=function(e,n){var i=this.eOverlayWrapper.classList;i.toggle(nn.AUTO_HEIGHT,n.autoHeight),i.toggle(nn.NORMAL,n.normal),i.toggle(nn.PRINT,n.print)},t.prototype.postConstruct=function(){this.createManagedBean(new dw(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var n=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&n.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,n.toggle(e,!0)},t.prototype.showOverlay=function(e,n){var i=this;this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(o){i.inProgress=!1,i.eOverlayWrapper.appendChild(o.getGui()),i.activeOverlay=o,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),fn(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),r.prototype.destroy.call(this)},t.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`,Zy([w("overlayService")],t.prototype,"overlayService",void 0),Zy([oe("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),Zy([ne],t.prototype,"postConstruct",null),t}(ke),D6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),th=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},T6=function(r){D6(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getFirstRow=function(){var e=0,n;return this.pinnedRowModel.getPinnedTopRowCount()?n="top":this.rowModel.getRowCount()?(n=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:e,rowPinned:n}},t.prototype.getLastRow=function(){var e,n=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(n="bottom",e=i-1):this.rowModel.getRowCount()?(n=null,e=this.paginationProxy.getPageLastRow()):o&&(n="top",e=o-1),e===void 0?null:{rowIndex:e,rowPinned:n}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,n){return!e&&!n?!0:e&&!n||!e&&n?!1:e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned},t.prototype.before=function(e,n){switch(e.rowPinned){case"top":if(n.rowPinned!=="top")return!0;break;case"bottom":if(n.rowPinned!=="bottom")return!1;break;default:if(X(n.rowPinned))return n.rowPinned!=="top";break}return e.rowIndex<n.rowIndex},t.prototype.rowMax=function(e){var n=this,i;return e.forEach(function(o){(i===void 0||n.before(i,o))&&(i=o)}),i},t.prototype.rowMin=function(e){var n=this,i;return e.forEach(function(o){(i===void 0||n.before(o,i))&&(i=o)}),i},th([w("rowModel")],t.prototype,"rowModel",void 0),th([w("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),th([w("paginationProxy")],t.prototype,"paginationProxy",void 0),t=th([fe("rowPositionUtils")],t),t}(Q),R6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),A6=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},O6=function(r){R6(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createId=function(e){var n=e.rowIndex,i=e.rowPinned,o=e.column;return this.createIdFromValues({rowIndex:n,column:o,rowPinned:i})},t.prototype.createIdFromValues=function(e){var n=e.rowIndex,i=e.rowPinned,o=e.column;return"".concat(n,".").concat(i??"null",".").concat(o.getId())},t.prototype.equals=function(e,n){var i=e.column===n.column,o=e.rowPinned===n.rowPinned,s=e.rowIndex===n.rowIndex;return i&&o&&s},t=A6([fe("cellPositionUtils")],t),t}(Q),b6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zc=function(){function r(t){this.cellValueChanges=t}return r}(),Jy=function(r){b6(t,r);function t(e,n,i,o){var s=r.call(this,e)||this;return s.initialRange=n,s.finalRange=i,s.ranges=o,s}return t}(zc),IR=function(){function r(t){this.actionStack=[],this.maxStackSize=t||r.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return r.prototype.pop=function(){return this.actionStack.pop()},r.prototype.push=function(t){var e=t.cellValueChanges&&t.cellValueChanges.length>0;e&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},r.prototype.clear=function(){this.actionStack=[]},r.prototype.getCurrentStackSize=function(){return this.actionStack.length},r.DEFAULT_STACK_SIZE=10,r}(),F6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Oh=function(){return Oh=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Oh.apply(this,arguments)},qi=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},I6=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},P6=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},M6=function(r){F6(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(n){var i={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned},o=e.activeCellEdit!==null&&e.cellPositionUtils.equals(e.activeCellEdit,i),s=e.activeRowEdit!==null&&e.rowPositionUtils.sameRow(e.activeRowEdit,i),a=o||s||e.isPasting||e.isRangeInAction;if(a){var l=n.rowPinned,u=n.rowIndex,c=n.column,d=n.oldValue,f=n.value,p={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:f,oldValue:d};e.cellValueChanges.push(p)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return t.prototype.init=function(){var e=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var n=this.gridOptionsService.get("undoRedoCellEditingLimit");n<=0||(this.undoStack=new IR(n),this.redoStack=new IR(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,_.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,_.EVENT_MODEL_UPDATED,function(i){i.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,_.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,_.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,_.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,_.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){var n={type:_.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(n);var i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:_.EVENT_UNDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(o)},t.prototype.redo=function(e){var n={type:_.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(n);var i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:_.EVENT_REDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(o)},t.prototype.undoRedo=function(e,n,i,o,s){if(!e)return!1;var a=e.pop();return!a||!a.cellValueChanges?!1:(this.processAction(a,function(l){return l[o]},s),a instanceof Jy?this.processRange(a.ranges||[a[i]]):this.processCell(a.cellValueChanges),n.push(a),!0)},t.prototype.processAction=function(e,n,i){var o=this;e.cellValueChanges.forEach(function(s){var a=s.rowIndex,l=s.rowPinned,u=s.columnId,c={rowIndex:a,rowPinned:l},d=o.getRowNode(c);d.displayed&&d.setDataValue(u,n(s),i)})},t.prototype.processRange=function(e){var n=this,i;this.rangeService.removeAllCellRanges(!0),e.forEach(function(o,s){if(o){var a=o.startRow,l=o.endRow;s===e.length-1&&(i={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(i));var u={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};n.rangeService.addCellRange(u)}})},t.prototype.processCell=function(e){var n=e[0],i=n.rowIndex,o=n.rowPinned,s={rowIndex:i,rowPinned:o},a=this.getRowNode(s),l={rowPinned:n.rowPinned,rowIndex:a.rowIndex,columnId:n.columnId};this.setLastFocusedCell(l,!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,n){var i=e.rowIndex,o=e.columnId,s=e.rowPinned,a=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){a.ensureIndexVisible(i),a.ensureColumnVisible(l);var u={rowIndex:i,column:l,rowPinned:s};this.focusService.setFocusedCell(Oh(Oh({},u),{forceBrowserFocus:!0})),n&&this.rangeService.setRangeToCell(u)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_ROW_EDITING_STARTED,function(n){e.activeRowEdit={rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,_.EVENT_ROW_EDITING_STOPPED,function(){var n=new zc(e.cellValueChanges);e.pushActionsToUndoStack(n),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_CELL_EDITING_STARTED,function(n){e.activeCellEdit={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,_.EVENT_CELL_EDITING_STOPPED,function(n){e.activeCellEdit=null;var i=n.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction;if(i){var o=new zc(e.cellValueChanges);e.pushActionsToUndoStack(o)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,_.EVENT_PASTE_END,function(){var n=new zc(e.cellValueChanges);e.pushActionsToUndoStack(n),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,_.EVENT_FILL_END,function(n){var i=new Jy(e.cellValueChanges,n.initialRange,n.finalRange);e.pushActionsToUndoStack(i),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,_.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var n;e.rangeService&&e.gridOptionsService.get("enableRangeSelection")?n=new Jy(e.cellValueChanges,void 0,void 0,P6([],I6(e.rangeService.getCellRanges()),!1)):n=new zc(e.cellValueChanges),e.pushActionsToUndoStack(n),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},qi([w("focusService")],t.prototype,"focusService",void 0),qi([w("ctrlsService")],t.prototype,"ctrlsService",void 0),qi([w("rowModel")],t.prototype,"rowModel",void 0),qi([w("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),qi([w("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),qi([w("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),qi([w("columnModel")],t.prototype,"columnModel",void 0),qi([rt("rangeService")],t.prototype,"rangeService",void 0),qi([ne],t.prototype,"init",null),t=qi([fe("undoRedoService")],t),t}(Q),N6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),eC=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},L6=function(r){N6(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.findHeader=function(e,n){var i,o,s;if(e.column instanceof tn?(o="getDisplayedGroup".concat(n),i=this.columnModel[o](e.column)):(s="getDisplayedCol".concat(n),i=this.columnModel[s](e.column)),!!i){var a=e.headerRowIndex,l=this.getHeaderRowType(a);if(l===An.COLUMN_GROUP){var u=i;if(u.isPadding()&&this.isAnyChildSpanningHeaderHeight(u)){var c=this.getColumnVisibleChild(u,a,n),d=c.nextFocusColumn,f=c.nextRow;d&&(i=d,a=f)}}return{column:i,headerRowIndex:a}}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return e?e.getLeafColumns().some(function(n){return n.isSpanHeaderHeight()}):!1},t.prototype.getColumnVisibleParent=function(e,n){var i=this.getHeaderRowType(n),o=i===An.FLOATING_FILTER,s=i===An.COLUMN,a=o?e:e.getParent(),l=n-1;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;a&&a.isPadding();)a=a.getParent(),l--;l<0&&(a=e,l=n)}return{nextFocusColumn:a,nextRow:l}},t.prototype.getColumnVisibleChild=function(e,n,i){i===void 0&&(i="After");var o=this.getHeaderRowType(n),s=e,a=n+1;if(o===An.COLUMN_GROUP){var l=e.getDisplayedLeafColumns(),u=i==="After"?l[0]:ut(l);if(this.isAnyChildSpanningHeaderHeight(u.getParent())){s=u;for(var c=u.getParent();c&&c!==e;)c=c.getParent(),a++}else s=e.getDisplayedChildren()[0]}return{nextFocusColumn:s,nextRow:a}},t.prototype.getHeaderRowType=function(e){var n=this.ctrlsService.getHeaderRowContainerCtrl();if(n)return n.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,n){var i=this.columnModel.getAllDisplayedColumns(),o=i[n==="start"?0:i.length-1];if(o){var s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),a=s.getRowType(e);if(a==An.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,e);return{headerRowIndex:e,column:l}}return{headerRowIndex:a==null?-1:e,column:o}}},eC([w("columnModel")],t.prototype,"columnModel",void 0),eC([w("ctrlsService")],t.prototype,"ctrlsService",void 0),t=eC([fe("headerPositionUtils")],t),t}(Q),k6=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G6=function(){function r(){}return r.prototype.buildColumnDefs=function(t,e,n){var i=this,o=[],s={};return t.forEach(function(a){for(var l=i.createDefFromColumn(a,e,n),u=!0,c=l,d=a.getOriginalParent(),f=null;d;){var p=null;if(d.isPadding()){d=d.getOriginalParent();continue}var h=s[d.getGroupId()];if(h){h.children.push(c),u=!1;break}if(p=i.createDefFromGroup(d),p&&(p.children=[c],s[p.groupId]=p,c=p,d=d.getOriginalParent()),d!=null&&f===d){u=!1;break}f=d}u&&o.push(c)}),o},r.prototype.createDefFromGroup=function(t){var e=uh(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},r.prototype.createDefFromColumn=function(t,e,n){var i=uh(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?n.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=t.isVisible()?void 0:!0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,i},r=k6([fe("columnDefFactory")],r),r}(),tC=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},V6=function(){function r(){}return r.prototype.getInitialRowClasses=function(t){var e=[];return X(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),pC(e,this.processClassesFromGridOptions(t.rowNode)),pC(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned==="left"&&e.push("ag-cell-last-left-pinned"),t.pinned==="right"&&e.push("ag-cell-first-right-pinned")),e},r.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(l){typeof l=="string"?e.push(l):Array.isArray(l)&&l.forEach(function(u){return e.push(u)})},i=this.gridOptionsService.get("rowClass");if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var s={data:t.data,node:t,rowIndex:t.rowIndex},a=o(s);n(a)}return e},r.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(n){e.push(n)},function(n){}),e},r.prototype.processRowClassRules=function(t,e,n){var i={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),i,e,n)},r.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},tC([w("stylingService")],r.prototype,"stylingService",void 0),tC([w("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r=tC([fe("rowCssClassCalculator")],r),r}(),H6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),nh=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},B6=function(r){H6(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(n){return e.isAccentedSort=n.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,n){var i=function(s,a){return{currentPos:a,rowNode:s}},o=e.map(i);return o.sort(this.compareRowNodes.bind(this,n)),o.map(function(s){return s.rowNode})},t.prototype.compareRowNodes=function(e,n,i){for(var o=n.rowNode,s=i.rowNode,a=0,l=e.length;a<l;a++){var u=e[a],c=u.sort==="desc",d=this.getValue(o,u.column),f=this.getValue(s,u.column),p=void 0,h=this.getComparator(u,o);h?p=h(d,f,o,s,c):p=He.defaultComparator(d,f,this.isAccentedSort);var g=!isNaN(p);if(g&&p!==0)return u.sort==="asc"?p:p*-1}return n.currentPos-i.currentPos},t.prototype.getComparator=function(e,n){var i=e.column,o=i.getColDef().comparator;if(o!=null)return o;if(i.getColDef().showRowGroup){var s=!n.group&&i.getColDef().field;if(s){var a=this.columnModel.getPrimaryColumn(s);if(a)return a.getColDef().comparator}}},t.prototype.getValue=function(e,n){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(n,e,!1,!1);var s=e.rowGroupColumn===n;if(s){var a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(a){var l=(i=e.allLeafChildren)===null||i===void 0?void 0:i[0];return l?this.valueService.getValue(n,l,!1,!1):void 0}var u=this.columnModel.getGroupDisplayColumnForGroup(n.getId());return u?(o=e.groupData)===null||o===void 0?void 0:o[u.getId()]:void 0}if(!(e.group&&n.getColDef().showRowGroup))return this.valueService.getValue(n,e,!1,!1)},nh([w("valueService")],t.prototype,"valueService",void 0),nh([w("columnModel")],t.prototype,"columnModel",void 0),nh([ne],t.prototype,"init",null),t=nh([fe("rowNodeSorter")],t),t}(Q),j6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),U6=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},W6=function(r){j6(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.ready=!1,n.readyCallbacks=[],n}e=t,t.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var n=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(n)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(n){this.ready?n(this.createReadyParams()):this.readyCallbacks.push(n)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(n){this.fakeHScrollComp=n,this.checkReady()},t.prototype.registerFakeVScrollComp=function(n){this.fakeVScrollComp=n,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(n){this.gridHeaderCtrl=n,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(n){this.centerRowContainerCtrl=n,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(n){this.leftRowContainerCtrl=n,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(n){this.rightRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(n){this.topCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(n){this.topLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(n){this.topRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(n){this.stickyTopCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(n){this.stickyTopLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(n){this.stickyTopRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(n){this.bottomCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(n){this.bottomLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(n){this.bottomRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerHeaderContainer=function(n,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=n;break;case"right":this.rightHeaderRowContainerCtrl=n;break;default:this.centerHeaderRowContainerCtrl=n;break}this.checkReady()},t.prototype.registerGridBodyCtrl=function(n){this.gridBodyCtrl=n,this.checkReady()},t.prototype.registerGridCtrl=function(n){this.gridCtrl=n,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(n){switch(n){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var e;return t.NAME="ctrlsService",t=e=U6([fe(e.NAME)],t),t}(Q),z6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$6=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},K6=function(r){z6(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.registry={},e}return t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var n=this.registry[e];if(n!=null)return new n},t=$6([fe("ctrlsFactory")],t),t}(Q),Y6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DO=function(r){Y6(t,r);function t(e,n){var i=r.call(this,e)||this;return i.direction=n,i.hideTimeout=null,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,_.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",zC()||Cs())},t.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=$C(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,n=["mouseenter","mousedown","touchstart"],i=["mouseleave","touchend"],o=this.getGui();n.forEach(function(s){return e.addManagedListener(o,s,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),i.forEach(function(s){return e.addManagedListener(o,s,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){var e=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return e.setScrollVisible()})},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_BODY_SCROLL,function(n){n.direction===e.direction&&(e.hideTimeout!==null&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,_.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.attemptSettingScrollPosition=function(e){var n=this,i=this.getViewport();FC(function(){return fr(i)},function(){return n.setScrollPosition(e)},100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},Mc([oe("eViewport")],t.prototype,"eViewport",void 0),Mc([oe("eContainer")],t.prototype,"eContainer",void 0),Mc([w("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Mc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Mc([w("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(ke),q6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},X6=function(r){q6(t,r);function t(){return r.call(this,t.TEMPLATE,"horizontal")||this}return t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,_.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new pw(function(i){return e.eContainer.style.width="".concat(i,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},t.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),r.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}},t.prototype.onScrollVisibilityChanged=function(){r.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,o=this.gridOptionsService.getScrollbarWidth();i&&(n+=o),qr(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=o);var s=this.columnModel.getDisplayedColumnsLeftWidth(),a=this.enableRtl&&e;a&&(s+=o),qr(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,i=this.gridOptionsService.get("suppressHorizontalScroll"),o=e&&this.gridOptionsService.getScrollbarWidth()||0,s=o===0&&n?16:o,a=i?0:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),ya(this.getGui(),a),ya(this.eViewport,a),ya(this.eContainer,a),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return Jc(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){fr(this.getViewport())||this.attemptSettingScrollPosition(e),ed(this.getViewport(),e,this.enableRtl)},t.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,Nc([oe("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),Nc([oe("eRightSpacer")],t.prototype,"eRightSpacer",void 0),Nc([w("columnModel")],t.prototype,"columnModel",void 0),Nc([w("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Nc([ne],t.prototype,"postConstruct",null),t}(DO),Q6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),nC=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Z6=function(r){Q6(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,_.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),n=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,this.eventService.dispatchEvent({type:_.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:_.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},nC([w("columnModel")],t.prototype,"columnModel",void 0),nC([ne],t.prototype,"postConstruct",null),t=nC([fe("pinnedWidthService")],t),t}(Q),J6=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rh=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},e5=function(r){J6(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.events=[],e}return t.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var n=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);var i=function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach(function(o){return n.eventService.dispatchEvent(o)}),n.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced()},rh([w("animationFrameService")],t.prototype,"animationFrameService",void 0),rh([w("rowModel")],t.prototype,"rowModel",void 0),rh([ne],t.prototype,"postConstruct",null),t=rh([fe("rowNodeEventThrottle")],t),t}(Q),t5={},ls=function(r,t){var e;return((e=t.rowModelType)!==null&&e!==void 0?e:"clientSide")==="clientSide"?{module:ge.RowGroupingModule}:null},n5={enableRowGroup:ls,rowGroup:ls,rowGroupIndex:ls,enablePivot:ls,enableValue:ls,pivot:ls,pivotIndex:ls,aggFunc:ls,cellEditor:function(r){return r.cellEditor==="agRichSelect"||r.cellEditor==="agRichSelectCellEditor"?{module:ge.RichSelectModule}:null},menuTabs:function(r){var t,e=["columnsMenuTab","generalMenuTab"];return!((t=r.menuTabs)===null||t===void 0)&&t.some(function(n){return e.includes(n)})?{module:ge.MenuModule}:null},columnsMenuParams:{module:[ge.MenuModule,ge.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(r,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(r,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(r,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return Nl}},Nl={objectName:"colDef",allProperties:a4.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:t5,validations:n5},PR=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},MR=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},r5={enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."}},i5={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFadeDelay:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0},o5={sideBar:{module:ge.SideBarModule},statusBar:{module:ge.StatusBarModule},enableCharts:{module:ge.GridChartsModule},getMainMenuItems:{module:ge.MenuModule},getContextMenuItems:{module:ge.MenuModule},allowContextMenuWithControlKey:{module:ge.MenuModule},enableAdvancedFilter:{module:ge.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:ge.RowGroupingModule,dependencies:function(r){var t,e=(t=r.rowModelType)!==null&&t!==void 0?t:"clientSide";switch(e){case"clientSide":var n="treeData requires 'getDataPath' in the ".concat(e," row model.");return r.getDataPath?null:n;case"serverSide":var i="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(e," row model.");return r.isServerSideGroup&&r.getServerSideGroupKey?null:i}return null}},masterDetail:{module:ge.MasterDetailModule},enableRangeSelection:{module:ge.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(r){var t,e=(t=r.rowModelType)!==null&&t!==void 0?t:"clientSide";switch(e){case"clientSide":return null;case"serverSide":var n="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return r.suppressServerSideInfiniteScroll?n:null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:ge.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:ge.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:ge.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:ge.ClientSideRowModelModule},columnDefs:function(){return Nl},defaultColDef:function(){return Nl},defaultColGroupDef:function(){return Nl},autoGroupColumnDef:function(){return Nl}},s5={objectName:"gridOptions",allProperties:MR(MR([],PR(Zi.ALL_PROPERTIES),!1),PR(id.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:r5,validations:o5},_o=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ih=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},rC=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},TO=function(){function r(){var e=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new ys,this.globalEventHandlerFactory=function(n){return function(i,o){if(!e.destroyed){var s=t.alwaysSyncGlobalEvents.has(i);if(!(s&&!n||!s&&n)){var a=id.getCallbackForEvent(i);typeof e.gridOptions[a]=="function"&&e.gridOptions[a](o)}}}}}t=r,Object.defineProperty(r.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),r.prototype.init=function(){this.columnApi=new ld(this.api);var e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()},r.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},r.prototype.get=function(e){var n;return(n=this.gridOptions[e])!==null&&n!==void 0?n:i5[e]},r.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},r.prototype.exists=function(e){return X(this.gridOptions[e])},r.prototype.mergeGridCommonParams=function(e){var n=this;if(e){var i=function(o){var s=o;return s.api=n.api,s.columnApi=n.columnApi,s.context=n.context,e(s)};return i}return e},r.toBoolean=function(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1},r.toNumber=function(e){if(typeof e=="number")return e;if(typeof e=="string"){var n=parseInt(e);return isNaN(n)?void 0:n}},r.toConstrainedNum=function(e,n){return function(i){var o=t.toNumber(i);if(!(o==null||o<e||o>n))return o}},r.getCoercedValue=function(e,n){var i=t.PROPERTY_COERCIONS.get(e);return i?i(n):n},r.getCoercedGridOptions=function(e){var n={};return Object.entries(e).forEach(function(i){var o=ih(i,2),s=o[0],a=o[1],l=t.getCoercedValue(s,a);n[s]=l}),n},r.prototype.updateGridOptions=function(e){var n=this,i=e.options,o=e.source,s=o===void 0?"api":o,a={id:t.changeSetId++,properties:[]},l=[];Object.entries(i).forEach(function(u){var c=ih(u,2),d=c[0],f=c[1];s==="api"&&mH[d]&&Pe("".concat(d," is an initial property and cannot be updated."));var p=t.getCoercedValue(d,f),h=typeof p=="object"&&s==="api",g=n.gridOptions[d];if(h||g!==p){n.gridOptions[d]=p;var v={type:d,currentValue:p,previousValue:g,changeSet:a,source:s};l.push(v)}}),this.validationService.processGridOptions(this.gridOptions),a.properties=l.map(function(u){return u.type}),l.forEach(function(u){n.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(u.type," from ").concat(String(u.previousValue)," to ").concat(String(u.currentValue),".")),n.propertyEventService.dispatchEvent(u)})},r.prototype.addEventListener=function(e,n){this.propertyEventService.addEventListener(e,n)},r.prototype.removeEventListener=function(e,n){this.propertyEventService.removeEventListener(e,n)},r.prototype.getGridId=function(){return this.api.getGridId()},r.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var e=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,n=e?this.gridOptions.scrollbarWidth:OA();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:_.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},r.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&Oe(this.gridOptions.rowModelType)},r.prototype.isDomLayout=function(e){var n,i=(n=this.gridOptions.domLayout)!==null&&n!==void 0?n:"normal";return i===e},r.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},r.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},r.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},r.prototype.getRowHeightForNode=function(e,n,i){if(n===void 0&&(n=!1),i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:i,estimated:!0};var o={node:e,data:e.data},s=this.getCallback("getRowHeight")(o);if(this.isNumeric(s))return s===0&&Pe("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,s),estimated:!1}}if(e.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();var a=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i;return{height:a,estimated:!1}},r.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},r.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||Oe(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},r.prototype.isNumeric=function(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)},r.prototype.getDomDataKey=function(){return this.domDataKey},r.prototype.getDomData=function(e,n){var i=e[this.getDomDataKey()];return i?i[n]:void 0},r.prototype.setDomData=function(e,n,i){var o=this.getDomDataKey(),s=e[o];Oe(s)&&(s={},e[o]=s),s[n]=i},r.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&X(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&X(e)?e:document},r.prototype.getWindow=function(){var e=this.getDocument();return e.defaultView||window},r.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},r.prototype.getAsyncTransactionWaitMillis=function(){return X(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},r.prototype.isAnimateRows=function(){return this.get("ensureDomOrder")?!1:this.get("animateRows")},r.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents"))},r.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.gridOptions.autoGroupColumnDef;return!e?.comparator&&!this.get("treeData")},r.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(e===!0)return function(){return!0}},r.prototype.isGroupIncludeFooterTrueOrCallback=function(){var e=this.gridOptions.groupIncludeFooter;return e===!0||typeof e=="function"},r.prototype.getGroupIncludeFooter=function(){var e=this.gridOptions.groupIncludeFooter;return typeof e=="function"?this.getCallback("groupIncludeFooter"):e===!0?function(){return!0}:function(){return!1}},r.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")},r.prototype.isGroupUseEntireRow=function(e){return e?!1:this.gridOptions.groupDisplayType==="groupRows"};var t;return r.alwaysSyncGlobalEvents=new Set([_.EVENT_GRID_PRE_DESTROYED]),r.PROPERTY_COERCIONS=new Map(rC(rC(rC([],ih(Zi.BOOLEAN_PROPERTIES.map(function(e){return[e,t.toBoolean]})),!1),ih(Zi.NUMBER_PROPERTIES.map(function(e){return[e,t.toNumber]})),!1),[["groupAggFiltering",function(e){return typeof e=="function"?e:t.toBoolean(e)}],["pageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",t.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",t.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",t.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),r.changeSetId=0,_o([w("gridOptions")],r.prototype,"gridOptions",void 0),_o([w("eventService")],r.prototype,"eventService",void 0),_o([w("environment")],r.prototype,"environment",void 0),_o([w("eGridDiv")],r.prototype,"eGridDiv",void 0),_o([w("validationService")],r.prototype,"validationService",void 0),_o([w("gridApi")],r.prototype,"api",void 0),_o([ne],r.prototype,"init",null),_o([Un],r.prototype,"destroy",null),r=t=_o([fe("gridOptionsService")],r),r}(),a5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),l5=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},u5=function(r){a5(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(i,o,s){var a={key:i,defaultValue:o,variableValues:s};return e(a)};var n=this.gridOptionsService.get("localeText");return function(i,o,s){var a=n&&n[i];if(a&&s&&s.length)for(var l=0;!(l>=s.length);){var u=a.indexOf("${variable}");if(u===-1)break;a=a.replace("${variable}",s[l++])}return a??o}},t=l5([fe("localeService")],t),t}(Q),c5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),d5=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},f5=function(r){c5(t,r);function t(){return r.call(this,t.TEMPLATE,"vertical")||this}return t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createManagedBean(new CO(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,_.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,i=e&&this.gridOptionsService.getScrollbarWidth()||0,o=i===0&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),qr(this.getGui(),o),qr(this.eViewport,o),qr(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var e=this.ctrlsService.getGridBodyCtrl(),n=e.getBodyViewportElement();this.eViewport.scrollTop!=n.scrollTop&&(this.eViewport.scrollTop=n.scrollTop)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e){fr(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,d5([ne],t.prototype,"postConstruct",null),t}(DO),p5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ar=function(){return ar=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ar.apply(this,arguments)},ca=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xi=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Lc=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},NR={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},LR=["january","february","march","april","may","june","july","august","september","october","november","december"],h5=function(r){p5(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){e.groupHideOpenParents=e.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs("gridOptionsChanged")})},t.prototype.processDataTypeDefinitions=function(){var e=this,n,i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(function(s){var a=Xi(s,2),l=a[0],u=a[1];e.dataTypeDefinitions[l]=ar(ar({},u),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(u)})});var o=(n=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&n!==void 0?n:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(s){var a=Xi(s,2),l=a[0],u=a[1],c=e.processDataTypeDefinition(u,o,[l],i);c&&(e.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(e.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(function(s){var a=e.dataTypeMatchers[s];a&&delete e.dataTypeMatchers[s],e.dataTypeMatchers[s]=a??i[s].dataTypeMatcher})},t.prototype.mergeDataTypeDefinitions=function(e,n){var i=ar(ar({},e),n);return e.columnTypes&&n.columnTypes&&n.appendColumnTypes&&(i.columnTypes=Lc(Lc([],Xi(this.convertColumnTypes(e.columnTypes)),!1),Xi(this.convertColumnTypes(n.columnTypes)),!1)),i},t.prototype.processDataTypeDefinition=function(e,n,i,o){var s,a=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var l=o[a],u=n[a];if(l&&u&&(l=u),!this.validateDataTypeDefinition(e,l,a))return;s=this.mergeDataTypeDefinitions(l,e)}else{if(i.includes(a)){Pe('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}var c=n[a];if(!this.validateDataTypeDefinition(e,c,a))return;var d=this.processDataTypeDefinition(c,n,Lc(Lc([],Xi(i),!1),[a],!1),o);if(!d)return;s=this.mergeDataTypeDefinitions(d,e)}return ar(ar({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})},t.prototype.validateDataTypeDefinition=function(e,n,i){return n?n.baseDataType!==e.baseDataType?(Pe('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Pe("The data type definition ".concat(i," does not exist.")),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var n=this;if(e.valueFormatter)return function(i){var o,s;if(!((o=i.node)===null||o===void 0)&&o.group){var a=i.column.getAggFunc();if(a){if(a==="first"||a==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&a!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(ar(ar({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(ar(ar({},i),{value:i.value.value}))}}}if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(n.groupHideOpenParents&&i.column.isRowGroupActive()){if(typeof i.value!="string"||!((s=e.dataTypeMatcher)===null||s===void 0)&&s.call(e,i.value))return e.valueFormatter(i);if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(i)}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,n,i){var o=n.cellDataType,s=n.field;if(o===void 0&&(o=e.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(e,n)?this.inferCellDataType(s,i):!1),!o){e.cellDataType=!1;return}var a=this.dataTypeDefinitions[o];if(!a){Pe('Missing data type definition - "'.concat(o,'"'));return}return e.cellDataType=o,a.groupSafeValueFormatter&&(e.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(e.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,a,i),a.columnTypes},t.prototype.updateColDefAndGetColumnType=function(e,n,i){var o,s,a=this.updateColDefAndGetDataTypeDefinitionColumnType(e,n,i),l=(s=(o=n.type)!==null&&o!==void 0?o:a)!==null&&s!==void 0?s:e.type;return e.type=l,l?this.convertColumnTypes(l):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var n=this.columnStateUpdatesPendingInference[e.getColId()];if(n){var i=function(o){n.add(o.key)};e.addEventListener(yt.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(function(){return e.removeEventListener(yt.EVENT_STATE_UPDATED,i)})}}},t.prototype.canInferCellDataType=function(e,n){var i=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(n,s))return!1;var a=n.type===null?e.type:n.type;if(a){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},u=this.convertColumnTypes(a).some(function(c){var d=l[c.trim()];return d&&i.doColDefPropsPreventInference(d,s)});if(u)return!1}return!this.doColDefPropsPreventInference(e,s)},t.prototype.doColDefPropsPreventInference=function(e,n){var i=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var s=Xi(o,2),a=s[0],l=s[1];return i.doesColDefPropPreventInference(e,n,a,l)})},t.prototype.doesColDefPropPreventInference=function(e,n,i,o){if(!n[i])return!1;var s=e[i];return s===null?(n[i]=!1,!1):o===void 0?!!s:s===o},t.prototype.inferCellDataType=function(e,n){var i;if(e){var o,s=this.getInitialData();if(s){var a=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=Ll(s,e,a)}else this.initWaitForRowData(n);if(o!=null){var l=Xi((i=Object.entries(this.dataTypeMatchers).find(function(c){var d=Xi(c,2);d[0];var f=d[1];return f(o)}))!==null&&i!==void 0?i:["object"],1),u=l[0];return u}}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;var n=this.rowModel.getRootNode().allLeafChildren;return n?.length?n[0].data:null},t.prototype.initWaitForRowData=function(e){var n=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,_.EVENT_ROW_DATA_UPDATE_STARTED,function(s){var a=s.firstRowData;if(a){o?.(),n.isWaitingForRowData=!1,n.processColumnsPendingInference(a,i),n.columnStateUpdatesPendingInference={},i&&n.columnModel.processResizeOperations();var l={type:_.EVENT_DATA_TYPES_INFERRED};n.eventService.dispatchEvent(l)}})}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,n){var i=this;this.initialData=e;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var s={},a={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=Xi(l,2),c=u[0],d=u[1],f=i.columnModel.getGridColumn(c);if(f){var p=f.getColDef();if(i.columnModel.resetColumnDefIntoColumn(f,"cellDataTypeInferred")){var h=f.getColDef();if(n&&h.type&&h.type!==p.type){var g=i.getUpdatedColumnState(f,d);g.rowGroup&&g.rowGroupIndex==null&&(s[c]=g),g.pivot&&g.pivotIndex==null&&(a[c]=g),o.push(g)}}}}),n&&o.push.apply(o,Lc([],Xi(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,a)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,n){var i=this.columnModel.getColumnStateFromColDef(e);return n.forEach(function(o){delete i[o],o==="rowGroup"?delete i.rowGroupIndex:o==="pivot"&&delete i.pivotIndex}),i},t.prototype.checkObjectValueHandlers=function(e){var n=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=n.valueParser!==i.valueParser,this.hasObjectValueFormatter=n.valueFormatter!==i.valueFormatter},t.prototype.convertColumnTypes=function(e){var n=[];if(e instanceof Array){var i=e.some(function(o){return typeof o!="string"});i?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):n=e}else typeof e=="string"?n=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'");return n},t.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},t.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},t.prototype.getDataTypeDefinition=function(e){var n=e.getColDef();if(n.cellDataType)return this.dataTypeDefinitions[n.cellDataType]},t.prototype.getBaseDataType=function(e){var n;return(n=this.getDataTypeDefinition(e))===null||n===void 0?void 0:n.baseDataType},t.prototype.checkType=function(e,n){var i;if(n==null)return!0;var o=(i=this.getDataTypeDefinition(e))===null||i===void 0?void 0:i.dataTypeMatcher;return o?o(n):!0},t.prototype.validateColDef=function(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Pe('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Pe('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},t.prototype.setColDefPropertiesForBaseDataType=function(e,n,i){var o=this,s=function(d,f,p){var h=d.getColDef().valueFormatter;return h===n.groupSafeValueFormatter&&(h=n.valueFormatter),o.valueFormatterService.formatValue(d,f,p,h)},a=Le.__isRegistered(ge.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var f=e.filterParams;e.filterParams=typeof f=="object"?ar(ar({},f),d):d};switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",a&&u({comparator:function(d,f){var p=d==null?0:parseInt(d),h=f==null?0:parseInt(f);return p===h?0:p>h?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===B.SPACE},u(a?{valueFormatter:function(d){return X(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,f){return f},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,f){return f===!1},numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=function(d){return s(d.column,d.node,d.value)},a&&u({valueFormatter:function(d){var f=s(d.column,d.node,d.value);return X(f)?f:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,f){if(f===1&&d!=null){var p=LR[Number(d)-1];return l(p,NR[p])}return d??l("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=function(d){return s(d.column,d.node,d.value)};var c=this.getDateParserFunction();u(a?{valueFormatter:function(d){var f=s(d.column,d.node,d.value);return X(f)?f:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var f=c(d??void 0);return f?[String(f.getFullYear()),String(f.getMonth()+1),String(f.getDate())]:null},treeListFormatter:function(d,f){if(f===1&&d!=null){var p=LR[Number(d)-1];return l(p,NR[p])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,f){var p=c(f);return f==null||p<d?-1:p>d?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=function(d,f){var p=o.columnModel.getPrimaryColumn(i),h=p?.getColDef();if(!p||!h)return 0;var g=d==null?"":s(p,null,d),v=f==null?"":s(p,null,f);return g===v?0:g>v?1:-1},e.keyCreator=function(d){return s(d.column,d.node,d.value)},a?u({valueFormatter:function(d){var f=s(d.column,d.node,d.value);return X(f)?f:l("blanks","(Blanks)")}}):e.filterValueGetter=function(d){return s(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},t.prototype.getDefaultDataTypes=function(){var e=function(i){return!!i.match("^\\d{4}-\\d{2}-\\d{2}$")},n=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(i){return i.newValue===""?null:Number(i.newValue)},valueFormatter:function(i){return i.value==null?"":typeof i.value!="number"||isNaN(i.value)?(console.log("was",typeof i.value,i.value,i),n("invalidNumber","Invalid Number")):String(i.value)},dataTypeMatcher:function(i){return typeof i=="number"}},text:{baseDataType:"text",valueParser:function(i){return i.newValue===""?null:qc(i.newValue)},dataTypeMatcher:function(i){return typeof i=="string"}},boolean:{baseDataType:"boolean",valueParser:function(i){return i.newValue==null?i.newValue:i.newValue===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:function(i){return i.value==null?"":String(i.value)},dataTypeMatcher:function(i){return typeof i=="boolean"}},date:{baseDataType:"date",valueParser:function(i){return cr(i.newValue==null?null:String(i.newValue))},valueFormatter:function(i){var o;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?n("invalidDate","Invalid Date"):(o=Yr(i.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(i){return i instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(i){var o;return(o=cr(i))!==null&&o!==void 0?o:void 0},dateFormatter:function(i){var o;return(o=Yr(i??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(i){return e(String(i.newValue))?i.newValue:null},valueFormatter:function(i){return e(String(i.value))?i.value:""},dataTypeMatcher:function(i){return typeof i=="string"&&e(i)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(i){var o;return(o=qc(i.value))!==null&&o!==void 0?o:""}}}},ca([w("rowModel")],t.prototype,"rowModel",void 0),ca([w("columnModel")],t.prototype,"columnModel",void 0),ca([w("columnUtils")],t.prototype,"columnUtils",void 0),ca([w("valueService")],t.prototype,"valueService",void 0),ca([w("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ca([ne],t.prototype,"init",null),t=ca([fe("dataTypeService")],t),t}(Q),g5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},v5=function(r){g5(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.parseValue=function(e,n,i,o){var s=e.getColDef(),a={node:n,data:n?.data,oldValue:o,newValue:i,colDef:s,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},l=s.valueParser;return X(l)?typeof l=="function"?l(a):this.expressionService.evaluate(l,a):i},kR([w("expressionService")],t.prototype,"expressionService",void 0),t=kR([fe("valueParserService")],t),t}(Q),m5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y5=function(r){m5(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.waitingForColumns=!1,e}return t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListener("columnDefs",function(n){return e.setColumnDefs(n)})},t.prototype.start=function(){var e=this;this.ctrlsService.whenReady(function(){var n=e.gridOptionsService.get("columnDefs");n?e.setColumnsAndData(n):e.waitingForColumns=!0,e.gridReady()})},t.prototype.setColumnsAndData=function(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()},t.prototype.gridReady=function(){var e=this;this.dispatchGridReadyEvent();var n=Le.__isRegistered(ge.EnterpriseCoreModule,this.context.getGridId()),i=new mw("AG Grid",function(){return e.gridOptionsService.get("debug")});i.log("initialised successfully, enterprise = ".concat(n))},t.prototype.dispatchGridReadyEvent=function(){var e={type:_.EVENT_GRID_READY};this.eventService.dispatchEvent(e)},t.prototype.setColumnDefs=function(e){var n,i=this.gridOptionsService.get("columnDefs");if(i){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(i);return}var o=(n=e.source)!==null&&n!==void 0?n:"api";this.columnModel.setColumnDefs(i,o)}},kc([w("ctrlsService")],t.prototype,"ctrlsService",void 0),kc([w("columnModel")],t.prototype,"columnModel",void 0),kc([w("rowModel")],t.prototype,"rowModel",void 0),kc([ne],t.prototype,"postConstruct",null),t=kc([fe("syncService")],t),t}(Q),C5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},w5=function(r){C5(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.manuallyDisplayed=!1,e}return t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_ROW_DATA_UPDATED,function(){return e.onRowDataUpdated()}),this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var e={},n=this.userComponentFactory.getLoadingOverlayCompDetails(e);this.showOverlay(n,"ag-overlay-loading-wrapper")}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var e={},n=this.userComponentFactory.getNoRowsOverlayCompDetails(e);this.showOverlay(n,"ag-overlay-no-rows-wrapper")}},t.prototype.showOverlay=function(e,n){var i=e.newAgStackInstance();this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(i,n)},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),n=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!n?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},Gc([w("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Gc([w("paginationProxy")],t.prototype,"paginationProxy",void 0),Gc([w("columnModel")],t.prototype,"columnModel",void 0),Gc([ne],t.prototype,"postConstruct",null),t=Gc([fe("overlayService")],t),t}(Q),_5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fs=function(){return fs=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},fs.apply(this,arguments)},Wr=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},S5=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},E5=function(r){_5(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.suppressEvents=!0,e.queuedUpdateSources=new Set,e.dispatchStateUpdateEventDebounced=$r(function(){return e.dispatchQueuedStateUpdateEvents()},0),e}return t.prototype.postConstruct=function(){var e=this,n;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},this.ctrlsService.whenReady(function(){return e.setupStateOnGridReady()});var i=this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,function(a){var l=a.source;l==="gridInitializing"&&(i?.(),e.setupStateOnColumnsInitialised())}),o=this.addManagedListener(this.eventService,_.EVENT_ROW_COUNT_READY,function(){o?.(),e.setupStateOnRowCountReady()}),s=this.addManagedListener(this.eventService,_.EVENT_FIRST_DATA_RENDERED,function(){s?.(),e.setupStateOnFirstDataRendered(),e.suppressEvents=!1,e.dispatchStateUpdateEvent(["gridInitializing"])})},t.prototype.getState=function(){return this.cachedState},t.prototype.setupStateOnGridReady=function(){var e=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,_.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return e.updateCachedState("sideBar",e.getSideBarState())}),this.addManagedListener(this.eventService,_.EVENT_SIDE_BAR_UPDATED,function(){return e.updateCachedState("sideBar",e.getSideBarState())})},t.prototype.setupStateOnColumnsInitialised=function(){var e=this,n,i=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=i.filter,s=i.columnGroup;this.setColumnState(i),s&&this.setColumnGroupState(s);var a=this.gridOptionsService.get("advancedFilterModel");(o||a)&&this.setFilterState(o,a),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.updateCachedState("filter",this.getFilterState()),this.addManagedListener(this.eventService,_.EVENT_COLUMN_VALUE_CHANGED,function(){return e.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_MOVED,function(){return e.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PINNED,function(){return e.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_RESIZED,function(){return e.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_VISIBLE,function(){return e.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,_.EVENT_SORT_CHANGED,function(){return e.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,_.EVENT_COLUMN_GROUP_OPENED,function(){return e.updateCachedState("columnGroup",e.getColumnGroupState())}),this.addManagedListener(this.eventService,_.EVENT_FILTER_CHANGED,function(){return e.updateCachedState("filter",e.getFilterState())})},t.prototype.setupStateOnRowCountReady=function(){var e=this,n,i=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=i.rowGroupExpansion,s=i.rowSelection,a=i.pagination;o&&this.setRowGroupExpansionState(o),s&&this.setRowSelectionState(s),a&&this.setPaginationState(a),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,_.EVENT_ROW_GROUP_OPENED,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,_.EVENT_SELECTION_CHANGED,function(){return e.updateCachedState("rowSelection",e.getRowSelectionState())}),this.addManagedListener(this.eventService,_.EVENT_PAGINATION_CHANGED,function(l){(l.newPage||l.newPageSize)&&e.updateCachedState("pagination",e.getPaginationState())})},t.prototype.setupStateOnFirstDataRendered=function(){var e=this,n,i=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=i.scroll,s=i.rangeSelection,a=i.focusedCell;a&&this.setFocusedCellState(a),s&&this.setRangeSelectionState(s),o&&this.setScrollState(o),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,_.EVENT_CELL_FOCUSED,function(){return e.updateCachedState("focusedCell",e.getFocusedCellState())}),this.addManagedListener(this.eventService,_.EVENT_RANGE_SELECTION_CHANGED,function(l){l.finished&&e.updateCachedState("rangeSelection",e.getRangeSelectionState())}),this.addManagedListener(this.eventService,_.EVENT_BODY_SCROLL_END,function(){return e.updateCachedState("scroll",e.getScrollState())})},t.prototype.getColumnState=function(){for(var e=this.columnModel.isPivotMode(),n=[],i=[],o=[],s=[],a=[],l=[],u=[],c=[],d=[],f=this.columnModel.getColumnState(),p=0;p<f.length;p++){var h=f[p],g=h.colId,v=h.sort,m=h.sortIndex,C=h.rowGroup,y=h.rowGroupIndex,x=h.aggFunc,P=h.pivot,R=h.pivotIndex,E=h.pinned,O=h.hide,I=h.width,k=h.flex;d.push(g),v&&(n[m??0]={colId:g,sort:v}),C&&(i[y??0]=g),typeof x=="string"&&o.push({colId:g,aggFunc:x}),P&&(s[R??0]=g),E&&(E==="right"?l:a).push(g),O&&u.push(g),(k||I)&&c.push({colId:g,flex:k??void 0,width:I})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:s.length||e?{pivotMode:e,pivotColIds:s}:void 0,columnPinning:a.length||l.length?{leftColIds:a,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},t.prototype.setColumnState=function(e){var n=e.sort,i=e.rowGroup,o=e.aggregation,s=e.pivot,a=e.columnPinning,l=e.columnVisibility,u=e.columnSizing,c=e.columnOrder,d={},f={},p=function(m){var C=d[m];return C||(C={colId:m},d[m]=C,C)};n&&(n.sortModel.forEach(function(m,C){var y=m.colId,x=m.sort,P=p(y);P.sort=x,P.sortIndex=C}),f.sort=null,f.sortIndex=null),i&&(i.groupColIds.forEach(function(m,C){var y=p(m);y.rowGroup=!0,y.rowGroupIndex=C}),f.rowGroup=null,f.rowGroupIndex=null),o&&(o.aggregationModel.forEach(function(m){var C=m.colId,y=m.aggFunc;p(C).aggFunc=y}),f.aggFunc=null),s&&(s.pivotColIds.forEach(function(m,C){var y=p(m);y.pivot=!0,y.pivotIndex=C}),f.pivot=null,f.pivotIndex=null,this.columnModel.setPivotMode(s.pivotMode)),a&&(a.leftColIds.forEach(function(m){p(m).pinned="left"}),a.rightColIds.forEach(function(m){p(m).pinned="right"}),f.pinned=null),l&&(l.hiddenColIds.forEach(function(m){p(m).hide=!0}),f.hide=null),u&&(u.columnSizingModel.forEach(function(m){var C=m.colId,y=m.flex,x=m.width,P=p(C);P.flex=y??null,P.width=x}),f.flex=null);var h=c?.orderedColIds,g=!!h?.length,v=g?h.map(function(m){return p(m)}):Object.values(d);v.length&&this.columnModel.applyColumnState({state:v,applyOrder:g,defaultState:f},"gridInitializing")},t.prototype.getColumnGroupState=function(){var e=this.columnModel.getColumnGroupState(),n=[];return e.forEach(function(i){var o=i.groupId,s=i.open;s&&n.push(o)}),n.length?{openColumnGroupIds:n}:void 0},t.prototype.setColumnGroupState=function(e){var n=e.openColumnGroupIds,i=new Set(n),o=this.columnModel.getColumnGroupState(),s=o.map(function(a){var l=a.groupId;return{groupId:l,open:i.has(l)}});this.columnModel.setColumnGroupState(s,"gridInitializing")},t.prototype.getFilterState=function(){var e,n=this.filterManager.getFilterModel();n&&Object.keys(n).length===0&&(n=void 0);var i=(e=this.filterManager.getAdvancedFilterModel())!==null&&e!==void 0?e:void 0;return n||i?{filterModel:n,advancedFilterModel:i}:void 0},t.prototype.setFilterState=function(e,n){var i=e??{advancedFilterModel:n},o=i.filterModel,s=i.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),s&&this.filterManager.setAdvancedFilterModel(s)},t.prototype.getRangeSelectionState=function(){var e,n=(e=this.rangeService)===null||e===void 0?void 0:e.getCellRanges().map(function(i){var o=i.id,s=i.type,a=i.startRow,l=i.endRow,u=i.columns,c=i.startColumn;return{id:o,type:s,startRow:a,endRow:l,colIds:u.map(function(d){return d.getColId()}),startColId:c.getColId()}});return n?.length?{cellRanges:n}:void 0},t.prototype.setRangeSelectionState=function(e){var n=this,i;if(this.gridOptionsService.get("enableRangeSelection")){var o=e.cellRanges.map(function(s){return fs(fs({},s),{columns:s.colIds.map(function(a){return n.columnModel.getGridColumn(a)}),startColumn:n.columnModel.getGridColumn(s.startColId)})});(i=this.rangeService)===null||i===void 0||i.setCellRanges(o)}},t.prototype.getScrollState=function(){var e,n,i;if(this.isClientSideRowModel){var o=(e=this.ctrlsService.getGridBodyCtrl())===null||e===void 0?void 0:e.getScrollFeature(),s=((n=o?.getHScrollPosition())!==null&&n!==void 0?n:{left:0}).left,a=((i=o?.getVScrollPosition())!==null&&i!==void 0?i:{top:0}).top;return a||s?{top:a,left:s}:void 0}},t.prototype.setScrollState=function(e){var n;if(this.isClientSideRowModel){var i=e.top,o=e.left;(n=this.ctrlsService.getGridBodyCtrl())===null||n===void 0||n.getScrollFeature().setScrollPosition(i,o)}},t.prototype.getSideBarState=function(){var e,n;return(n=(e=this.sideBarService)===null||e===void 0?void 0:e.getSideBarComp())===null||n===void 0?void 0:n.getState()},t.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var e=this.focusService.getFocusedCell();if(e){var n=e.column,i=e.rowIndex,o=e.rowPinned;return{colId:n.getColId(),rowIndex:i,rowPinned:o}}}},t.prototype.setFocusedCellState=function(e){if(this.isClientSideRowModel){var n=e.colId,i=e.rowIndex,o=e.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(n),rowIndex:i,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},t.prototype.getPaginationState=function(){var e=this.paginationProxy.getCurrentPage(),n=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!e&&!n))return{page:e,pageSize:n}},t.prototype.setPaginationState=function(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationProxy.setPage(e.page)},t.prototype.getRowSelectionState=function(){var e,n=this.selectionService.getSelectionState(),i=!n||!Array.isArray(n)&&(n.selectAll===!1||n.selectAllChildren===!1)&&!(!((e=n?.toggledNodes)===null||e===void 0)&&e.length);return i?void 0:n},t.prototype.setRowSelectionState=function(e){this.selectionService.setSelectionState(e,"gridInitializing")},t.prototype.getRowGroupExpansionState=function(){var e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0},t.prototype.setRowGroupExpansionState=function(e){this.expansionService.expandRows(e.expandedRowGroupIds)},t.prototype.updateColumnState=function(e){var n=this,i=this.getColumnState(),o=!1;Object.entries(i).forEach(function(s){var a=S5(s,2),l=a[0],u=a[1];uC(u,n.cachedState[l])||(o=!0)}),this.cachedState=fs(fs({},this.cachedState),i),o&&this.dispatchStateUpdateEvent(e)},t.prototype.updateCachedState=function(e,n){var i,o=this.cachedState[e];this.cachedState=fs(fs({},this.cachedState),(i={},i[e]=n,i)),uC(n,o)||this.dispatchStateUpdateEvent([e])},t.prototype.dispatchStateUpdateEvent=function(e){var n=this;this.suppressEvents||(e.forEach(function(i){return n.queuedUpdateSources.add(i)}),this.dispatchStateUpdateEventDebounced())},t.prototype.dispatchQueuedStateUpdateEvents=function(){var e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var n={type:_.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(n)},Wr([w("filterManager")],t.prototype,"filterManager",void 0),Wr([rt("rangeService")],t.prototype,"rangeService",void 0),Wr([w("ctrlsService")],t.prototype,"ctrlsService",void 0),Wr([rt("sideBarService")],t.prototype,"sideBarService",void 0),Wr([w("focusService")],t.prototype,"focusService",void 0),Wr([w("columnModel")],t.prototype,"columnModel",void 0),Wr([w("paginationProxy")],t.prototype,"paginationProxy",void 0),Wr([w("rowModel")],t.prototype,"rowModel",void 0),Wr([w("selectionService")],t.prototype,"selectionService",void 0),Wr([w("expansionService")],t.prototype,"expansionService",void 0),Wr([ne],t.prototype,"postConstruct",null),t=Wr([fe("stateService")],t),t}(Q),x5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),iC=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},da=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Vc=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},D5=function(r){x5(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){this.processGridOptions(this.gridOptions)},t.prototype.processGridOptions=function(e){this.processOptions(e,s5)},t.prototype.processColumnDefs=function(e){this.processOptions(e,Nl)},t.prototype.processOptions=function(e,n){var i=this,o=n.validations,s=n.deprecations,a=n.allProperties,l=n.propertyExceptions,u=n.objectName,c=n.docsUrl;a&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,Vc(Vc([],da(l??[]),!1),da(Object.keys(s)),!1),a,u,c);var d=new Set,f=Object.keys(e);f.forEach(function(p){var h,g=s[p];if(g)if("renamed"in g){var v=g.renamed,m=g.version;d.add("As of v".concat(m,", ").concat(String(p)," is deprecated. Please use ").concat(String(v)," instead.")),e[v]=e[p]}else{var C=g.message,m=g.version;d.add("As of v".concat(m,", ").concat(String(p)," is deprecated. ").concat(C??""))}var y=e[p];if(!(y==null||y===!1)){var x=o[p],P;if(x)if(typeof x=="function"){var R=x(e,i.gridOptions);if(!R)return;if("objectName"in R){var E=e[p];if(Array.isArray(E)){E.forEach(function(te){i.processOptions(te,R)});return}i.processOptions(e[p],R);return}P=R}else P=x;else return;var O=P.module,I=P.dependencies,k=P.supportedRowModels;if(k){var G=(h=i.gridOptions.rowModelType)!==null&&h!==void 0?h:"clientSide";if(!k.includes(G)){d.add("".concat(String(p)," is not supported with the '").concat(G,"' row model."));return}}if(O){var L=Array.isArray(O)?O:[O],ee=!0;if(L.forEach(function(te){Le.__assertRegistered(te,String(p),i.gridOptionsService.getGridId())||(ee=!1,d.add("".concat(String(p)," is only available when ").concat(te," is loaded.")))}),!ee)return}if(I){var de=i.checkForWarning(p,I,e);if(de){d.add(de);return}}}}),d.size>0&&d.forEach(function(p){Pe(p)})},t.prototype.checkForWarning=function(e,n,i){if(typeof n=="function")return n(i,this.gridOptions);var o=Object.entries(n),s=o.find(function(c){var d=da(c,2),f=d[0],p=d[1],h=i[f];return!p.includes(h)});if(!s)return null;var a=da(s,2),l=a[0],u=a[1];return u.length>1?"'".concat(String(e),"' requires '").concat(l,"' to be one of [").concat(u.join(", "),"]."):"'".concat(String(e),"' requires '").concat(l,"' to be ").concat(u[0],".")},t.prototype.checkProperties=function(e,n,i,o,s){var a=["__ob__","__v_skip","__metadata__"],l=VA(Object.getOwnPropertyNames(e),Vc(Vc(Vc([],da(a),!1),da(n),!1),da(i),!1),i);if(Rn(l,function(c,d){Pe("invalid ".concat(o," property '").concat(c,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&s){var u=this.getFrameworkOverrides().getDocLink(s);Pe("to see all the valid ".concat(o," properties please check: ").concat(u))}},iC([w("gridOptions")],t.prototype,"gridOptions",void 0),iC([ne],t.prototype,"init",null),t=iC([fe("validationService")],t),t}(Q),T5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),R5=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},A5=function(r){T5(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.syncEventListeners=new Map,e.asyncEventListeners=new Map,e.syncGlobalEventListeners=new Set,e.asyncGlobalEventListeners=new Set,e}return t.prototype.addEventListener=function(e,n){var i=this.gridOptionsService.useAsyncEvents(),o=i?this.asyncEventListeners:this.syncEventListeners;o.has(e)||o.set(e,new Set),o.get(e).add(n),this.eventService.addEventListener(e,n,i)},t.prototype.addGlobalListener=function(e){var n=this.gridOptionsService.useAsyncEvents(),i=n?this.asyncGlobalEventListeners:this.syncGlobalEventListeners;i.add(e),this.eventService.addGlobalListener(e,n)},t.prototype.removeEventListener=function(e,n){var i,o=this.asyncEventListeners.get(e),s=!!o?.delete(n);s||(i=this.asyncEventListeners.get(e))===null||i===void 0||i.delete(n),this.eventService.removeEventListener(e,n,s)},t.prototype.removeGlobalListener=function(e){var n=this.asyncGlobalEventListeners.delete(e);n||this.syncGlobalEventListeners.delete(e),this.eventService.removeGlobalListener(e,n)},t.prototype.destroyEventListeners=function(e,n){var i=this;e.forEach(function(o,s){o.forEach(function(a){return i.eventService.removeEventListener(s,a,n)}),o.clear()}),e.clear()},t.prototype.destroyGlobalListeners=function(e,n){var i=this;e.forEach(function(o){return i.eventService.removeGlobalListener(o,n)}),e.clear()},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},t=R5([fe("apiEventService")],t),t}(Q),O5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),oh=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},b5=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},F5=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},I5=function(r){O5(t,r);function t(){var e=r.call(this,'<span class="ag-paging-page-size"></span>')||this;return e.hasEmptyOption=!1,e.handlePageSizeItemSelected=function(){if(e.selectPageSizeComp){var n=e.selectPageSizeComp.getValue();if(n){var i=Number(n);isNaN(i)||i<1||i===e.paginationProxy.getPageSize()||(e.paginationProxy.setPageSize(i,"pageSizeSelector"),e.hasEmptyOption&&e.toggleSelectDisplay(!0),e.selectPageSizeComp.getFocusableElement().focus())}}},e}return t.prototype.init=function(){var e=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){e.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,_.EVENT_PAGINATION_CHANGED,function(n){return e.handlePaginationChanged(n)})},t.prototype.handlePaginationChanged=function(e){if(!(!this.selectPageSizeComp||!e?.newPageSize)){var n=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(n)?this.selectPageSizeComp.setValue(n.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},t.prototype.toggleSelectDisplay=function(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},t.prototype.reset=function(){fn(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},t.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},t.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1},t.prototype.reloadPageSizesSelector=function(){var e=this,n=this.getPageSizeSelectorValues(),i=this.paginationProxy.getPageSize(),o=!i||!n.includes(i);o&&(n.unshift(""),Pe(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var s=this.localeService.getLocaleTextFunc(),a=s("pageSizeSelectorLabel","Page Size:"),l=n.map(function(c){return{value:String(c),text:String(c)}}),u=s("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Gh).addOptions(l).setValue(String(o?"":i)).setAriaLabel(u).setLabel(a).onValueChange(function(){return e.handlePageSizeItemSelected()}),this.hasEmptyOption=o},t.prototype.getPageSizeSelectorValues=function(){var e=[20,50,100],n=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(n)||!this.validateValues(n)?e:F5([],b5(n),!1).sort(function(i,o){return i-o})},t.prototype.validateValues=function(e){if(!e.length)return Pe(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(var n=0;n<e.length;n++){var i=e[n],o=typeof i=="number",s=i>0;if(!o)return Pe(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!s)return Pe(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0},t.prototype.destroy=function(){this.toggleSelectDisplay(!1),r.prototype.destroy.call(this)},oh([w("localeService")],t.prototype,"localeService",void 0),oh([w("gridOptionsService")],t.prototype,"gridOptionsService",void 0),oh([w("paginationProxy")],t.prototype,"paginationProxy",void 0),oh([ne],t.prototype,"init",null),t}(ke),GR=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},VR=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))};function RO(r,t,e){if(!t)return mi("No gridOptions provided to createGrid"),{};var n=TO.getCoercedGridOptions(t),i=new AO().create(r,n,function(s){var a=new xO(r);s.createBean(a)},void 0,e);if(!Object.isFrozen(t)&&!e?.frameworkOverrides){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:function(){mi("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(t,"columnApi",{get:function(){mi("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return i}var Kse=function(){function r(t,e,n){var i=this;if(Pe("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!e){mi("No gridOptions provided to the grid");return}this.gridOptions=e;var o=new AO().create(t,e,function(s){var a=new xO(t),l=s.createBean(a);l.addDestroyFunc(function(){i.destroy()})},void 0,n);this.gridOptions.api=o,this.gridOptions.columnApi=new ld(o)}return r.prototype.destroy=function(){var t;this.gridOptions&&((t=this.gridOptions.api)===null||t===void 0||t.destroy(),delete this.gridOptions.api,delete this.gridOptions.columnApi)},r}(),P5=1,AO=function(){function r(){}return r.prototype.create=function(t,e,n,i,o){var s,a=!!e.debug,l=(s=e.gridId)!==null&&s!==void 0?s:String(P5++),u=this.getRegisteredModules(o,l),c=this.createBeansList(e.rowModelType,u,l),d=this.createProvidedBeans(t,e,o);if(!c){mi("Failed to create grid.");return}var f={providedBeanInstances:d,beanClasses:c,debug:a,gridId:l},p=new mw("Context",function(){return f.debug}),h=new PV(f,p),g=h.getBean("beans");return this.registerModuleUserComponents(g,u),this.registerStackComponents(g,u),this.registerControllers(g,u),n(h),g.syncService.start(),i&&i(h),g.gridApi},r.prototype.registerControllers=function(t,e){e.forEach(function(n){n.controllers&&n.controllers.forEach(function(i){return t.ctrlsFactory.register(i)})})},r.prototype.registerStackComponents=function(t,e){var n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)},r.prototype.getRegisteredModules=function(t,e){var n=t?t.modules:null,i=Le.__getRegisteredModules(e),o=[],s={},a=function(l,u,c){var d=function(f){s[f.moduleName]||(s[f.moduleName]=!0,o.push(f),Le.__register(f,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(f){return a(l,f,c)})};return n&&n.forEach(function(l){return a(!0,l,e)}),i&&i.forEach(function(l){return a(!Le.__isPackageBased(),l,void 0)}),o},r.prototype.registerModuleUserComponents=function(t,e){var n=this.extractModuleEntity(e,function(i){return i.userComponents?i.userComponents:[]});n.forEach(function(i){t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},r.prototype.createProvidedBeans=function(t,e,n){var i=n?n.frameworkOverrides:null;Oe(i)&&(i=new vw);var o={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o},r.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:Vh},{componentName:"AgRadioButton",componentClass:ZA},{componentName:"AgToggleButton",componentClass:AW},{componentName:"AgInputTextField",componentClass:Da},{componentName:"AgInputTextArea",componentClass:bW},{componentName:"AgInputNumberField",componentClass:aw},{componentName:"AgInputDateField",componentClass:IW},{componentName:"AgInputRange",componentClass:MW},{componentName:"AgRichSelect",componentClass:zW},{componentName:"AgSelect",componentClass:Gh},{componentName:"AgSlider",componentClass:KW},{componentName:"AgGridBody",componentClass:Pj},{componentName:"AgHeaderRoot",componentClass:WU},{componentName:"AgSortIndicator",componentClass:uw},{componentName:"AgPagination",componentClass:S6},{componentName:"AgPageSizeSelector",componentClass:I5},{componentName:"AgOverlayWrapper",componentClass:x6},{componentName:"AgGroupComponent",componentClass:qW},{componentName:"AgPanel",componentClass:SO},{componentName:"AgDialog",componentClass:o8},{componentName:"AgRowContainer",componentClass:qj},{componentName:"AgFakeHorizontalScroll",componentClass:X6},{componentName:"AgFakeVerticalScroll",componentClass:f5},{componentName:"AgAutocomplete",componentClass:h8}],n=this.extractModuleEntity(t,function(i){return i.agStackComponents?i.agStackComponents:[]});return e=e.concat(n),e},r.prototype.createBeansList=function(t,e,n){t===void 0&&(t="clientSide");var i=e.filter(function(u){return!u.rowModel||u.rowModel===t}),o={clientSide:ge.ClientSideRowModelModule,infinite:ge.InfiniteRowModelModule,serverSide:ge.ServerSideRowModelModule,viewport:ge.ViewportRowModelModule};if(!o[t]){mi("Could not find row model for rowModelType = "+t);return}if(Le.__assertRegistered(o[t],"rowModelType = '".concat(t,"'"),n)){var s=[yO,T6,O6,L6,Z8,gO,U3,o6,a6,JU,s4,y6,$U,u5,D5,yW,u4,vH,ys,TO,l8,EO,p4,cH,VU,xW,pW,I8,qV,N8,E8,Vj,e6,O8,G8,pH,oW,YU,dn,ld,z8,kj,g6,w8,vW,TW,Nj,U8,Y8,X8,w6,ZV,r6,tW,M6,wH,G6,V6,SW,B6,W6,Z6,e5,K6,h5,v5,vO,y5,w5,E5,rW,A5],a=this.extractModuleEntity(i,function(u){return u.beans?u.beans:[]});s.push.apply(s,VR([],GR(a),!1));var l=[];return s.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},r.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],VR([],GR(t.map(e)),!1))},r}(),OO=function(){function r(){}return r.prototype.wrap=function(t,e,n,i){var o=this;n===void 0&&(n=[]);var s=this.createWrapper(t,i);return e.forEach(function(a){o.createMethod(s,a,!0)}),n.forEach(function(a){o.createMethod(s,a,!1)}),s},r.prototype.unwrap=function(t){return t},r.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},r.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},r}();var Ul=typeof global>"u"?{}:global;Ul.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Ul.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Ul.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Ul.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Ul.Node=typeof Node>"u"?{}:Node;Ul.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Hc=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Bc=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},M5=function(){function r(t,e,n,i,o,s){this.nextId=0,this.allNodesMap={},this.dataLoaded=!1,this.rootNode=t,this.gridOptionsService=e,this.eventService=n,this.columnModel=i,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=r.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return r.prototype.getCopyOfNodesMap=function(){return He.cloneObject(this.allNodesMap)},r.prototype.getRowNode=function(t){return this.allNodesMap[t]},r.prototype.setRowData=function(t){var e=this;if(typeof t=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.dataLoaded=!0,this.dispatchRowDataUpdateStartedEvent(t);var n=this.rootNode,i=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?n.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,r.TOP_LEVEL)}):(n.allLeafChildren=[],n.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=n.childrenAfterFilter,i.childrenAfterGroup=n.childrenAfterGroup,i.childrenAfterAggFilter=n.childrenAfterAggFilter,i.childrenAfterSort=n.childrenAfterSort,i.childrenMapped=n.childrenMapped,i.allLeafChildren=n.allLeafChildren)},r.prototype.updateRowData=function(t,e){this.dataLoaded=!0,this.dispatchRowDataUpdateStartedEvent(t.add);var n={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,n,i),this.executeUpdate(t,n,i),this.executeAdd(t,n),this.updateSelection(i,"rowDataChanged"),e&&He.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},r.prototype.hasData=function(){return this.dataLoaded},r.prototype.dispatchRowDataUpdateStartedEvent=function(t){var e={type:_.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t?.length?t[0]:null};this.eventService.dispatchEvent(e)},r.prototype.updateSelection=function(t,e){var n=t.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),n){var i={type:_.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(i)}},r.prototype.executeAdd=function(t,e){var n=this,i,o=t.add,s=t.addIndex;if(!He.missingOrEmpty(o)){var a=o.map(function(g){return n.createNode(g,n.rootNode,r.TOP_LEVEL)});if(typeof s=="number"&&s>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=s,d=this.gridOptionsService.get("treeData");if(d&&s>0&&u>0){for(var f=0;f<u;f++)if(((i=l[f])===null||i===void 0?void 0:i.rowIndex)==s-1){c=f+1;break}}var p=l.slice(0,c),h=l.slice(c,l.length);this.rootNode.allLeafChildren=Bc(Bc(Bc([],Hc(p),!1),Hc(a),!1),Hc(h),!1)}else this.rootNode.allLeafChildren=Bc(Bc([],Hc(this.rootNode.allLeafChildren),!1),Hc(a),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=a}},r.prototype.executeRemove=function(t,e,n){var i=this,o=t.remove;if(!He.missingOrEmpty(o)){var s={};o.forEach(function(a){var l=i.lookupRowNode(a);l&&(l.isSelected()&&n.push(l),l.clearRowTopAndRowIndex(),s[l.id]=!0,delete i.allNodesMap[l.id],e.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(a){return!s[a.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},r.prototype.executeUpdate=function(t,e,n){var i=this,o=t.update;He.missingOrEmpty(o)||o.forEach(function(s){var a=i.lookupRowNode(s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&n.push(a),i.setMasterForRow(a,s,r.TOP_LEVEL,!1),e.update.push(a))})},r.prototype.lookupRowNode=function(t){var e=this.gridOptionsService.getCallback("getRowId"),n;if(e){var i=e({data:t,level:0});if(n=this.allNodesMap[i],!n)return console.error("AG Grid: could not find row id=".concat(i,", data item was not found for this id")),null}else if(n=this.rootNode.allLeafChildren.find(function(o){return o.data===t}),!n)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null},r.prototype.createNode=function(t,e,n){var i=new ze(this.beans);i.group=!1,this.setMasterForRow(i,t,n,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return e&&!o&&(i.parent=e),i.level=n,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '".concat(i.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[i.id]=i,this.nextId++,i},r.prototype.setMasterForRow=function(t,e,n,i){var o=this.gridOptionsService.get("treeData");if(o)t.setMaster(!1),i&&(t.expanded=!1);else{var s=this.gridOptionsService.get("masterDetail");if(s){var a=this.gridOptionsService.get("isRowMaster");a?t.setMaster(a(e)):t.setMaster(!0)}else t.setMaster(!1);if(i){var l=this.columnModel.getRowGroupColumns(),u=l?l.length:0,c=n+u;t.expanded=t.master?this.isExpanded(c):!1}}},r.prototype.isExpanded=function(t){var e=this.gridOptionsService.get("groupDefaultExpanded");return e===-1?!0:t<e},r.TOP_LEVEL=0,r.ROOT_NODE_ID="ROOT_NODE_ID",r}(),N5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rr=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ir=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},or=function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Eo=function(r){return r[r.Normal=0]="Normal",r[r.AfterFilter=1]="AfterFilter",r[r.AfterFilterAndSort=2]="AfterFilterAndSort",r[r.PivotNodes=3]="PivotNodes",r}(Eo||{}),L5=function(r){N5(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=He.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e.hasStarted=!1,e.shouldSkipSettingDataOnStart=!1,e}return t.prototype.init=function(){var e=this,n=this.refreshModel.bind(this,{step:tt.EVERYTHING}),i=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:tt.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,_.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.addManagedListener(this.eventService,_.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:tt.PIVOT})),this.addManagedListener(this.eventService,_.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,_.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,_.EVENT_GRID_READY,function(){return e.onGridReady()}),this.addPropertyListeners(),this.rootNode=new ze(this.beans),this.nodeManager=new M5(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.addPropertyListeners=function(){var e=this,n=new Set(["treeData","masterDetail"]),i=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),a=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),u=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=or(or(or(or(or(or(or(or(or([],ir(n),!1),ir(i),!1),ir(o),!1),ir(s),!1),ir(s),!1),ir(a),!1),ir(l),!1),ir(u),!1),ir(c),!1);this.addManagedPropertyListeners(d,function(f){var p,h=(p=f.changeSet)===null||p===void 0?void 0:p.properties;if(h){var g=function(v){return h.some(function(m){return v.has(m)})};if(g(n)){e.setRowData(e.rootNode.allLeafChildren.map(function(v){return v.data}));return}if(g(i)){e.refreshModel({step:tt.EVERYTHING});return}if(g(o)){e.refreshModel({step:tt.FILTER});return}if(g(s)){e.refreshModel({step:tt.PIVOT});return}if(g(a)){e.refreshModel({step:tt.AGGREGATE});return}if(g(l)){e.refreshModel({step:tt.SORT});return}if(g(u)){e.refreshModel({step:tt.FILTER_AGGREGATES});return}g(c)&&e.refreshModel({step:tt.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()})},t.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},t.prototype.setInitialData=function(){var e=this.gridOptionsService.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))},t.prototype.ensureRowHeightsValid=function(e,n,i,o){var s,a=!1;do{s=!1;for(var l=this.getRowIndexAtPixel(e),u=this.getRowIndexAtPixel(n),c=Math.max(l,i),d=Math.min(u,o),f=c;f<=d;f++){var p=this.getRow(f);if(p.rowHeightEstimated){var h=this.gridOptionsService.getRowHeightForNode(p);p.setRowHeight(h.height),s=!0,a=!0}}s&&this.setRowTopAndRowIndex()}while(s);return a},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),n=0,i=new Set,o=this.gridOptionsService.isDomLayout("normal"),s=0;s<this.rowsToDisplay.length;s++){var a=this.rowsToDisplay[s];if(a.id!=null&&i.add(a.id),a.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(a,o,e);a.setRowHeight(l.height,l.estimated)}a.setRowTop(n),a.setRowIndex(s),n+=a.rowHeight}return i},t.prototype.clearRowTopAndRowIndex=function(e,n){var i=e.isActive(),o=function(a){a&&a.id!=null&&!n.has(a.id)&&a.clearRowTopAndRowIndex()},s=function(a){if(o(a),o(a.detailNode),o(a.sibling),a.hasChildren()&&a.childrenAfterGroup){var l=a.level==-1,u=i&&!l&&!a.expanded;u||a.childrenAfterGroup.forEach(s)}};s(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,n,i){var o=this;i===void 0&&(i=0);var s=this.getRowIndexAtPixel(n),a=this.getRow(s),l=!this.gridOptionsService.get("suppressAnimationFrame");return a===e[0]?!1:(e.forEach(function(u){He.removeFromArray(o.rootNode.allLeafChildren,u)}),e.forEach(function(u,c){He.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(s+i,0)+c)}),this.refreshModel({step:tt.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},t.prototype.highlightRowAtPixel=function(e,n){var i=n!=null?this.getRowIndexAtPixel(n):null,o=i!=null?this.getRow(i):null;if(!o||!e||o===e||n==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var s=this.getHighlightPosition(n,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(s),this.lastHighlightedRow=o},t.prototype.getHighlightPosition=function(e,n){if(!n){var i=this.getRowIndexAtPixel(e);if(n=this.getRow(i||0),!n)return vs.Below}var o=n.rowTop,s=n.rowHeight;return e-o<s/2?vs.Above:vs.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){var e=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(e)return 1;var n=this.rootNode.childrenAfterAggFilter;return n?n.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){var n=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(n)return e;var i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},t.prototype.getRowBounds=function(e){if(He.missing(this.rowsToDisplay))return null;var n=this.rowsToDisplay[e];return n?{rowTop:n.rowTop,rowHeight:n.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:tt.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var n=this.gridOptionsService.isAnimateRows(),i=e.columns.length===0||e.columns.some(function(s){return s.isPrimary()}),o=i?tt.FILTER:tt.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:n})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:tt.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:tt.PIVOT}):this.refreshModel({step:tt.AGGREGATE})},t.prototype.createChangePath=function(e){var n=He.missingOrEmpty(e),i=new Wh(!1,this.rootNode);return(n||this.gridOptionsService.get("treeData"))&&i.setInactive(),i},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;var n=e.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),i=n==null||n.length==0;return i},t.prototype.buildRefreshModelParams=function(e){var n=tt.EVERYTHING,i={everything:tt.EVERYTHING,group:tt.EVERYTHING,filter:tt.FILTER,map:tt.MAP,aggregate:tt.AGGREGATE,sort:tt.SORT,pivot:tt.PIVOT};if(He.exists(e)&&(n=i[e]),He.missing(n)){console.error("AG Grid: invalid step ".concat(e,", available steps are ").concat(Object.keys(i).join(", ")));return}var o=!this.gridOptionsService.get("suppressAnimationFrame"),s={step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return s},t.prototype.refreshModel=function(e){if(this.hasStarted){var n=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(n&&!this.isSuppressModelUpdateAfterUpdateTransaction(n)){var i=this.createChangePath(n.rowNodeTransactions);switch(n.step){case tt.EVERYTHING:this.doRowGrouping(n.rowNodeTransactions,n.rowNodeOrder,i,!!n.afterColumnsChanged);case tt.FILTER:this.doFilter(i);case tt.PIVOT:this.doPivot(i);case tt.AGGREGATE:this.doAggregate(i);case tt.FILTER_AGGREGATES:this.doFilterAggregates(i);case tt.SORT:this.doSort(n.rowNodeTransactions,i);case tt.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o);var s={type:_.EVENT_MODEL_UPDATED,animate:n.animate,keepRenderedRows:n.keepRenderedRows,newData:n.newData,newPage:!1,keepUndoRedoStack:n.keepUndoRedoStack};this.eventService.dispatchEvent(s)}}},t.prototype.isEmpty=function(){var e=He.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return He.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return He.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,n){var i=!n,o=!1,s=[],a=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(i&&(l===n||l===e)&&(o=!0,l.group&&a)){s.push.apply(s,or([],ir(l.allLeafChildren),!1));return}if(!i){if(l!==n&&l!==e)return;i=!0}var u=!l.group||!a;if(u){s.push(l);return}}}),s},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var n=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;var o=He.last(this.rowsToDisplay);if(o.rowTop<=e)return this.rowsToDisplay.length-1;for(var s=-1,a=-1;;){var l=Math.floor((n+i)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,e))return l;u.rowTop<e?n=l+1:u.rowTop>e&&(i=l-1);var c=s===n&&a===i;if(c)return l;s=n,a=i}},t.prototype.isRowInPixel=function(e,n){var i=e.rowTop,o=e.rowTop+e.rowHeight,s=i<=n&&o>n;return s},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(n,i){return e(n,i)})},t.prototype.forEachNode=function(e,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:or([],ir(this.rootNode.childrenAfterGroup||[]),!1),callback:e,recursionType:Eo.Normal,index:0,includeFooterNodes:n})},t.prototype.forEachNodeAfterFilter=function(e,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:or([],ir(this.rootNode.childrenAfterAggFilter||[]),!1),callback:e,recursionType:Eo.AfterFilter,index:0,includeFooterNodes:n})},t.prototype.forEachNodeAfterFilterAndSort=function(e,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:or([],ir(this.rootNode.childrenAfterSort||[]),!1),callback:e,recursionType:Eo.AfterFilterAndSort,index:0,includeFooterNodes:n})},t.prototype.forEachPivotNode=function(e,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:Eo.PivotNodes,index:0,includeFooterNodes:n})},t.prototype.recursivelyWalkNodesAndCallback=function(e){for(var n,i=e.nodes,o=e.callback,s=e.recursionType,a=e.includeFooterNodes,l=e.index,u=0;u<i.length;u++){var c=i[u];if(o(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(s){case Eo.Normal:d=c.childrenAfterGroup;break;case Eo.AfterFilter:d=c.childrenAfterAggFilter;break;case Eo.AfterFilterAndSort:d=c.childrenAfterSort;break;case Eo.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:or([],ir(d),!1),callback:o,recursionType:s,index:l,includeFooterNodes:a}))}}var f=(n=i[0])===null||n===void 0?void 0:n.parent;if(!a||!f)return l;var p=f===this.rootNode;if(p){var h=this.gridOptionsService.get("groupIncludeTotalFooter");if(!h)return l}else{var g=this.gridOptionsService.getGroupIncludeFooter();if(!g({node:f}))return l}return f.createFooter(),o(f.sibling,l++),l},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var n=this.gridOptionsService.get("treeData"),i=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=e,o(u.childrenAfterGroup)};if(n){var d=He.exists(u.childrenAfterGroup);d&&c();return}if(i){var f=!u.leafGroup;f&&c();return}var p=u.group;p&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:tt.MAP});var s=e?"expandAll":"collapseAll",a={type:_.EVENT_EXPAND_COLLAPSE_ALL,source:s};this.eventService.dispatchEvent(a)},t.prototype.doSort=function(e,n){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:n})},t.prototype.doRowGrouping=function(e,n,i,o){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:n,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")){var s=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i);if(s){var a={type:_.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(a)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.eventService.dispatchEventOnce({type:_.EVENT_ROW_COUNT_READY})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){var n=typeof e=="string"&&e.indexOf(ze.ID_PREFIX_ROW_GROUP)==0;if(n){var i=void 0;return this.forEachNode(function(o){o.id===e&&(i=o)}),i}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},t.prototype.dispatchUpdateEventsAndRefresh=function(){var e={type:_.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(e),this.refreshModel({step:tt.EVERYTHING,newData:!0})},t.prototype.batchUpdateRowData=function(e,n){var i=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:n})},t.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var n=[],i=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(a){var l=e.nodeManager.updateRowData(a.rowDataTransaction,void 0);i.push(l),a.callback&&n.push(a.callback.bind(null,l)),typeof a.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),n.length>0&&window.setTimeout(function(){n.forEach(function(a){return a()})},0),i.length>0){var s={type:_.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(s)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,n){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(e,n),o=typeof e.addIndex=="number";return this.commonUpdateRowData([i],n,o),i},t.prototype.createRowNodeOrder=function(){var e=this.gridOptionsService.get("suppressMaintainUnsortedOrder");if(!e){var n={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++){var o=this.rootNode.allLeafChildren[i];n[o.id]=i}return n}},t.prototype.commonUpdateRowData=function(e,n,i){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");i&&(n=this.createRowNodeOrder());var s={type:_.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(s),this.refreshModel({step:tt.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:tt.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode(function(n){n.setRowHeight(n.rowHeight,!0);var i=n.detailNode;i&&i.setRowHeight(i.rowHeight,!0),n.sibling&&n.sibling.setRowHeight(n.sibling.rowHeight,!0),e=!0}),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},t.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},t.prototype.isRowDataLoaded=function(){return this.nodeManager.hasData()},rr([w("columnModel")],t.prototype,"columnModel",void 0),rr([w("selectionService")],t.prototype,"selectionService",void 0),rr([w("filterManager")],t.prototype,"filterManager",void 0),rr([w("valueCache")],t.prototype,"valueCache",void 0),rr([w("beans")],t.prototype,"beans",void 0),rr([w("filterStage")],t.prototype,"filterStage",void 0),rr([w("sortStage")],t.prototype,"sortStage",void 0),rr([w("flattenStage")],t.prototype,"flattenStage",void 0),rr([rt("groupStage")],t.prototype,"groupStage",void 0),rr([rt("aggregationStage")],t.prototype,"aggregationStage",void 0),rr([rt("pivotStage")],t.prototype,"pivotStage",void 0),rr([rt("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),rr([ne],t.prototype,"init",null),t=rr([fe("rowModel")],t),t}(Q),k5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),HR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G5=function(r){k5(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.execute=function(e){var n=e.changedPath;this.filterService.filter(n)},HR([w("filterService")],t.prototype,"filterService",void 0),t=HR([fe("filterStage")],t),t}(Q),V5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),oC=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},H5=function(r){V5(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.execute=function(e){var n=this,i=this.sortController.getSortOptions(),o=He.exists(i)&&i.length>0,s=o&&He.exists(e.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),a=i.some(function(l){var u=n.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(i,o,s,e.rowNodeTransactions,e.changedPath,a)},oC([w("sortService")],t.prototype,"sortService",void 0),oC([w("sortController")],t.prototype,"sortController",void 0),t=oC([fe("sortStage")],t),t}(Q),B5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),sC=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},j5=function(r){B5(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.execute=function(e){var n=e.rowNode,i=[],o=this.columnModel.isPivotMode(),s=o&&n.leafGroup,a=s?[n]:n.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,a,i,o,0);var u=i.length>0,c=!s&&u&&l.groupIncludeTotalFooter;return c&&(n.createFooter(),this.addRowNodeToRowsToDisplay(l,n.sibling,i,0)),i},t.prototype.getFlattenDetails=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren"),n=!e&&this.gridOptionsService.get("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:n,groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},t.prototype.recursivelyAddToRowsToDisplay=function(e,n,i,o,s){if(!He.missingOrEmpty(n))for(var a=0;a<n.length;a++){var l=n[a],u=l.hasChildren(),c=o&&!u,d=e.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,f=e.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,p=o&&l.leafGroup,h=e.hideOpenParents&&l.expanded&&!l.master&&!p,g=!c&&!h&&!d&&!f;if(g&&this.addRowNodeToRowsToDisplay(e,l,i,s),!(o&&l.leafGroup)){if(u){var v=d||f;if(l.expanded||v){var m=v?s:s+1;this.recursivelyAddToRowsToDisplay(e,l.childrenAfterSort,i,o,m);var C=e.getGroupIncludeFooter({node:l});C?(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,i,m)):l.destroyFooter()}}else if(l.master&&l.expanded){var y=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(e,y,i,s)}}}},t.prototype.addRowNodeToRowsToDisplay=function(e,n,i,o){i.push(n),n.setUiLevel(e.isGroupMultiAutoColumn?0:o)},t.prototype.createDetailNode=function(e){if(He.exists(e.detailNode))return e.detailNode;var n=new ze(this.beans);return n.detail=!0,n.selectable=!1,n.parent=e,He.exists(e.id)&&(n.id="detail_"+e.id),n.data=e.data,n.level=e.level+1,e.detailNode=n,n},sC([w("columnModel")],t.prototype,"columnModel",void 0),sC([w("beans")],t.prototype,"beans",void 0),t=sC([fe("flattenStage")],t),t}(Q),U5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),aC=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},W5=function(r){U5(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.sort=function(e,n,i,o,s,a){var l=this,u=this.gridOptionsService.get("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(g){return g.isRowGroupActive()}),d={};i&&o&&(d=this.calculateDirtyNodes(o));var f=this.columnModel.isPivotMode(),p=this.gridOptionsService.getCallback("postSortRows"),h=function(g){l.pullDownGroupDataForHideOpenParents(g.childrenAfterAggFilter,!0);var v=f&&g.leafGroup,m=u&&c&&!g.leafGroup&&!a;if(m){var C=g.childrenAfterAggFilter.slice(0);if(g.childrenAfterSort){var y={};g.childrenAfterSort.forEach(function(P,R){y[P.id]=R}),C.sort(function(P,R){var E,O;return((E=y[P.id])!==null&&E!==void 0?E:0)-((O=y[R.id])!==null&&O!==void 0?O:0)})}g.childrenAfterSort=C}else!n||v?g.childrenAfterSort=g.childrenAfterAggFilter.slice(0):i?g.childrenAfterSort=l.doDeltaSort(g,d,s,e):g.childrenAfterSort=l.rowNodeSorter.doFullSort(g.childrenAfterAggFilter,e);if(g.sibling&&(g.sibling.childrenAfterSort=g.childrenAfterSort),l.updateChildIndexes(g),p){var x={nodes:g.childrenAfterSort};p(x)}};s&&s.forEachChangedNodeDepthFirst(h),this.updateGroupDataForHideOpenParents(s)},t.prototype.calculateDirtyNodes=function(e){var n={},i=function(o){o&&o.forEach(function(s){return n[s.id]=!0})};return e&&e.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),n},t.prototype.doDeltaSort=function(e,n,i,o){var s=this,a=e.childrenAfterAggFilter,l=e.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(a,o);var u={},c=[];a.forEach(function(h){n[h.id]||!i.canSkip(h)?c.push(h):u[h.id]=!0});var d=l.filter(function(h){return u[h.id]}),f=function(h,g){return{currentPos:g,rowNode:h}},p=c.map(f).sort(function(h,g){return s.rowNodeSorter.compareRowNodes(o,h,g)});return this.mergeSortedArrays(o,p,d.map(f)).map(function(h){var g=h.rowNode;return g})},t.prototype.mergeSortedArrays=function(e,n,i){for(var o=[],s=0,a=0;s<n.length&&a<i.length;){var l=this.rowNodeSorter.compareRowNodes(e,n[s],i[a]);l<0?o.push(n[s++]):o.push(i[a++])}for(;s<n.length;)o.push(n[s++]);for(;a<i.length;)o.push(i[a++]);return o},t.prototype.updateChildIndexes=function(e){if(!He.missing(e.childrenAfterSort))for(var n=e.childrenAfterSort,i=0;i<n.length;i++){var o=n[i],s=i===0,a=i===e.childrenAfterSort.length-1;o.setFirstChild(s),o.setLastChild(a),o.setChildIndex(i)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var n=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return He.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var i=function(o){n.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(s){s.hasChildren()&&i(s)})};e&&e.executeFromRootNode(function(o){return i(o)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,n){var i=this;!this.gridOptionsService.get("groupHideOpenParents")||He.missing(e)||e.forEach(function(o){var s=i.columnModel.getGroupDisplayColumns();s.forEach(function(a){var l=a.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=i.columnModel.getPrimaryColumn(u),d=c===o.rowGroupColumn;if(!d)if(n)o.setGroupValue(a.getId(),void 0);else{var f=o.getFirstChildOfFirstChild(c);f&&o.setGroupValue(a.getId(),f.key)}})})},aC([w("columnModel")],t.prototype,"columnModel",void 0),aC([w("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),t=aC([fe("sortService")],t),t}(Q),z5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),BR=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$5=function(r){z5(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.filter=function(e){var n=this.filterManager.isChildFilterPresent();this.filterNodes(n,e)},t.prototype.filterNodes=function(e,n){var i=this,o=function(u,c){u.hasChildren()&&e&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var f=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,p=d.data&&i.filterManager.doesRowPassFilter({rowNode:d});return f||p}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var s=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var f=u.childrenAfterGroup[d],p=c||i.filterManager.doesRowPassFilter({rowNode:f});f.childrenAfterGroup?s(u.childrenAfterGroup[d],p):o(f,p)}o(u,c)},a=function(u){return s(u,!1)};n.executeFromRootNode(a)}else{var l=function(u){return o(u,!1)};n.forEachChangedNodeDepthFirst(l,!0)}},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},BR([w("filterManager")],t.prototype,"filterManager",void 0),t=BR([fe("filterService")],t),t}(Q),K5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jc=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Y5=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},q5=function(r){K5(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return e.onRowDataUpdated()}))},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId"),n=this.gridOptionsService.get("resetRowDataOnUpdate");return n?!1:e},t.prototype.setRowData=function(e){var n=this.createTransactionForRowData(e);if(n){var i=Y5(n,2),o=i[0],s=i[1];this.clientSideRowModel.updateRowData(o,s)}},t.prototype.createTransactionForRowData=function(e){if(He.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var n=this.gridOptionsService.getCallback("getRowId");if(n==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.get("suppressMaintainUnsortedOrder"),a=s?void 0:{};return He.exists(e)&&e.forEach(function(l,u){var c=n({data:l,level:0}),d=o[c];if(a&&(a[c]=u),d){var f=d.data!==l;f&&i.update.push(l),o[c]=void 0}else i.add.push(l)}),He.iterateObject(o,function(l,u){u&&i.remove.push(u.data)}),[i,a]},t.prototype.onRowDataUpdated=function(){var e=this.gridOptionsService.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))},jc([w("rowModel")],t.prototype,"rowModel",void 0),jc([w("rowRenderer")],t.prototype,"rowRenderer",void 0),jc([w("selectionService")],t.prototype,"selectionService",void 0),jc([ne],t.prototype,"postConstruct",null),t=jc([fe("immutableService")],t),t}(Q),X5="31.0.0",Q5={version:X5,moduleName:ge.ClientSideRowModelModule,rowModel:"clientSide",beans:[L5,G5,H5,j5,W5,$5,q5]},Z5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),lC=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jR=function(r){Z5(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.parentCache=n,o.params=i,o.startRow=e*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,n,i){He.exists(n)?e.setDataAndId(n,i.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,n=this.createLoadParams();if(He.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){e.params.datasource.getRows(n)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){var e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context};return e},t.prototype.forEachNode=function(e,n,i){var o=this;this.rowNodes.forEach(function(s,a){var l=o.startRow+a;l<i&&e(s,n.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,n){n===void 0&&(n=!1),n||(this.lastAccessed=this.params.lastAccessedSequence.next());var i=e-this.startRow;return this.rowNodes[i]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var n=this.startRow+e,i=new ze(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(n),i.setRowTop(this.params.rowHeight*n),this.rowNodes.push(i)}},t.prototype.processServerResult=function(e){var n=this;this.rowNodes.forEach(function(o,s){var a=e.rowData?e.rowData[s]:void 0;!o.id&&o.alreadyRendered&&a&&(n.rowNodes[s]=new ze(n.beans),n.rowNodes[s].setRowIndex(o.rowIndex),n.rowNodes[s].setRowTop(o.rowTop),n.rowNodes[s].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),n.setDataAndId(n.rowNodes[s],a,n.startRow+s)});var i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},lC([w("beans")],t.prototype,"beans",void 0),lC([ne],t.prototype,"postConstruct",null),lC([Un],t.prototype,"destroyRowNodes",null),t}(OC),J5=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),sh=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ez=function(r,t){return function(e,n){t(e,n,r)}},tz=function(r){J5(t,r);function t(e){var n=r.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=e.initialRowCount,n.params=e,n}return t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,n){n===void 0&&(n=!1);var i=Math.floor(e/this.params.blockSize),o=this.blocks[i];if(!o){if(n)return;o=this.createBlock(i)}return o.getRow(e)},t.prototype.createBlock=function(e){var n=this.createBean(new jR(e,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n},t.prototype.refreshCache=function(){var e=this.blockCount==0;if(e){this.purgeCache();return}this.getBlocksInOrder().forEach(function(n){return n.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.destroyBlock(n)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,n){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(n)),this.checkRowCount(e,n),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,i=this.getBlocksInOrder().filter(function(u){return u!=e}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};i.sort(o);var s=this.params.maxBlocksInCache>0,a=s?this.params.maxBlocksInCache-1:null,l=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(u,c){var d=u.getState()===jR.STATE_WAITING_TO_LOAD&&c>=l,f=s?c>=a:!1;if(d||f){if(n.isBlockCurrentlyDisplayed(u)||n.isBlockFocused(u))return;n.removeBlockFromCache(u)}})},t.prototype.isBlockFocused=function(e){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||n.rowPinned!=null)return!1;var i=e.getStartRow(),o=e.getEndRow(),s=n.rowIndex>=i&&n.rowIndex<o;return s},t.prototype.isBlockCurrentlyDisplayed=function(e){var n=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,i)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,n){if(typeof n=="number"&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(e.getId()+1)*this.params.blockSize,o=i+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,n){this.rowCount=e,He.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var n=this,i=new jl;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,i,n.rowCount)})},t.prototype.getBlocksInOrder=function(){var e=function(i,o){return i.getId()-o.getId()},n=He.getAllValuesInObject(this.blocks).sort(e);return n},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:_.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,n=[];this.getBlocksInOrder().forEach(function(i){var o=i.getId()*e.params.blockSize;o>=e.rowCount&&n.push(i)}),n.length>0&&n.forEach(function(i){return e.destroyBlock(i)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.removeBlockFromCache(n)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,n){var i=this,o=[],s=-1,a=!1,l=new jl;He.missing(e)&&(a=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(a&&s+1!==d.getId()){u=!0;return}s=d.getId(),d.forEachNode(function(f){var p=f===e||f===n;(a||p)&&o.push(f),p&&(a=!a)},l,i.rowCount)}});var c=u||a;return c?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,sh([w("rowRenderer")],t.prototype,"rowRenderer",void 0),sh([w("focusService")],t.prototype,"focusService",void 0),sh([ez(0,ur("loggerFactory"))],t.prototype,"setBeans",null),sh([Un],t.prototype,"destroyAllBlocks",null),t}(Q),nz=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),us=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rz=function(r){nz(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,n,i,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&He.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,_.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,_.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,_.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return e.setDatasource(e.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return e.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.cacheParams.rowHeight=e.rowHeight,e.updateRowHeights()})},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){var e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()},t.prototype.isSortModelDifferent=function(){return!He.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,n){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,n):[]},t.prototype.reset=function(){if(this.datasource){var e=this.gridOptionsService.getCallback("getRowId"),n=e!=null;n||this.selectionService.reset("rowDataChanged"),this.resetCache()}},t.prototype.createModelUpdatedEvent=function(){return{type:_.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new jl},this.infiniteCache=this.createBean(new tz(this.cacheParams)),this.eventService.dispatchEventOnce({type:_.EVENT_ROW_COUNT_READY});var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(i){i.setRowHeight(e.rowHeight),i.setRowTop(e.rowHeight*i.rowIndex)});var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(i){i.id===e&&(n=i)}),n},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(this.rowHeight!==0){var n=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return n>i?i:n}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){var n=this.getRowNode(e.id);return!!n},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},t.prototype.setRowCount=function(e,n){this.infiniteCache&&this.infiniteCache.setRowCount(e,n)},us([w("filterManager")],t.prototype,"filterManager",void 0),us([w("sortController")],t.prototype,"sortController",void 0),us([w("selectionService")],t.prototype,"selectionService",void 0),us([w("rowRenderer")],t.prototype,"rowRenderer",void 0),us([w("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),us([ne],t.prototype,"init",null),us([Un],t.prototype,"destroyDatasource",null),t=us([fe("rowModel")],t),t}(Q),iz="31.0.0",oz={version:iz,moduleName:ge.InfiniteRowModelModule,rowModel:"infinite",beans:[rz]},sz=function(){function r(){}return r.prototype.setBeans=function(t){this.beans=t},r.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(t==null||!t.length)&&(t=this.getDefaultFileName()),t.indexOf(".")===-1?"".concat(t,".").concat(e):t},r.prototype.getData=function(t){var e=this.createSerializingSession(t),n=this.beans.gridSerializer.serialize(e,t);return n},r.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},r}(),az=function(){function r(t){this.groupColumns=[];var e=t.columnModel,n=t.valueService,i=t.gridOptionsService,o=t.valueFormatterService,s=t.valueParserService,a=t.processCellCallback,l=t.processHeaderCallback,u=t.processGroupHeaderCallback,c=t.processRowGroupCallback;this.columnModel=e,this.valueService=n,this.gridOptionsService=i,this.valueFormatterService=o,this.valueParserService=s,this.processCellCallback=a,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return r.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},r.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return e??""},r.prototype.extractRowCellValue=function(t,e,n,i,o){var s=this.gridOptionsService.get("groupHideOpenParents"),a=(!s||o.footer)&&this.shouldRenderGroupSummaryCell(o,t,e)?this.createValueForGroupNode(o):this.valueService.getValue(t,o),l=this.processCell({accumulatedRowIndex:n,rowNode:o,column:t,value:a,processCellCallback:this.processCellCallback,type:i});return l},r.prototype.shouldRenderGroupSummaryCell=function(t,e,n){var i,o=t&&t.group;if(!o)return!1;var s=this.groupColumns.indexOf(e);if(s!==-1){if(((i=t.groupData)===null||i===void 0?void 0:i[e.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&t.level===-1){var a=e.getColDef(),l=a==null||a.showRowGroup===!0;return l||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return n===0&&u},r.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},r.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var e=t.footer,n=[t.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,n.push(t.key);var i=n.reverse().join(" -> ");return e?"Total ".concat(i):i},r.prototype.processCell=function(t){var e=this,n,i=t.accumulatedRowIndex,o=t.rowNode,s=t.column,a=t.value,l=t.processCellCallback,u=t.type;return l?{value:(n=l({accumulatedRowIndex:i,column:s,node:o,value:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:u,parseValue:function(c){return e.valueParserService.parseValue(s,o,c,e.valueService.getValue(s,o))},formatValue:function(c){var d;return(d=e.valueFormatterService.formatValue(s,o,c))!==null&&d!==void 0?d:c}}))!==null&&n!==void 0?n:""}:s.getColDef().useValueFormatterForExport!==!1?{value:a??"",valueFormatted:this.valueFormatterService.formatValue(s,o,a)}:{value:a??""}},r}(),lz=function(){function r(){}return r.download=function(t,e){var n=document.defaultView||window;if(!n){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var i=document.createElement("a"),o=n.URL.createObjectURL(e);i.setAttribute("href",o),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(function(){n.URL.revokeObjectURL(o)},0)},r}(),uz=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),UR=`\r
`,cz=function(r){uz(t,r);function t(e){var n=r.call(this,e)||this;n.isFirstLine=!0,n.result="";var i=e.suppressQuotes,o=e.columnSeparator;return n.suppressQuotes=i,n.columnSeparator=o,n}return t.prototype.addCustomContent=function(e){var n=this;e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,UR),this.result+=e):e.forEach(function(i){n.beginNewLine(),i.forEach(function(o,s){s!==0&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(o.data.value||""),o.mergeAcross&&n.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,n,i,o){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var n=1;n<=e;n++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,n){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,n,i){var o;n!=0&&(this.result+=this.columnSeparator);var s=this.extractRowCellValue(e,n,n,"csv",i);this.result+=this.putInQuotes((o=s.valueFormatted)!==null&&o!==void 0?o:s.value)},t.prototype.putInQuotes=function(e){if(this.suppressQuotes)return e;if(e==null)return'""';var n;typeof e=="string"?n=e:typeof e.toString=="function"?n=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n="");var i=n.replace(/"/g,'""');return'"'+i+'"'},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=UR),this.isFirstLine=!1},t}(az),dz=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cs=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fz=function(r){dz(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var n=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},n,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(e),i=this.getData(n),o=new Blob(["\uFEFF",i],{type:"text/plain"});return lz.download(this.getFileName(n.fileName),o),i},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e,n){n===void 0&&(n=!1);var i=n?Object.assign({},e):this.getMergedParams(e);return this.getData(i)},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var n=this,i=n.columnModel,o=n.valueService,s=n.gridOptionsService,a=n.valueFormatterService,l=n.valueParserService,u=e,c=u.processCellCallback,d=u.processHeaderCallback,f=u.processGroupHeaderCallback,p=u.processRowGroupCallback,h=u.suppressQuotes,g=u.columnSeparator;return new cz({columnModel:i,valueService:o,gridOptionsService:s,valueFormatterService:a,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:f||void 0,processRowGroupCallback:p||void 0,suppressQuotes:h||!1,columnSeparator:g||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},cs([w("columnModel")],t.prototype,"columnModel",void 0),cs([w("valueService")],t.prototype,"valueService",void 0),cs([w("gridSerializer")],t.prototype,"gridSerializer",void 0),cs([w("gridOptionsService")],t.prototype,"gridOptionsService",void 0),cs([w("valueFormatterService")],t.prototype,"valueFormatterService",void 0),cs([w("valueParserService")],t.prototype,"valueParserService",void 0),cs([ne],t.prototype,"postConstruct",null),t=cs([fe("csvCreator")],t),t}(sz),pz=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ds=function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};var hz=function(r){pz(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.serialize=function(e,n){n===void 0&&(n={});var i=n.allColumns,o=n.columnKeys,s=n.skipRowGroups,a=this.getColumnsToExport(i,s,o),l=He.compose(this.prepareSession(a),this.prependContent(n),this.exportColumnGroups(n,a),this.exportHeaders(n,a),this.processPinnedTopRows(n,a),this.processRows(n,a),this.processPinnedBottomRows(n,a),this.appendContent(n));return l(e).parse()},t.prototype.processRow=function(e,n,i,o){var s=n.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsService.context,l=this.gridOptionsService.api,u=this.gridOptionsService.columnApi,c=this.gridOptionsService.get("groupRemoveSingleChildren"),d=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),f=n.rowPositions!=null,p=f||!!n.onlySelected,h=this.gridOptionsService.get("groupHideOpenParents")&&!p,g=this.columnModel.isPivotMode()?o.leafGroup:!o.group,v=!!o.footer;n.skipRowGroups;var m=d&&o.leafGroup,C=o.allChildrenCount===1&&(c||m);if(!(!g&&!v&&(n.skipRowGroups||C||h)||n.onlySelected&&!o.isSelected()||n.skipPinnedTop&&o.rowPinned==="top"||n.skipPinnedBottom&&o.rowPinned==="bottom")){var y=o.level===-1;if(!(y&&!g&&!v)){var x=s({node:o,api:l,columnApi:u,context:a});if(!x){var P=e.onNewBodyRow(o);if(i.forEach(function(E,O){P.onColumn(E,O,o)}),n.getCustomContentBelowRow){var R=n.getCustomContentBelowRow({node:o,api:l,columnApi:u,context:a});R&&e.addCustomContent(R)}}}}},t.prototype.appendContent=function(e){return function(n){var i=e.appendContent;return i&&n.addCustomContent(i),n}},t.prototype.prependContent=function(e){return function(n){var i=e.prependContent;return i&&n.addCustomContent(i),n}},t.prototype.prepareSession=function(e){return function(n){return n.prepare(e),n}},t.prototype.exportColumnGroups=function(e,n){var i=this;return function(o){if(!e.skipColumnGroupHeaders){var s=new uA,a=i.displayedGroupCreator.createDisplayedGroups(n,s,null);i.recursivelyAddHeaderGroups(a,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,n){return function(i){if(!e.skipColumnHeaders){var o=i.onNewHeaderRow();n.forEach(function(s,a){o.onColumn(s,a,void 0)})}return i}},t.prototype.processPinnedTopRows=function(e,n){var i=this;return function(o){var s=i.processRow.bind(i,o,e,n);return e.rowPositions?e.rowPositions.filter(function(a){return a.rowPinned==="top"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return i.pinnedRowModel.getPinnedTopRow(a.rowIndex)}).forEach(s):i.pinnedRowModel.forEachPinnedTopRow(s),o}},t.prototype.processRows=function(e,n){var i=this;return function(o){var s=i.rowModel,a=s.getType(),l=a==="clientSide",u=a==="serverSide",c=!l&&e.onlySelected,d=i.processRow.bind(i,o,e,n),f=e.exportedRows,p=f===void 0?"filteredAndSorted":f;if(e.rowPositions)e.rowPositions.filter(function(g){return g.rowPinned==null}).sort(function(g,v){return g.rowIndex-v.rowIndex}).map(function(g){return s.getRow(g.rowIndex)}).forEach(d);else if(i.columnModel.isPivotMode())l?s.forEachPivotNode(d,!0):u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);else if(e.onlySelectedAllPages||c){var h=i.selectionService.getSelectedNodes();i.replicateSortedOrder(h),h.forEach(d)}else p==="all"?s.forEachNode(d):l||u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);return o}},t.prototype.replicateSortedOrder=function(e){var n=this,i=this.sortController.getSortOptions(),o=function(s,a){var l,u,c,d;return s.rowIndex!=null&&a.rowIndex!=null?s.rowIndex-a.rowIndex:s.level===a.level?((l=s.parent)===null||l===void 0?void 0:l.id)===((u=a.parent)===null||u===void 0?void 0:u.id)?n.rowNodeSorter.compareRowNodes(i,{rowNode:s,currentPos:(c=s.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:a,currentPos:(d=a.rowIndex)!==null&&d!==void 0?d:-1}):o(s.parent,a.parent):s.level>a.level?o(s.parent,a):o(s,a.parent)};e.sort(o)},t.prototype.processPinnedBottomRows=function(e,n){var i=this;return function(o){var s=i.processRow.bind(i,o,e,n);return e.rowPositions?e.rowPositions.filter(function(a){return a.rowPinned==="bottom"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return i.pinnedRowModel.getPinnedBottomRow(a.rowIndex)}).forEach(s):i.pinnedRowModel.forEachPinnedBottomRow(s),o}},t.prototype.getColumnsToExport=function(e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);var s=this.gridOptionsService.get("treeData"),a=[];if(e&&!o){var l=s?this.columnModel.getGridColumns([Ea]):[];a=l.concat(this.columnModel.getAllGridColumns())}else a=this.columnModel.getAllDisplayedColumns();return n&&!s&&(a=a.filter(function(u){return u.getColId()!==Ea})),a},t.prototype.recursivelyAddHeaderGroups=function(e,n,i){var o=[];e.forEach(function(s){var a=s;a.getChildren&&a.getChildren().forEach(function(l){return o.push(l)})}),e.length>0&&e[0]instanceof tn&&this.doAddHeaderHeader(n,e,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,n,i)},t.prototype.doAddHeaderHeader=function(e,n,i){var o=this,s=e.onNewHeaderGroupingRow(),a=0;n.forEach(function(l){var u=l,c;i?c=i({columnGroup:u,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(f,p,h,g){var v=He.last(f),m=p.getColumnGroupShow()==="open";return m?(!v||v[1]!=null)&&(v=[h],f.push(v)):v&&v[1]==null&&(v[1]=h-1),h===g.length-1&&v&&v[1]==null&&(v[1]=h),f},[]);s.onColumn(u,c||"",a++,u.getLeafColumns().length-1,d)})},ds([w("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),ds([w("columnModel")],t.prototype,"columnModel",void 0),ds([w("rowModel")],t.prototype,"rowModel",void 0),ds([w("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ds([w("selectionService")],t.prototype,"selectionService",void 0),ds([w("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),ds([w("sortController")],t.prototype,"sortController",void 0),t=ds([fe("gridSerializer")],t),t}(Q),gz="31.0.0",vz={version:gz,moduleName:ge.CsvExportModule,beans:[fz,hz]},ah=`\r
`,Yse=function(){function r(){}return r.createHeader=function(t){t===void 0&&(t={});var e="<?",n="?>",i=["version"];t.version||(t.version="1.0"),t.encoding&&i.push("encoding"),t.standalone&&i.push("standalone");var o=i.map(function(s){return"".concat(s,'="').concat(t[s],'"')}).join(" ");return"".concat(e,"xml ").concat(o," ").concat(n)},r.createXml=function(t,e){var n=this,i="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(s){Object.keys(s.map).forEach(function(a){i+=n.returnAttributeIfPopulated(s.prefix+a,s.map[a],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(s){i+=n.returnAttributeIfPopulated(s,t.properties.rawMap[s],e)}));var o="<"+t.name+i;return!t.children&&t.textNode==null?o+"/>"+ah:t.textNode!=null?o+">"+t.textNode+"</"+t.name+">"+ah:(o+=">"+ah,t.children&&t.children.forEach(function(s){o+=n.createXml(s,e)}),o+"</"+t.name+">"+ah)},r.returnAttributeIfPopulated=function(t,e,n){if(!e&&e!==""&&e!==0)return"";var i=e;return typeof e=="boolean"&&n&&(i=n(e))," ".concat(t,'="').concat(i,'"')},r}(),mz=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yz=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),qse=function(){function r(){}return r.addFolders=function(t){t.forEach(this.addFolder.bind(this))},r.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},r.addFile=function(t,e,n){n===void 0&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},r.getContent=function(t){t===void 0&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},r.clearStream=function(){this.folders=[],this.files=[]},r.buildFileStream=function(t){var e,n;t===void 0&&(t="");var i=this.folders.concat(this.files),o=i.length,s="",a=0,l=0;try{for(var u=mz(i),c=u.next();!c.done;c=u.next()){var d=c.value,f=this.getHeader(d,a),p=f.fileHeader,h=f.folderHeader,g=f.content;a+=p.length+g.length,l+=h.length,t+=p+g,s+=h}}catch(m){e={error:m}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}var v=this.buildFolderEnd(o,l,a);return t+s+v},r.getHeader=function(t,e){var n=t.content,i=t.path,o=t.created,s=t.isBase64,a=He.utf8_encode,l=He.decToHex,u=a(i),c=u!==i,d=this.convertTime(o),f=this.convertDate(o),p="";if(c){var h=l(1,1)+l(this.getFromCrc32Table(u),4)+u;p="up"+l(h.length,2)+h}var g=n?this.getConvertedContent(n,s):{size:0,content:""},v=g.size,m=g.content,C=`
\0`+(c?"\0\b":"\0\0")+"\0\0"+l(d,2)+l(f,2)+l(v?this.getFromCrc32Table(m):0,4)+l(v,4)+l(v,4)+l(u.length,2)+l(p.length,2),y="PK"+C+u+p,x="PK\0"+C+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\0\0\0")+l(e,4)+u+p;return{fileHeader:y,folderHeader:x,content:m||""}},r.getConvertedContent=function(t,e){return e===void 0&&(e=!1),e&&(t=t.split(";base64,")[1]),t=e?atob(t):t,{size:t.length,content:t}},r.buildFolderEnd=function(t,e,n){var i=He.decToHex;return"PK\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(n,4)+"\0\0"},r.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},r.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),i=0;i<e;i++)n[i]=t.charCodeAt(i);for(var o=-1,s=0,a=0,l=0,i=0;i<e;i++)s=n[i],a=(o^s)&255,l=yz[a],o=o>>>8^l;return o^-1},r.convertTime=function(t){var e=t.getHours();return e<<=6,e=e|t.getMinutes(),e<<=5,e=e|t.getSeconds()/2,e},r.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e=e|t.getMonth()+1,e<<=5,e=e|t.getDate(),e},r.folders=[],r.files=[],r}(),Cz=[Q5,oz,vz];Le.registerModules(Cz);var bO=(()=>{class r extends vw{constructor(e){super("angular"),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,n){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},n)}):window.setTimeout(()=>{e()},n)}setInterval(e,n){return new Rr(i=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{i(window.setInterval(()=>{e()},n))}):i(window.setInterval(()=>{e()},n))})}addEventListener(e,n,i,o){this.isOutsideAngular(n)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(n,i,o)}):e.addEventListener(n,i,o)}dispatchEvent(e,n,i=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(n):n():(this.isEmitterUsed(e)||i)&&(!Et.isInAngularZone()&&this._ngZone?this._ngZone.run(n):n())}isFrameworkComponent(e){if(!e)return!1;let n=e.prototype;return n&&"agInit"in n}}return r.\u0275fac=function(e){return new(e||r)(Ne(Et))},r.\u0275prov=Re({token:r,factory:r.\u0275fac}),r})(),FO=(()=>{class r extends OO{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let n=this;class i extends yw{init(a){super.init(a),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return n.createComponent(e)}hasMethod(a){return o.getFrameworkComponentInstance()[a]!=null}callMethod(a,l){let u=this.getFrameworkComponentInstance();return o.getFrameworkComponentInstance()[a].apply(u,l)}addMethod(a,l){o[a]=l}}let o=new i;return o}createComponent(e){let n=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(n)}}return r.\u0275fac=(()=>{let t;return function(n){return(t||(t=Hi(r)))(n||r)}})(),r.\u0275prov=Re({token:r,factory:r.\u0275fac}),r})(),yw=class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},Wl=(()=>{class r{constructor(e,n,i,o,s){this.viewContainerRef=n,this.angularFrameworkOverrides=i,this.frameworkComponentWrapper=o,this.componentFactoryResolver=s,this._initialised=!1,this._destroyed=!1,this._fullyReady=Rr.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new re,this.toolPanelSizeChanged=new re,this.cutStart=new re,this.cutEnd=new re,this.pasteStart=new re,this.pasteEnd=new re,this.columnVisible=new re,this.columnPinned=new re,this.columnResized=new re,this.columnMoved=new re,this.columnValueChanged=new re,this.columnPivotModeChanged=new re,this.columnPivotChanged=new re,this.columnGroupOpened=new re,this.newColumnsLoaded=new re,this.gridColumnsChanged=new re,this.displayedColumnsChanged=new re,this.virtualColumnsChanged=new re,this.columnEverythingChanged=new re,this.componentStateChanged=new re,this.cellValueChanged=new re,this.cellEditRequest=new re,this.rowValueChanged=new re,this.cellEditingStarted=new re,this.cellEditingStopped=new re,this.rowEditingStarted=new re,this.rowEditingStopped=new re,this.undoStarted=new re,this.undoEnded=new re,this.redoStarted=new re,this.redoEnded=new re,this.rangeDeleteStart=new re,this.rangeDeleteEnd=new re,this.filterOpened=new re,this.filterChanged=new re,this.filterModified=new re,this.advancedFilterBuilderVisibleChanged=new re,this.chartCreated=new re,this.chartRangeSelectionChanged=new re,this.chartOptionsChanged=new re,this.chartDestroyed=new re,this.cellKeyDown=new re,this.gridReady=new re,this.gridPreDestroyed=new re,this.firstDataRendered=new re,this.gridSizeChanged=new re,this.modelUpdated=new re,this.virtualRowRemoved=new re,this.viewportChanged=new re,this.bodyScroll=new re,this.bodyScrollEnd=new re,this.dragStarted=new re,this.dragStopped=new re,this.stateUpdated=new re,this.paginationChanged=new re,this.rowDragEnter=new re,this.rowDragMove=new re,this.rowDragLeave=new re,this.rowDragEnd=new re,this.columnRowGroupChanged=new re,this.rowGroupOpened=new re,this.expandOrCollapseAll=new re,this.pinnedRowDataChanged=new re,this.rowDataUpdated=new re,this.asyncTransactionsFlushed=new re,this.storeRefreshed=new re,this.cellClicked=new re,this.cellDoubleClicked=new re,this.cellFocused=new re,this.cellMouseOver=new re,this.cellMouseOut=new re,this.cellMouseDown=new re,this.rowClicked=new re,this.rowDoubleClicked=new re,this.rowSelected=new re,this.selectionChanged=new re,this.cellContextMenu=new re,this.rangeSelectionChanged=new re,this.tooltipShow=new re,this.tooltipHide=new re,this.sortChanged=new re,this.columnRowGroupChangeRequest=new re,this.columnPivotChangeRequest=new re,this.columnValueChangeRequest=new re,this.columnAggFuncChangeRequest=new re,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this));let e=id.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};let n=RO(this._nativeElement,e,this.gridParams);n&&(this.api=n,this.columnApi=new ld(n)),this.gridPreDestroyed.observers.length>0&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,i=>i)}ngOnChanges(e){if(this._initialised){let n={};Object.entries(e).forEach(([i,o])=>{n[i]=o.currentValue}),id.processOnChange(n,this.api)}}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(e){let n=this[e],i=!!n&&n.observers&&n.observers.length>0,o=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`,s=!!this.gridOptions&&!!this.gridOptions[o];return i||s}globalEventListener(e,n){if(this._destroyed)return;let i=this[e];i&&this.isEmitterUsed(e)&&(e==="gridReady"?this._fullyReady.then(o=>{i.emit(n)}):i.emit(n))}}return r.\u0275fac=function(e){return new(e||r)(ye(mn),ye(Ui),ye(bO),ye(FO),ye(fl))},r.\u0275cmp=un({type:r,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[zi([bO,FO]),ci],decls:0,vars:0,template:function(e,n){},encapsulation:2}),r})(),zl=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=li({type:r}),r.\u0275inj=ai({}),r})();var Nb={};Nb.version="0.18.5";var io=1200,Ql=1252,wz=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Bw={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},jw=function(r){wz.indexOf(r)!=-1&&(Ql=Bw[0]=r)};function _z(){jw(1252)}var xi=function(r){io=r,jw(r)};function Lb(){xi(1200),_z()}function bw(r){for(var t=[],e=0,n=r.length;e<n;++e)t[e]=r.charCodeAt(e);return t}function Sz(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e)+(r.charCodeAt(2*e+1)<<8));return t.join("")}function kb(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e+1)+(r.charCodeAt(2*e)<<8));return t.join("")}var cd=function(r){var t=r.charCodeAt(0),e=r.charCodeAt(1);return t==255&&e==254?Sz(r.slice(2)):t==254&&e==255?kb(r.slice(2)):t==65279?r.slice(1):r},$h=function(t){return String.fromCharCode(t)},IO=function(t){return String.fromCharCode(t)},vt;var Zt=null,ud=!0,xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function PO(r){for(var t="",e=0,n=0,i=0,o=0,s=0,a=0,l=0,u=0;u<r.length;)e=r.charCodeAt(u++),o=e>>2,n=r.charCodeAt(u++),s=(e&3)<<4|n>>4,i=r.charCodeAt(u++),a=(n&15)<<2|i>>6,l=i&63,isNaN(n)?a=l=64:isNaN(i)&&(l=64),t+=xs.charAt(o)+xs.charAt(s)+xs.charAt(a)+xs.charAt(l);return t}function Pr(r){var t="",e=0,n=0,i=0,o=0,s=0,a=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<r.length;)o=xs.indexOf(r.charAt(u++)),s=xs.indexOf(r.charAt(u++)),e=o<<2|s>>4,t+=String.fromCharCode(e),a=xs.indexOf(r.charAt(u++)),n=(s&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(n)),l=xs.indexOf(r.charAt(u++)),i=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var ot=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ma=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Rs(r){return ot?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function MO(r){return ot?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Ei=function(t){return ot?Ma(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function Na(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],e=0;e<r.length;++e)t[e]=String.fromCharCode(r[e]);return t.join("")}function Uw(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return Uw(new Uint8Array(r));for(var t=new Array(r.length),e=0;e<r.length;++e)t[e]=r[e];return t}var Es=ot?function(r){return Buffer.concat(r.map(function(t){return Buffer.isBuffer(t)?t:Ma(t)}))}:function(r){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<r.length;++t)e+=r[t].length;var n=new Uint8Array(e),i=0;for(t=0,e=0;t<r.length;e+=i,++t)if(i=r[t].length,r[t]instanceof Uint8Array)n.set(r[t],e);else{if(typeof r[t]=="string")throw"wtf";n.set(new Uint8Array(r[t]),e)}return n}return[].concat.apply([],r.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function Ez(r){for(var t=[],e=0,n=r.length+250,i=Rs(r.length+255),o=0;o<r.length;++o){var s=r.charCodeAt(o);if(s<128)i[e++]=s;else if(s<2048)i[e++]=192|s>>6&31,i[e++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var a=r.charCodeAt(++o)&1023;i[e++]=240|s>>8&7,i[e++]=128|s>>2&63,i[e++]=128|a>>6&15|(s&3)<<4,i[e++]=128|a&63}else i[e++]=224|s>>12&15,i[e++]=128|s>>6&63,i[e++]=128|s&63;e>n&&(t.push(i.slice(0,e)),e=0,i=Rs(65535),n=65530)}return t.push(i.slice(0,e)),Es(t)}var Pn=/\u0000/g,dd=/[\u0001-\u0006]/g;function Yl(r){for(var t="",e=r.length-1;e>=0;)t+=r.charAt(e--);return t}function Di(r,t){var e=""+r;return e.length>=t?e:Lt("0",t-e.length)+e}function Ww(r,t){var e=""+r;return e.length>=t?e:Lt(" ",t-e.length)+e}function tg(r,t){var e=""+r;return e.length>=t?e:e+Lt(" ",t-e.length)}function xz(r,t){var e=""+Math.round(r);return e.length>=t?e:Lt("0",t-e.length)+e}function Dz(r,t){var e=""+r;return e.length>=t?e:Lt("0",t-e.length)+e}var NO=Math.pow(2,32);function $l(r,t){if(r>NO||r<-NO)return xz(r,t);var e=Math.round(r);return Dz(e,t)}function ng(r,t){return t=t||0,r.length>=7+t&&(r.charCodeAt(t)|32)===103&&(r.charCodeAt(t+1)|32)===101&&(r.charCodeAt(t+2)|32)===110&&(r.charCodeAt(t+3)|32)===101&&(r.charCodeAt(t+4)|32)===114&&(r.charCodeAt(t+5)|32)===97&&(r.charCodeAt(t+6)|32)===108}var LO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ww=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Tz(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',r}var $e={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},kO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Rz={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function rg(r,t,e){for(var n=r<0?-1:1,i=r*n,o=0,s=1,a=0,l=1,u=0,c=0,d=Math.floor(i);u<t&&(d=Math.floor(i),a=d*s+o,c=d*u+l,!(i-d<5e-8));)i=1/(i-d),o=s,s=a,l=u,u=c;if(c>t&&(u>t?(c=l,a=o):(c=u,a=s)),!e)return[0,n*a,c];var f=Math.floor(n*a/c);return[f,n*a-f*c,c]}function Aa(r,t,e){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),o=0,s=[],a={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(n+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++n,++a.D)),n===60)s=e?[1317,10,29]:[1900,2,29],o=3;else if(n===0)s=e?[1317,8,29]:[1900,1,0],o=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],o=l.getDay(),n<60&&(o=(o+6)%7),e&&(o=Pz(l,s))}return a.y=s[0],a.m=s[1],a.d=s[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=o,a}var Gb=new Date(1899,11,31,0,0,0),Az=Gb.getTime(),Oz=new Date(1900,2,1,0,0,0);function Vb(r,t){var e=r.getTime();return t?e-=1461*24*60*60*1e3:r>=Oz&&(e+=24*60*60*1e3),(e-(Az+(r.getTimezoneOffset()-Gb.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function zw(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bz(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Fz(r){var t=r<0?12:11,e=zw(r.toFixed(12));return e.length<=t||(e=r.toPrecision(10),e.length<=t)?e:r.toExponential(5)}function Iz(r){var t=zw(r.toFixed(11));return t.length>(r<0?12:11)||t==="0"||t==="-0"?r.toPrecision(6):t}function Ed(r){var t=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),e;return t>=-4&&t<=-1?e=r.toPrecision(10+t):Math.abs(t)<=9?e=Fz(r):t===10?e=r.toFixed(10).substr(0,12):e=Iz(r),zw(bz(e.toUpperCase()))}function Fa(r,t){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):Ed(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return ei(14,Vb(r,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+r)}function Pz(r,t){t[0]-=581;var e=r.getDay();return r<60&&(e=(e+6)%7),e}function Mz(r,t,e,n){var i="",o=0,s=0,a=e.y,l,u=0;switch(r){case 98:a=e.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,u=2;break;default:l=a%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=e.m,u=t.length;break;case 3:return ww[e.m-1][1];case 5:return ww[e.m-1][0];default:return ww[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=e.d,u=t.length;break;case 3:return LO[e.q][0];default:return LO[e.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(e.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=e.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=e.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?Di(e.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,o=Math.round(s*(e.S+e.u)),o>=60*s&&(o=0),t==="s"?o===0?"0":""+o/s:(i=Di(o,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=e.D*24+e.H;break;case"[m]":case"[mm]":l=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":l=((e.D*24+e.H)*60+e.M)*60+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=a,u=1;break}var c=u>0?Di(l,u):"";return c}function Ds(r){var t=3;if(r.length<=t)return r;for(var e=r.length%t,n=r.substr(0,e);e!=r.length;e+=t)n+=(n.length>0?",":"")+r.substr(e,t);return n}var Hb=/%/g;function Nz(r,t,e){var n=t.replace(Hb,""),i=t.length-n.length;return bo(r,n,e*Math.pow(10,2*i))+Lt("%",i)}function Lz(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bo(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function Bb(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Bb(r,-t);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),e=(t/Math.pow(10,o)).toPrecision(n+1+(i+o)%i),e.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(s-e.length+o):e+="E+"+(s-o);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,i)+"."+e.substr(2+i),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,c){return l+u+c.substr(0,(i+o)%i)+"."+c.substr(o)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var jb=/# (\?+)( ?)\/( ?)(\d+)/;function kz(r,t,e){var n=parseInt(r[4],10),i=Math.round(t*n),o=Math.floor(i/n),s=i-o*n,a=n;return e+(o===0?"":""+o)+" "+(s===0?Lt(" ",r[1].length+1+r[4].length):Ww(s,r[1].length)+r[2]+"/"+r[3]+Di(a,r[4].length))}function Gz(r,t,e){return e+(t===0?"":""+t)+Lt(" ",r[1].length+2+r[4].length)}var Ub=/^#*0*\.([0#]+)/,Wb=/\).*[0#]/,zb=/\(###\) ###\\?-####/;function Wn(r){for(var t="",e,n=0;n!=r.length;++n)switch(e=r.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function GO(r,t){var e=Math.pow(10,t);return""+Math.round(r*e)/e}function VO(r,t){var e=r-Math.floor(r),n=Math.pow(10,t);return t<(""+Math.round(e*n)).length?0:Math.round(e*n)}function Vz(r,t){return t<(""+Math.round((r-Math.floor(r))*Math.pow(10,t))).length?1:0}function Hz(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Zr(r,t,e){if(r.charCodeAt(0)===40&&!t.match(Wb)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Zr("n",n,e):"("+Zr("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return Lz(r,t,e);if(t.indexOf("%")!==-1)return Nz(r,t,e);if(t.indexOf("E")!==-1)return Bb(t,e);if(t.charCodeAt(0)===36)return"$"+Zr(r,t.substr(t.charAt(1)==" "?2:1),e);var i,o,s,a,l=Math.abs(e),u=e<0?"-":"";if(t.match(/^00+$/))return u+$l(l,t.length);if(t.match(/^[#?]+$/))return i=$l(e,0),i==="0"&&(i=""),i.length>t.length?i:Wn(t.substr(0,t.length-i.length))+i;if(o=t.match(jb))return kz(o,l,u);if(t.match(/^#+0+$/))return u+$l(l,t.length-t.indexOf("0"));if(o=t.match(Ub))return i=GO(e,o[1].length).replace(/^([^\.]+)$/,"$1."+Wn(o[1])).replace(/\.$/,"."+Wn(o[1])).replace(/\.(\d*)$/,function(h,g){return"."+g+Lt("0",Wn(o[1]).length-g.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return u+GO(l,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return u+Ds($l(l,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Zr(r,t,-e):Ds(""+(Math.floor(e)+Vz(e,o[1].length)))+"."+Di(VO(e,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return Zr(r,t.replace(/^#,#*,/,""),e);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yl(Zr(r,t.replace(/[\\-]/g,""),e)),s=0,Yl(Yl(t.replace(/\\/g,"")).replace(/[0#]/g,function(h){return s<i.length?i.charAt(s++):h==="0"?"0":""}));if(t.match(zb))return i=Zr(r,"##########",e),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(o[4].length,7),a=rg(l,Math.pow(10,s)-1,!1),i=""+u,c=bo("n",o[1],a[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+o[2]+"/"+o[3],c=tg(a[2],s),c.length<o[4].length&&(c=Wn(o[4].substr(o[4].length-c.length))+c),i+=c,i;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(o[1].length,o[4].length),7),a=rg(l,Math.pow(10,s)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?Ww(a[1],s)+o[2]+"/"+o[3]+tg(a[2],s):Lt(" ",2*s+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=$l(e,0),t.length<=i.length?i:Wn(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=t.indexOf(".")-s,f=t.length-i.length-d;return Wn(t.substr(0,d)+i+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return s=VO(e,o[1].length),e<0?"-"+Zr(r,t,-e):Ds(Hz(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(h){return"00,"+(h.length<3?Di(0,3-h.length):"")+h})+"."+Di(s,o[1].length);switch(t){case"###,##0.00":return Zr(r,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var p=Ds($l(l,0));return p!=="0"?u+p:"";case"###,###.00":return Zr(r,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return Zr(r,"#,##0.00",e).replace(/^0\./,".");default:}throw new Error("unsupported format |"+t+"|")}function Bz(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bo(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function jz(r,t,e){var n=t.replace(Hb,""),i=t.length-n.length;return bo(r,n,e*Math.pow(10,2*i))+Lt("%",i)}function $b(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+$b(r,-t);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),e=(t/Math.pow(10,o)).toPrecision(n+1+(i+o)%i),!e.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(s-e.length+o):e+="E+"+(s-o),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,c){return l+u+c.substr(0,(i+o)%i)+"."+c.substr(o)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function ro(r,t,e){if(r.charCodeAt(0)===40&&!t.match(Wb)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?ro("n",n,e):"("+ro("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return Bz(r,t,e);if(t.indexOf("%")!==-1)return jz(r,t,e);if(t.indexOf("E")!==-1)return $b(t,e);if(t.charCodeAt(0)===36)return"$"+ro(r,t.substr(t.charAt(1)==" "?2:1),e);var i,o,s,a,l=Math.abs(e),u=e<0?"-":"";if(t.match(/^00+$/))return u+Di(l,t.length);if(t.match(/^[#?]+$/))return i=""+e,e===0&&(i=""),i.length>t.length?i:Wn(t.substr(0,t.length-i.length))+i;if(o=t.match(jb))return Gz(o,l,u);if(t.match(/^#+0+$/))return u+Di(l,t.length-t.indexOf("0"));if(o=t.match(Ub))return i=(""+e).replace(/^([^\.]+)$/,"$1."+Wn(o[1])).replace(/\.$/,"."+Wn(o[1])),i=i.replace(/\.(\d*)$/,function(h,g){return"."+g+Lt("0",Wn(o[1]).length-g.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return u+Ds(""+l);if(o=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+ro(r,t,-e):Ds(""+e)+"."+Lt("0",o[1].length);if(o=t.match(/^#,#*,#0/))return ro(r,t.replace(/^#,#*,/,""),e);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yl(ro(r,t.replace(/[\\-]/g,""),e)),s=0,Yl(Yl(t.replace(/\\/g,"")).replace(/[0#]/g,function(h){return s<i.length?i.charAt(s++):h==="0"?"0":""}));if(t.match(zb))return i=ro(r,"##########",e),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(o[4].length,7),a=rg(l,Math.pow(10,s)-1,!1),i=""+u,c=bo("n",o[1],a[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+o[2]+"/"+o[3],c=tg(a[2],s),c.length<o[4].length&&(c=Wn(o[4].substr(o[4].length-c.length))+c),i+=c,i;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(o[1].length,o[4].length),7),a=rg(l,Math.pow(10,s)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?Ww(a[1],s)+o[2]+"/"+o[3]+tg(a[2],s):Lt(" ",2*s+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=""+e,t.length<=i.length?i:Wn(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=t.indexOf(".")-s,f=t.length-i.length-d;return Wn(t.substr(0,d)+i+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+ro(r,t,-e):Ds(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(h){return"00,"+(h.length<3?Di(0,3-h.length):"")+h})+"."+Di(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Ds(""+l);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return ro(r,t.slice(0,t.lastIndexOf(".")),e)+Wn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function bo(r,t,e){return(e|0)===e?ro(r,t,e):Zr(r,t,e)}function Uz(r){for(var t=[],e=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:e=!e;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=r.substr(i,n-i),i=n+1}if(t[t.length]=r.substr(i),e===!0)throw new Error("Format |"+r+"| unterminated string ");return t}var Kb=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function eu(r){for(var t=0,e="",n="";t<r.length;)switch(e=r.charAt(t)){case"G":ng(r,t)&&(t+=6),t++;break;case'"':for(;r.charCodeAt(++t)!==34&&t<r.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(r.charAt(t+1)==="1"||r.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(r.substr(t,3).toUpperCase()==="A/P"||r.substr(t,5).toUpperCase()==="AM/PM"||r.substr(t,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++t;break;case"[":for(n=e;r.charAt(t++)!=="]"&&t<r.length;)n+=r.charAt(t);if(n.match(Kb))return!0;break;case".":case"0":case"#":for(;t<r.length&&("0#?.,E+-%".indexOf(e=r.charAt(++t))>-1||e=="\\"&&r.charAt(t+1)=="-"&&"0#".indexOf(r.charAt(t+2))>-1););break;case"?":for(;r.charAt(++t)===e;);break;case"*":++t,(r.charAt(t)==" "||r.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<r.length&&"0123456789".indexOf(r.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Wz(r,t,e,n){for(var i=[],o="",s=0,a="",l="t",u,c,d,f="H";s<r.length;)switch(a=r.charAt(s)){case"G":if(!ng(r,s))throw new Error("unrecognized character "+a+" in "+r);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(o="";(d=r.charCodeAt(++s))!==34&&s<r.length;)o+=String.fromCharCode(d);i[i.length]={t:"t",v:o},++s;break;case"\\":var p=r.charAt(++s),h=p==="("||p===")"?p:"t";i[i.length]={t:h,v:p},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(r.charAt(s+1)==="1"||r.charAt(s+1)==="2"){if(u==null&&(u=Aa(t,e,r.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:r.substr(s,2)},l=a,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Aa(t,e),u==null))return"";for(o=a;++s<r.length&&r.charAt(s).toLowerCase()===a;)o+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=f),i[i.length]={t:a,v:o},l=a;break;case"A":case"a":case"\u4E0A":var g={t:a,v:a};if(u==null&&(u=Aa(t,e)),r.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",f="h",s+=3):r.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",s+=5,f="h"):r.substr(s,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(u!=null&&(g.v=u.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),g.t="T",s+=5,f="h"):(g.t="t",++s),u==null&&g.t==="T")return"";i[i.length]=g,l=a;break;case"[":for(o=a;r.charAt(s++)!=="]"&&s<r.length;)o+=r.charAt(s);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(Kb)){if(u==null&&(u=Aa(t,e),u==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},l=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",eu(r)||(i[i.length]={t:"t",v:o}));break;case".":if(u!=null){for(o=a;++s<r.length&&(a=r.charAt(s))==="0";)o+=a;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=a;++s<r.length&&"0#?.,E+-%".indexOf(a=r.charAt(s))>-1;)o+=a;i[i.length]={t:"n",v:o};break;case"?":for(o=a;r.charAt(++s)===a;)o+=a;i[i.length]={t:a,v:o},l=a;break;case"*":++s,(r.charAt(s)==" "||r.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":a,v:a},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=a;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;)o+=r.charAt(s);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:a,v:a},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+r);i[i.length]={t:"t",v:a},++s;break}var v=0,m=0,C;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=f,l="h",v<1&&(v=1);break;case"s":(C=i[s].v.match(/\.0+$/))&&(m=Math.max(m,C[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[s].v.match(/[Hh]/)&&(v=1),v<2&&i[s].v.match(/[Mm]/)&&(v=2),v<3&&i[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",x;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Mz(i[s].t.charCodeAt(0),i[s].v,u,m),i[s].t="t";break;case"n":case"?":for(x=s+1;i[x]!=null&&((a=i[x].t)==="?"||a==="D"||(a===" "||a==="t")&&i[x+1]!=null&&(i[x+1].t==="?"||i[x+1].t==="t"&&i[x+1].v==="/")||i[s].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[x].v==="/"||i[x].v===" "&&i[x+1]!=null&&i[x+1].t=="?"));)i[s].v+=i[x].v,i[x]={v:"",t:";"},++x;y+=i[s].v,s=x-1;break;case"G":i[s].t="t",i[s].v=Fa(t,e);break}var P="",R,E;if(y.length>0){y.charCodeAt(0)==40?(R=t<0&&y.charCodeAt(0)===45?-t:t,E=bo("n",y,R)):(R=t<0&&n>1?-t:t,E=bo("n",y,R),R<0&&i[0]&&i[0].t=="t"&&(E=E.substr(1),i[0].v="-"+i[0].v)),x=E.length-1;var O=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){O=s;break}var I=i.length;if(O===i.length&&E.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(x>=i[s].v.length-1?(x-=i[s].v.length,i[s].v=E.substr(x+1,i[s].v.length)):x<0?i[s].v="":(i[s].v=E.substr(0,x+1),x=-1),i[s].t="t",I=s);x>=0&&I<i.length&&(i[I].v=E.substr(0,x+1)+i[I].v)}else if(O!==i.length&&E.indexOf("E")===-1){for(x=E.indexOf(".")-1,s=O;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(c=i[s].v.indexOf(".")>-1&&s===O?i[s].v.indexOf(".")-1:i[s].v.length-1,P=i[s].v.substr(c+1);c>=0;--c)x>=0&&(i[s].v.charAt(c)==="0"||i[s].v.charAt(c)==="#")&&(P=E.charAt(x--)+P);i[s].v=P,i[s].t="t",I=s}for(x>=0&&I<i.length&&(i[I].v=E.substr(0,x+1)+i[I].v),x=E.indexOf(".")+1,s=O;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==O)){for(c=i[s].v.indexOf(".")>-1&&s===O?i[s].v.indexOf(".")+1:0,P=i[s].v.substr(0,c);c<i[s].v.length;++c)x<E.length&&(P+=E.charAt(x++));i[s].v=P,i[s].t="t",I=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(R=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=bo(i[s].t,i[s].v,R),i[s].t="t");var k="";for(s=0;s!==i.length;++s)i[s]!=null&&(k+=i[s].v);return k}var HO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function BO(r,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(r==e)return!0;break;case">":if(r>e)return!0;break;case"<":if(r<e)return!0;break;case"<>":if(r!=e)return!0;break;case">=":if(r>=e)return!0;break;case"<=":if(r<=e)return!0;break}return!1}function zz(r,t){var e=Uz(r),n=e.length,i=e[n-1].indexOf("@");if(n<4&&i>-1&&--n,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||i>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=i>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=i>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=i>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break;case 4:break}var o=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[n,o];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var s=e[0].match(HO),a=e[1].match(HO);return BO(t,s)?[n,e[0]]:BO(t,a)?[n,e[1]]:[n,e[s!=null&&a!=null?2:1]]}return[n,o]}function ei(r,t,e){e==null&&(e={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&e.dateNF?n=e.dateNF:n=r;break;case"number":r==14&&e.dateNF?n=e.dateNF:n=(e.table!=null?e.table:$e)[r],n==null&&(n=e.table&&e.table[kO[r]]||$e[kO[r]]),n==null&&(n=Rz[r]||"General");break}if(ng(n,0))return Fa(t,e);t instanceof Date&&(t=Vb(t,e.date1904));var i=zz(n,t);if(ng(i[1]))return Fa(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Wz(i[1],t,e,i[0])}function Oa(r,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if($e[e]==null){t<0&&(t=e);continue}if($e[e]==r){t=e;break}}t<0&&(t=391)}return $e[t]=r,t}function Yb(){$e=Tz()}var $z={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},qb=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Kz(r){var t=typeof r=="number"?$e[r]:r;return t=t.replace(qb,"(\\d+)"),new RegExp("^"+t+"$")}function Yz(r,t,e){var n=-1,i=-1,o=-1,s=-1,a=-1,l=-1;(t.match(qb)||[]).forEach(function(d,f){var p=parseInt(e[f+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=p;break;case"d":o=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?a=p:i=p;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&a==-1&&l==-1?u:n==-1&&i==-1&&o==-1?c:u+"T"+c}var qz=function(){var r={};r.version="1.2.0";function t(){for(var E=0,O=new Array(256),I=0;I!=256;++I)E=I,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,O[I]=E;return typeof Int32Array<"u"?new Int32Array(O):O}var e=t();function n(E){var O=0,I=0,k=0,G=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)G[k]=E[k];for(k=0;k!=256;++k)for(I=E[k],O=256+k;O<4096;O+=256)I=G[O]=I>>>8^E[I&255];var L=[];for(k=1;k!=16;++k)L[k-1]=typeof Int32Array<"u"?G.subarray(k*256,k*256+256):G.slice(k*256,k*256+256);return L}var i=n(e),o=i[0],s=i[1],a=i[2],l=i[3],u=i[4],c=i[5],d=i[6],f=i[7],p=i[8],h=i[9],g=i[10],v=i[11],m=i[12],C=i[13],y=i[14];function x(E,O){for(var I=O^-1,k=0,G=E.length;k<G;)I=I>>>8^e[(I^E.charCodeAt(k++))&255];return~I}function P(E,O){for(var I=O^-1,k=E.length-15,G=0;G<k;)I=y[E[G++]^I&255]^C[E[G++]^I>>8&255]^m[E[G++]^I>>16&255]^v[E[G++]^I>>>24]^g[E[G++]]^h[E[G++]]^p[E[G++]]^f[E[G++]]^d[E[G++]]^c[E[G++]]^u[E[G++]]^l[E[G++]]^a[E[G++]]^s[E[G++]]^o[E[G++]]^e[E[G++]];for(k+=15;G<k;)I=I>>>8^e[(I^E[G++])&255];return~I}function R(E,O){for(var I=O^-1,k=0,G=E.length,L=0,ee=0;k<G;)L=E.charCodeAt(k++),L<128?I=I>>>8^e[(I^L)&255]:L<2048?(I=I>>>8^e[(I^(192|L>>6&31))&255],I=I>>>8^e[(I^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,ee=E.charCodeAt(k++)&1023,I=I>>>8^e[(I^(240|L>>8&7))&255],I=I>>>8^e[(I^(128|L>>2&63))&255],I=I>>>8^e[(I^(128|ee>>6&15|(L&3)<<4))&255],I=I>>>8^e[(I^(128|ee&63))&255]):(I=I>>>8^e[(I^(224|L>>12&15))&255],I=I>>>8^e[(I^(128|L>>6&63))&255],I=I>>>8^e[(I^(128|L&63))&255]);return~I}return r.table=e,r.bstr=x,r.buf=P,r.str=R,r}(),ct=function(){var t={};t.version="1.2.1";function e(S,A){for(var D=S.split("/"),T=A.split("/"),b=0,F=0,j=Math.min(D.length,T.length);b<j;++b){if(F=D[b].length-T[b].length)return F;if(D[b]!=T[b])return D[b]<T[b]?-1:1}return D.length-T.length}function n(S){if(S.charAt(S.length-1)=="/")return S.slice(0,-1).indexOf("/")===-1?S:n(S.slice(0,-1));var A=S.lastIndexOf("/");return A===-1?S:S.slice(0,A+1)}function i(S){if(S.charAt(S.length-1)=="/")return i(S.slice(0,-1));var A=S.lastIndexOf("/");return A===-1?S:S.slice(A+1)}function o(S,A){typeof A=="string"&&(A=new Date(A));var D=A.getHours();D=D<<6|A.getMinutes(),D=D<<5|A.getSeconds()>>>1,S.write_shift(2,D);var T=A.getFullYear()-1980;T=T<<4|A.getMonth()+1,T=T<<5|A.getDate(),S.write_shift(2,T)}function s(S){var A=S.read_shift(2)&65535,D=S.read_shift(2)&65535,T=new Date,b=D&31;D>>>=5;var F=D&15;D>>>=4,T.setMilliseconds(0),T.setFullYear(D+1980),T.setMonth(F-1),T.setDate(b);var j=A&31;A>>>=5;var q=A&63;return A>>>=6,T.setHours(A),T.setMinutes(q),T.setSeconds(j<<1),T}function a(S){wn(S,0);for(var A={},D=0;S.l<=S.length-4;){var T=S.read_shift(2),b=S.read_shift(2),F=S.l+b,j={};switch(T){case 21589:D=S.read_shift(1),D&1&&(j.mtime=S.read_shift(4)),b>5&&(D&2&&(j.atime=S.read_shift(4)),D&4&&(j.ctime=S.read_shift(4))),j.mtime&&(j.mt=new Date(j.mtime*1e3));break}S.l=F,A[T]=j}return A}var l;function u(){return l||(l={})}function c(S,A){if(S[0]==80&&S[1]==75)return I_(S,A);if((S[0]|32)==109&&(S[1]|32)==105)return rI(S,A);if(S.length<512)throw new Error("CFB file size "+S.length+" < 512");var D=3,T=512,b=0,F=0,j=0,q=0,z=0,W=[],K=S.slice(0,512);wn(K,0);var ae=d(K);switch(D=ae[0],D){case 3:T=512;break;case 4:T=4096;break;case 0:if(ae[1]==0)return I_(S,A);default:throw new Error("Major Version: Expected 3 or 4 saw "+D)}T!==512&&(K=S.slice(0,T),wn(K,28));var ue=S.slice(0,T);f(K,D);var xe=K.read_shift(4,"i");if(D===3&&xe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+xe);K.l+=4,j=K.read_shift(4,"i"),K.l+=4,K.chk("00100000","Mini Stream Cutoff Size: "),q=K.read_shift(4,"i"),b=K.read_shift(4,"i"),z=K.read_shift(4,"i"),F=K.read_shift(4,"i");for(var ce=-1,pe=0;pe<109&&(ce=K.read_shift(4,"i"),!(ce<0));++pe)W[pe]=ce;var Be=p(S,T);v(z,F,Be,T,W);var Rt=C(Be,j,W,T);Rt[j].name="!Directory",b>0&&q!==ee&&(Rt[q].name="!MiniFAT"),Rt[W[0]].name="!FAT",Rt.fat_addrs=W,Rt.ssz=T;var Yn={},jt=[],gr=[],hu=[];y(j,Rt,Be,jt,b,Yn,gr,q),h(gr,hu,jt),jt.shift();var gu={FileIndex:gr,FullPaths:hu};return A&&A.raw&&(gu.raw={header:ue,sectors:Be}),gu}function d(S){if(S[S.l]==80&&S[S.l+1]==75)return[0,0];S.chk(de,"Header Signature: "),S.l+=16;var A=S.read_shift(2,"u");return[S.read_shift(2,"u"),A]}function f(S,A){var D=9;switch(S.l+=2,D=S.read_shift(2)){case 9:if(A!=3)throw new Error("Sector Shift: Expected 9 saw "+D);break;case 12:if(A!=4)throw new Error("Sector Shift: Expected 12 saw "+D);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+D)}S.chk("0600","Mini Sector Shift: "),S.chk("000000000000","Reserved: ")}function p(S,A){for(var D=Math.ceil(S.length/A)-1,T=[],b=1;b<D;++b)T[b-1]=S.slice(b*A,(b+1)*A);return T[D-1]=S.slice(D*A),T}function h(S,A,D){for(var T=0,b=0,F=0,j=0,q=0,z=D.length,W=[],K=[];T<z;++T)W[T]=K[T]=T,A[T]=D[T];for(;q<K.length;++q)T=K[q],b=S[T].L,F=S[T].R,j=S[T].C,W[T]===T&&(b!==-1&&W[b]!==b&&(W[T]=W[b]),F!==-1&&W[F]!==F&&(W[T]=W[F])),j!==-1&&(W[j]=T),b!==-1&&T!=W[T]&&(W[b]=W[T],K.lastIndexOf(b)<q&&K.push(b)),F!==-1&&T!=W[T]&&(W[F]=W[T],K.lastIndexOf(F)<q&&K.push(F));for(T=1;T<z;++T)W[T]===T&&(F!==-1&&W[F]!==F?W[T]=W[F]:b!==-1&&W[b]!==b&&(W[T]=W[b]));for(T=1;T<z;++T)if(S[T].type!==0){if(q=T,q!=W[q])do q=W[q],A[T]=A[q]+"/"+A[T];while(q!==0&&W[q]!==-1&&q!=W[q]);W[T]=-1}for(A[0]+="/",T=1;T<z;++T)S[T].type!==2&&(A[T]+="/")}function g(S,A,D){for(var T=S.start,b=S.size,F=[],j=T;D&&b>0&&j>=0;)F.push(A.slice(j*L,j*L+L)),b-=L,j=Ra(D,j*4);return F.length===0?Qt(0):Es(F).slice(0,S.size)}function v(S,A,D,T,b){var F=ee;if(S===ee){if(A!==0)throw new Error("DIFAT chain shorter than expected")}else if(S!==-1){var j=D[S],q=(T>>>2)-1;if(!j)return;for(var z=0;z<q&&(F=Ra(j,z*4))!==ee;++z)b.push(F);v(Ra(j,T-4),A-1,D,T,b)}}function m(S,A,D,T,b){var F=[],j=[];b||(b=[]);var q=T-1,z=0,W=0;for(z=A;z>=0;){b[z]=!0,F[F.length]=z,j.push(S[z]);var K=D[Math.floor(z*4/T)];if(W=z*4&q,T<4+W)throw new Error("FAT boundary crossed: "+z+" 4 "+T);if(!S[K])break;z=Ra(S[K],W)}return{nodes:F,data:ZO([j])}}function C(S,A,D,T){var b=S.length,F=[],j=[],q=[],z=[],W=T-1,K=0,ae=0,ue=0,xe=0;for(K=0;K<b;++K)if(q=[],ue=K+A,ue>=b&&(ue-=b),!j[ue]){z=[];var ce=[];for(ae=ue;ae>=0;){ce[ae]=!0,j[ae]=!0,q[q.length]=ae,z.push(S[ae]);var pe=D[Math.floor(ae*4/T)];if(xe=ae*4&W,T<4+xe)throw new Error("FAT boundary crossed: "+ae+" 4 "+T);if(!S[pe]||(ae=Ra(S[pe],xe),ce[ae]))break}F[ue]={nodes:q,data:ZO([z])}}return F}function y(S,A,D,T,b,F,j,q){for(var z=0,W=T.length?2:0,K=A[S].data,ae=0,ue=0,xe;ae<K.length;ae+=128){var ce=K.slice(ae,ae+128);wn(ce,64),ue=ce.read_shift(2),xe=pg(ce,0,ue-W),T.push(xe);var pe={name:xe,type:ce.read_shift(1),color:ce.read_shift(1),L:ce.read_shift(4,"i"),R:ce.read_shift(4,"i"),C:ce.read_shift(4,"i"),clsid:ce.read_shift(16),state:ce.read_shift(4,"i"),start:0,size:0},Be=ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2);Be!==0&&(pe.ct=x(ce,ce.l-8));var Rt=ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2);Rt!==0&&(pe.mt=x(ce,ce.l-8)),pe.start=ce.read_shift(4,"i"),pe.size=ce.read_shift(4,"i"),pe.size<0&&pe.start<0&&(pe.size=pe.type=0,pe.start=ee,pe.name=""),pe.type===5?(z=pe.start,b>0&&z!==ee&&(A[z].name="!StreamData")):pe.size>=4096?(pe.storage="fat",A[pe.start]===void 0&&(A[pe.start]=m(D,pe.start,A.fat_addrs,A.ssz)),A[pe.start].name=pe.name,pe.content=A[pe.start].data.slice(0,pe.size)):(pe.storage="minifat",pe.size<0?pe.size=0:z!==ee&&pe.start!==ee&&A[z]&&(pe.content=g(pe,A[z].data,(A[q]||{}).data))),pe.content&&wn(pe.content,0),F[xe]=pe,j.push(pe)}}function x(S,A){return new Date((hn(S,A+4)/1e7*Math.pow(2,32)+hn(S,A)/1e7-11644473600)*1e3)}function P(S,A){return u(),c(l.readFileSync(S),A)}function R(S,A){var D=A&&A.type;switch(D||ot&&Buffer.isBuffer(S)&&(D="buffer"),D||"base64"){case"file":return P(S,A);case"base64":return c(Ei(Pr(S)),A);case"binary":return c(Ei(S),A)}return c(S,A)}function E(S,A){var D=A||{},T=D.root||"Root Entry";if(S.FullPaths||(S.FullPaths=[]),S.FileIndex||(S.FileIndex=[]),S.FullPaths.length!==S.FileIndex.length)throw new Error("inconsistent CFB structure");S.FullPaths.length===0&&(S.FullPaths[0]=T+"/",S.FileIndex[0]={name:T,type:5}),D.CLSID&&(S.FileIndex[0].clsid=D.CLSID),O(S)}function O(S){var A="Sh33tJ5";if(!ct.find(S,"/"+A)){var D=Qt(4);D[0]=55,D[1]=D[3]=50,D[2]=54,S.FileIndex.push({name:A,type:2,content:D,size:4,L:69,R:69,C:69}),S.FullPaths.push(S.FullPaths[0]+A),I(S)}}function I(S,A){E(S);for(var D=!1,T=!1,b=S.FullPaths.length-1;b>=0;--b){var F=S.FileIndex[b];switch(F.type){case 0:T?D=!0:(S.FileIndex.pop(),S.FullPaths.pop());break;case 1:case 2:case 5:T=!0,isNaN(F.R*F.L*F.C)&&(D=!0),F.R>-1&&F.L>-1&&F.R==F.L&&(D=!0);break;default:D=!0;break}}if(!(!D&&!A)){var j=new Date(1987,1,19),q=0,z=Object.create?Object.create(null):{},W=[];for(b=0;b<S.FullPaths.length;++b)z[S.FullPaths[b]]=!0,S.FileIndex[b].type!==0&&W.push([S.FullPaths[b],S.FileIndex[b]]);for(b=0;b<W.length;++b){var K=n(W[b][0]);T=z[K],T||(W.push([K,{name:i(K).replace("/",""),type:1,clsid:Ce,ct:j,mt:j,content:null}]),z[K]=!0)}for(W.sort(function(xe,ce){return e(xe[0],ce[0])}),S.FullPaths=[],S.FileIndex=[],b=0;b<W.length;++b)S.FullPaths[b]=W[b][0],S.FileIndex[b]=W[b][1];for(b=0;b<W.length;++b){var ae=S.FileIndex[b],ue=S.FullPaths[b];if(ae.name=i(ue).replace("/",""),ae.L=ae.R=ae.C=-(ae.color=1),ae.size=ae.content?ae.content.length:0,ae.start=0,ae.clsid=ae.clsid||Ce,b===0)ae.C=W.length>1?1:-1,ae.size=0,ae.type=5;else if(ue.slice(-1)=="/"){for(q=b+1;q<W.length&&n(S.FullPaths[q])!=ue;++q);for(ae.C=q>=W.length?-1:q,q=b+1;q<W.length&&n(S.FullPaths[q])!=n(ue);++q);ae.R=q>=W.length?-1:q,ae.type=1}else n(S.FullPaths[b+1]||"")==n(ue)&&(ae.R=b+1),ae.type=2}}}function k(S,A){var D=A||{};if(D.fileType=="mad")return iI(S,D);switch(I(S),D.fileType){case"zip":return QF(S,D)}var T=function(xe){for(var ce=0,pe=0,Be=0;Be<xe.FileIndex.length;++Be){var Rt=xe.FileIndex[Be];if(Rt.content){var Yn=Rt.content.length;Yn>0&&(Yn<4096?ce+=Yn+63>>6:pe+=Yn+511>>9)}}for(var jt=xe.FullPaths.length+3>>2,gr=ce+7>>3,hu=ce+127>>7,gu=gr+pe+jt+hu,Ps=gu+127>>7,Lg=Ps<=109?0:Math.ceil((Ps-109)/127);gu+Ps+Lg+127>>7>Ps;)Lg=++Ps<=109?0:Math.ceil((Ps-109)/127);var co=[1,Lg,Ps,hu,jt,pe,ce,0];return xe.FileIndex[0].size=ce<<6,co[7]=(xe.FileIndex[0].start=co[0]+co[1]+co[2]+co[3]+co[4]+co[5])+(co[6]+7>>3),co}(S),b=Qt(T[7]<<9),F=0,j=0;{for(F=0;F<8;++F)b.write_shift(1,te[F]);for(F=0;F<8;++F)b.write_shift(2,0);for(b.write_shift(2,62),b.write_shift(2,3),b.write_shift(2,65534),b.write_shift(2,9),b.write_shift(2,6),F=0;F<3;++F)b.write_shift(2,0);for(b.write_shift(4,0),b.write_shift(4,T[2]),b.write_shift(4,T[0]+T[1]+T[2]+T[3]-1),b.write_shift(4,0),b.write_shift(4,4096),b.write_shift(4,T[3]?T[0]+T[1]+T[2]-1:ee),b.write_shift(4,T[3]),b.write_shift(-4,T[1]?T[0]-1:ee),b.write_shift(4,T[1]),F=0;F<109;++F)b.write_shift(-4,F<T[2]?T[1]+F:-1)}if(T[1])for(j=0;j<T[1];++j){for(;F<236+j*127;++F)b.write_shift(-4,F<T[2]?T[1]+F:-1);b.write_shift(-4,j===T[1]-1?ee:j+1)}var q=function(xe){for(j+=xe;F<j-1;++F)b.write_shift(-4,F+1);xe&&(++F,b.write_shift(-4,ee))};for(j=F=0,j+=T[1];F<j;++F)b.write_shift(-4,se.DIFSECT);for(j+=T[2];F<j;++F)b.write_shift(-4,se.FATSECT);q(T[3]),q(T[4]);for(var z=0,W=0,K=S.FileIndex[0];z<S.FileIndex.length;++z)K=S.FileIndex[z],K.content&&(W=K.content.length,!(W<4096)&&(K.start=j,q(W+511>>9)));for(q(T[6]+7>>3);b.l&511;)b.write_shift(-4,se.ENDOFCHAIN);for(j=F=0,z=0;z<S.FileIndex.length;++z)K=S.FileIndex[z],K.content&&(W=K.content.length,!(!W||W>=4096)&&(K.start=j,q(W+63>>6)));for(;b.l&511;)b.write_shift(-4,se.ENDOFCHAIN);for(F=0;F<T[4]<<2;++F){var ae=S.FullPaths[F];if(!ae||ae.length===0){for(z=0;z<17;++z)b.write_shift(4,0);for(z=0;z<3;++z)b.write_shift(4,-1);for(z=0;z<12;++z)b.write_shift(4,0);continue}K=S.FileIndex[F],F===0&&(K.start=K.size?K.start-1:ee);var ue=F===0&&D.root||K.name;if(W=2*(ue.length+1),b.write_shift(64,ue,"utf16le"),b.write_shift(2,W),b.write_shift(1,K.type),b.write_shift(1,K.color),b.write_shift(-4,K.L),b.write_shift(-4,K.R),b.write_shift(-4,K.C),K.clsid)b.write_shift(16,K.clsid,"hex");else for(z=0;z<4;++z)b.write_shift(4,0);b.write_shift(4,K.state||0),b.write_shift(4,0),b.write_shift(4,0),b.write_shift(4,0),b.write_shift(4,0),b.write_shift(4,K.start),b.write_shift(4,K.size),b.write_shift(4,0)}for(F=1;F<S.FileIndex.length;++F)if(K=S.FileIndex[F],K.size>=4096)if(b.l=K.start+1<<9,ot&&Buffer.isBuffer(K.content))K.content.copy(b,b.l,0,K.size),b.l+=K.size+511&-512;else{for(z=0;z<K.size;++z)b.write_shift(1,K.content[z]);for(;z&511;++z)b.write_shift(1,0)}for(F=1;F<S.FileIndex.length;++F)if(K=S.FileIndex[F],K.size>0&&K.size<4096)if(ot&&Buffer.isBuffer(K.content))K.content.copy(b,b.l,0,K.size),b.l+=K.size+63&-64;else{for(z=0;z<K.size;++z)b.write_shift(1,K.content[z]);for(;z&63;++z)b.write_shift(1,0)}if(ot)b.l=b.length;else for(;b.l<b.length;)b.write_shift(1,0);return b}function G(S,A){var D=S.FullPaths.map(function(z){return z.toUpperCase()}),T=D.map(function(z){var W=z.split("/");return W[W.length-(z.slice(-1)=="/"?2:1)]}),b=!1;A.charCodeAt(0)===47?(b=!0,A=D[0].slice(0,-1)+A):b=A.indexOf("/")!==-1;var F=A.toUpperCase(),j=b===!0?D.indexOf(F):T.indexOf(F);if(j!==-1)return S.FileIndex[j];var q=!F.match(dd);for(F=F.replace(Pn,""),q&&(F=F.replace(dd,"!")),j=0;j<D.length;++j)if((q?D[j].replace(dd,"!"):D[j]).replace(Pn,"")==F||(q?T[j].replace(dd,"!"):T[j]).replace(Pn,"")==F)return S.FileIndex[j];return null}var L=64,ee=-2,de="d0cf11e0a1b11ae1",te=[208,207,17,224,161,177,26,225],Ce="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ee,FREESECT:-1,HEADER_SIGNATURE:de,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ce,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Fe(S,A,D){u();var T=k(S,D);l.writeFileSync(A,T)}function le(S){for(var A=new Array(S.length),D=0;D<S.length;++D)A[D]=String.fromCharCode(S[D]);return A.join("")}function _e(S,A){var D=k(S,A);switch(A&&A.type||"buffer"){case"file":return u(),l.writeFileSync(A.filename,D),D;case"binary":return typeof D=="string"?D:le(D);case"base64":return PO(typeof D=="string"?D:le(D));case"buffer":if(ot)return Buffer.isBuffer(D)?D:Ma(D);case"array":return typeof D=="string"?Ei(D):D}return D}var Z;function M(S){try{var A=S.InflateRaw,D=new A;if(D._processChunk(new Uint8Array([3,0]),D._finishFlushFlag),D.bytesRead)Z=S;else throw new Error("zlib does not expose bytesRead")}catch(T){console.error("cannot use native zlib: "+(T.message||T))}}function U(S,A){if(!Z)return b_(S,A);var D=Z.InflateRaw,T=new D,b=T._processChunk(S.slice(S.l),T._finishFlushFlag);return S.l+=T.bytesRead,b}function H(S){return Z?Z.deflateRawSync(S):Qe(S)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(S){var A=(S<<1|S<<11)&139536|(S<<5|S<<15)&558144;return(A>>16|A>>8|A)&255}for(var we=typeof Uint8Array<"u",ie=we?new Uint8Array(256):[],st=0;st<256;++st)ie[st]=he(st);function N(S,A){var D=ie[S&255];return A<=8?D>>>8-A:(D=D<<8|ie[S>>8&255],A<=16?D>>>16-A:(D=D<<8|ie[S>>16&255],D>>>24-A))}function Mt(S,A){var D=A&7,T=A>>>3;return(S[T]|(D<=6?0:S[T+1]<<8))>>>D&3}function ft(S,A){var D=A&7,T=A>>>3;return(S[T]|(D<=5?0:S[T+1]<<8))>>>D&7}function _t(S,A){var D=A&7,T=A>>>3;return(S[T]|(D<=4?0:S[T+1]<<8))>>>D&15}function nt(S,A){var D=A&7,T=A>>>3;return(S[T]|(D<=3?0:S[T+1]<<8))>>>D&31}function me(S,A){var D=A&7,T=A>>>3;return(S[T]|(D<=1?0:S[T+1]<<8))>>>D&127}function Gt(S,A,D){var T=A&7,b=A>>>3,F=(1<<D)-1,j=S[b]>>>T;return D<8-T||(j|=S[b+1]<<8-T,D<16-T)||(j|=S[b+2]<<16-T,D<24-T)||(j|=S[b+3]<<24-T),j&F}function Nr(S,A,D){var T=A&7,b=A>>>3;return T<=5?S[b]|=(D&7)<<T:(S[b]|=D<<T&255,S[b+1]=(D&7)>>8-T),A+3}function Ri(S,A,D){var T=A&7,b=A>>>3;return D=(D&1)<<T,S[b]|=D,A+1}function lo(S,A,D){var T=A&7,b=A>>>3;return D<<=T,S[b]|=D&255,D>>>=8,S[b+1]=D,A+8}function fu(S,A,D){var T=A&7,b=A>>>3;return D<<=T,S[b]|=D&255,D>>>=8,S[b+1]=D&255,S[b+2]=D>>>8,A+16}function Mo(S,A){var D=S.length,T=2*D>A?2*D:A+5,b=0;if(D>=A)return S;if(ot){var F=MO(T);if(S.copy)S.copy(F);else for(;b<S.length;++b)F[b]=S[b];return F}else if(we){var j=new Uint8Array(T);if(j.set)j.set(S);else for(;b<D;++b)j[b]=S[b];return j}return S.length=T,S}function hr(S){for(var A=new Array(S),D=0;D<S;++D)A[D]=0;return A}function uo(S,A,D){var T=1,b=0,F=0,j=0,q=0,z=S.length,W=we?new Uint16Array(32):hr(32);for(F=0;F<32;++F)W[F]=0;for(F=z;F<D;++F)S[F]=0;z=S.length;var K=we?new Uint16Array(z):hr(z);for(F=0;F<z;++F)W[b=S[F]]++,T<b&&(T=b),K[F]=0;for(W[0]=0,F=1;F<=T;++F)W[F+16]=q=q+W[F-1]<<1;for(F=0;F<z;++F)q=S[F],q!=0&&(K[F]=W[q+16]++);var ae=0;for(F=0;F<z;++F)if(ae=S[F],ae!=0)for(q=N(K[F],T)>>T-ae,j=(1<<T+4-ae)-1;j>=0;--j)A[q|j<<ae]=ae&15|F<<4;return T}var No=we?new Uint16Array(512):hr(512),pu=we?new Uint16Array(32):hr(32);if(!we){for(var kn=0;kn<512;++kn)No[kn]=0;for(kn=0;kn<32;++kn)pu[kn]=0}(function(){for(var S=[],A=0;A<32;A++)S.push(5);uo(S,pu,32);var D=[];for(A=0;A<=143;A++)D.push(8);for(;A<=255;A++)D.push(9);for(;A<=279;A++)D.push(7);for(;A<=287;A++)D.push(8);uo(D,No,288)})();var Ai=function(){for(var A=we?new Uint8Array(32768):[],D=0,T=0;D<Se.length-1;++D)for(;T<Se[D+1];++T)A[T]=D;for(;T<32768;++T)A[T]=29;var b=we?new Uint8Array(259):[];for(D=0,T=0;D<J.length-1;++D)for(;T<J[D+1];++T)b[T]=D;function F(q,z){for(var W=0;W<q.length;){var K=Math.min(65535,q.length-W),ae=W+K==q.length;for(z.write_shift(1,+ae),z.write_shift(2,K),z.write_shift(2,~K&65535);K-- >0;)z[z.l++]=q[W++]}return z.l}function j(q,z){for(var W=0,K=0,ae=we?new Uint16Array(32768):[];K<q.length;){var ue=Math.min(65535,q.length-K);if(ue<10){for(W=Nr(z,W,+(K+ue==q.length)),W&7&&(W+=8-(W&7)),z.l=W/8|0,z.write_shift(2,ue),z.write_shift(2,~ue&65535);ue-- >0;)z[z.l++]=q[K++];W=z.l*8;continue}W=Nr(z,W,+(K+ue==q.length)+2);for(var xe=0;ue-- >0;){var ce=q[K];xe=(xe<<5^ce)&32767;var pe=-1,Be=0;if((pe=ae[xe])&&(pe|=K&-32768,pe>K&&(pe-=32768),pe<K))for(;q[pe+Be]==q[K+Be]&&Be<250;)++Be;if(Be>2){ce=b[Be],ce<=22?W=lo(z,W,ie[ce+1]>>1)-1:(lo(z,W,3),W+=5,lo(z,W,ie[ce-23]>>5),W+=3);var Rt=ce<8?0:ce-4>>2;Rt>0&&(fu(z,W,Be-J[ce]),W+=Rt),ce=A[K-pe],W=lo(z,W,ie[ce]>>3),W-=3;var Yn=ce<4?0:ce-2>>1;Yn>0&&(fu(z,W,K-pe-Se[ce]),W+=Yn);for(var jt=0;jt<Be;++jt)ae[xe]=K&32767,xe=(xe<<5^q[K])&32767,++K;ue-=Be-1}else ce<=143?ce=ce+48:W=Ri(z,W,1),W=lo(z,W,ie[ce]),ae[xe]=K&32767,++K}W=lo(z,W,0)-1}return z.l=(W+7)/8|0,z.l}return function(z,W){return z.length<8?F(z,W):j(z,W)}}();function Qe(S){var A=Qt(50+Math.floor(S.length*1.1)),D=Ai(S,A);return A.slice(0,D)}var Vt=we?new Uint16Array(32768):hr(32768),Lr=we?new Uint16Array(32768):hr(32768),Jt=we?new Uint16Array(128):hr(128),Is=1,O_=1;function YF(S,A){var D=nt(S,A)+257;A+=5;var T=nt(S,A)+1;A+=5;var b=_t(S,A)+4;A+=4;for(var F=0,j=we?new Uint8Array(19):hr(19),q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],z=1,W=we?new Uint8Array(8):hr(8),K=we?new Uint8Array(8):hr(8),ae=j.length,ue=0;ue<b;++ue)j[V[ue]]=F=ft(S,A),z<F&&(z=F),W[F]++,A+=3;var xe=0;for(W[0]=0,ue=1;ue<=z;++ue)K[ue]=xe=xe+W[ue-1]<<1;for(ue=0;ue<ae;++ue)(xe=j[ue])!=0&&(q[ue]=K[xe]++);var ce=0;for(ue=0;ue<ae;++ue)if(ce=j[ue],ce!=0){xe=ie[q[ue]]>>8-ce;for(var pe=(1<<7-ce)-1;pe>=0;--pe)Jt[xe|pe<<ce]=ce&7|ue<<3}var Be=[];for(z=1;Be.length<D+T;)switch(xe=Jt[me(S,A)],A+=xe&7,xe>>>=3){case 16:for(F=3+Mt(S,A),A+=2,xe=Be[Be.length-1];F-- >0;)Be.push(xe);break;case 17:for(F=3+ft(S,A),A+=3;F-- >0;)Be.push(0);break;case 18:for(F=11+me(S,A),A+=7;F-- >0;)Be.push(0);break;default:Be.push(xe),z<xe&&(z=xe);break}var Rt=Be.slice(0,D),Yn=Be.slice(D);for(ue=D;ue<286;++ue)Rt[ue]=0;for(ue=T;ue<30;++ue)Yn[ue]=0;return Is=uo(Rt,Vt,286),O_=uo(Yn,Lr,30),A}function qF(S,A){if(S[0]==3&&!(S[1]&3))return[Rs(A),2];for(var D=0,T=0,b=MO(A||1<<18),F=0,j=b.length>>>0,q=0,z=0;!(T&1);){if(T=ft(S,D),D+=3,T>>>1)T>>1==1?(q=9,z=5):(D=YF(S,D),q=Is,z=O_);else{D&7&&(D+=8-(D&7));var W=S[D>>>3]|S[(D>>>3)+1]<<8;if(D+=32,W>0)for(!A&&j<F+W&&(b=Mo(b,F+W),j=b.length);W-- >0;)b[F++]=S[D>>>3],D+=8;continue}for(;;){!A&&j<F+32767&&(b=Mo(b,F+32767),j=b.length);var K=Gt(S,D,q),ae=T>>>1==1?No[K]:Vt[K];if(D+=ae&15,ae>>>=4,!(ae>>>8&255))b[F++]=ae;else{if(ae==256)break;ae-=257;var ue=ae<8?0:ae-4>>2;ue>5&&(ue=0);var xe=F+J[ae];ue>0&&(xe+=Gt(S,D,ue),D+=ue),K=Gt(S,D,z),ae=T>>>1==1?pu[K]:Lr[K],D+=ae&15,ae>>>=4;var ce=ae<4?0:ae-2>>1,pe=Se[ae];for(ce>0&&(pe+=Gt(S,D,ce),D+=ce),!A&&j<xe&&(b=Mo(b,xe+100),j=b.length);F<xe;)b[F]=b[F-pe],++F}}}return A?[b,D+7>>>3]:[b.slice(0,F),D+7>>>3]}function b_(S,A){var D=S.slice(S.l||0),T=qF(D,A);return S.l+=T[1],T[0]}function F_(S,A){if(S)typeof console<"u"&&console.error(A);else throw new Error(A)}function I_(S,A){var D=S;wn(D,0);var T=[],b=[],F={FileIndex:T,FullPaths:b};E(F,{root:A.root});for(var j=D.length-4;(D[j]!=80||D[j+1]!=75||D[j+2]!=5||D[j+3]!=6)&&j>=0;)--j;D.l=j+4,D.l+=4;var q=D.read_shift(2);D.l+=6;var z=D.read_shift(4);for(D.l=z,j=0;j<q;++j){D.l+=20;var W=D.read_shift(4),K=D.read_shift(4),ae=D.read_shift(2),ue=D.read_shift(2),xe=D.read_shift(2);D.l+=8;var ce=D.read_shift(4),pe=a(D.slice(D.l+ae,D.l+ae+ue));D.l+=ae+ue+xe;var Be=D.l;D.l=ce+4,XF(D,W,K,F,pe),D.l=Be}return F}function XF(S,A,D,T,b){S.l+=2;var F=S.read_shift(2),j=S.read_shift(2),q=s(S);if(F&8257)throw new Error("Unsupported ZIP encryption");for(var z=S.read_shift(4),W=S.read_shift(4),K=S.read_shift(4),ae=S.read_shift(2),ue=S.read_shift(2),xe="",ce=0;ce<ae;++ce)xe+=String.fromCharCode(S[S.l++]);if(ue){var pe=a(S.slice(S.l,S.l+ue));(pe[21589]||{}).mt&&(q=pe[21589].mt),((b||{})[21589]||{}).mt&&(q=b[21589].mt)}S.l+=ue;var Be=S.slice(S.l,S.l+W);switch(j){case 8:Be=U(S,K);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+j)}var Rt=!1;F&8&&(z=S.read_shift(4),z==134695760&&(z=S.read_shift(4),Rt=!0),W=S.read_shift(4),K=S.read_shift(4)),W!=A&&F_(Rt,"Bad compressed size: "+A+" != "+W),K!=D&&F_(Rt,"Bad uncompressed size: "+D+" != "+K),Ng(T,xe,Be,{unsafe:!0,mt:q})}function QF(S,A){var D=A||{},T=[],b=[],F=Qt(1),j=D.compression?8:0,q=0,z=!1;z&&(q|=8);var W=0,K=0,ae=0,ue=0,xe=S.FullPaths[0],ce=xe,pe=S.FileIndex[0],Be=[],Rt=0;for(W=1;W<S.FullPaths.length;++W)if(ce=S.FullPaths[W].slice(xe.length),pe=S.FileIndex[W],!(!pe.size||!pe.content||ce=="Sh33tJ5")){var Yn=ae,jt=Qt(ce.length);for(K=0;K<ce.length;++K)jt.write_shift(1,ce.charCodeAt(K)&127);jt=jt.slice(0,jt.l),Be[ue]=qz.buf(pe.content,0);var gr=pe.content;j==8&&(gr=H(gr)),F=Qt(30),F.write_shift(4,67324752),F.write_shift(2,20),F.write_shift(2,q),F.write_shift(2,j),pe.mt?o(F,pe.mt):F.write_shift(4,0),F.write_shift(-4,q&8?0:Be[ue]),F.write_shift(4,q&8?0:gr.length),F.write_shift(4,q&8?0:pe.content.length),F.write_shift(2,jt.length),F.write_shift(2,0),ae+=F.length,T.push(F),ae+=jt.length,T.push(jt),ae+=gr.length,T.push(gr),q&8&&(F=Qt(12),F.write_shift(-4,Be[ue]),F.write_shift(4,gr.length),F.write_shift(4,pe.content.length),ae+=F.l,T.push(F)),F=Qt(46),F.write_shift(4,33639248),F.write_shift(2,0),F.write_shift(2,20),F.write_shift(2,q),F.write_shift(2,j),F.write_shift(4,0),F.write_shift(-4,Be[ue]),F.write_shift(4,gr.length),F.write_shift(4,pe.content.length),F.write_shift(2,jt.length),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(4,0),F.write_shift(4,Yn),Rt+=F.l,b.push(F),Rt+=jt.length,b.push(jt),++ue}return F=Qt(22),F.write_shift(4,101010256),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,ue),F.write_shift(2,ue),F.write_shift(4,Rt),F.write_shift(4,ae),F.write_shift(2,0),Es([Es(T),Es(b),F])}var Bd={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ZF(S,A){if(S.ctype)return S.ctype;var D=S.name||"",T=D.match(/\.([^\.]+)$/);return T&&Bd[T[1]]||A&&(T=(D=A).match(/[\.\\]([^\.\\])+$/),T&&Bd[T[1]])?Bd[T[1]]:"application/octet-stream"}function JF(S){for(var A=PO(S),D=[],T=0;T<A.length;T+=76)D.push(A.slice(T,T+76));return D.join(`\r
`)+`\r
`}function eI(S){var A=S.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(W){var K=W.charCodeAt(0).toString(16).toUpperCase();return"="+(K.length==1?"0"+K:K)});A=A.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),A.charAt(0)==`
`&&(A="=0D"+A.slice(1)),A=A.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var D=[],T=A.split(`\r
`),b=0;b<T.length;++b){var F=T[b];if(F.length==0){D.push("");continue}for(var j=0;j<F.length;){var q=76,z=F.slice(j,j+q);z.charAt(q-1)=="="?q--:z.charAt(q-2)=="="?q-=2:z.charAt(q-3)=="="&&(q-=3),z=F.slice(j,j+q),j+=q,j<F.length&&(z+="="),D.push(z)}}return D.join(`\r
`)}function tI(S){for(var A=[],D=0;D<S.length;++D){for(var T=S[D];D<=S.length&&T.charAt(T.length-1)=="=";)T=T.slice(0,T.length-1)+S[++D];A.push(T)}for(var b=0;b<A.length;++b)A[b]=A[b].replace(/[=][0-9A-Fa-f]{2}/g,function(F){return String.fromCharCode(parseInt(F.slice(1),16))});return Ei(A.join(`\r
`))}function nI(S,A,D){for(var T="",b="",F="",j,q=0;q<10;++q){var z=A[q];if(!z||z.match(/^\s*$/))break;var W=z.match(/^(.*?):\s*([^\s].*)$/);if(W)switch(W[1].toLowerCase()){case"content-location":T=W[2].trim();break;case"content-type":F=W[2].trim();break;case"content-transfer-encoding":b=W[2].trim();break}}switch(++q,b.toLowerCase()){case"base64":j=Ei(Pr(A.slice(q).join("")));break;case"quoted-printable":j=tI(A.slice(q));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+b)}var K=Ng(S,T.slice(D.length),j,{unsafe:!0});F&&(K.ctype=F)}function rI(S,A){if(le(S.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var D=A&&A.root||"",T=(ot&&Buffer.isBuffer(S)?S.toString("binary"):le(S)).split(`\r
`),b=0,F="";for(b=0;b<T.length;++b)if(F=T[b],!!/^Content-Location:/i.test(F)&&(F=F.slice(F.indexOf("file")),D||(D=F.slice(0,F.lastIndexOf("/")+1)),F.slice(0,D.length)!=D))for(;D.length>0&&(D=D.slice(0,D.length-1),D=D.slice(0,D.lastIndexOf("/")+1),F.slice(0,D.length)!=D););var j=(T[1]||"").match(/boundary="(.*?)"/);if(!j)throw new Error("MAD cannot find boundary");var q="--"+(j[1]||""),z=[],W=[],K={FileIndex:z,FullPaths:W};E(K);var ae,ue=0;for(b=0;b<T.length;++b){var xe=T[b];xe!==q&&xe!==q+"--"||(ue++&&nI(K,T.slice(ae,b),D),ae=b)}return K}function iI(S,A){var D=A||{},T=D.boundary||"SheetJS";T="------="+T;for(var b=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+T.slice(2)+'"',"","",""],F=S.FullPaths[0],j=F,q=S.FileIndex[0],z=1;z<S.FullPaths.length;++z)if(j=S.FullPaths[z].slice(F.length),q=S.FileIndex[z],!(!q.size||!q.content||j=="Sh33tJ5")){j=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Be){return"_x"+Be.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Be){return"_u"+Be.charCodeAt(0).toString(16)+"_"});for(var W=q.content,K=ot&&Buffer.isBuffer(W)?W.toString("binary"):le(W),ae=0,ue=Math.min(1024,K.length),xe=0,ce=0;ce<=ue;++ce)(xe=K.charCodeAt(ce))>=32&&xe<128&&++ae;var pe=ae>=ue*4/5;b.push(T),b.push("Content-Location: "+(D.root||"file:///C:/SheetJS/")+j),b.push("Content-Transfer-Encoding: "+(pe?"quoted-printable":"base64")),b.push("Content-Type: "+ZF(q,j)),b.push(""),b.push(pe?eI(K):JF(K))}return b.push(T+`--\r
`),b.join(`\r
`)}function oI(S){var A={};return E(A,S),A}function Ng(S,A,D,T){var b=T&&T.unsafe;b||E(S);var F=!b&&ct.find(S,A);if(!F){var j=S.FullPaths[0];A.slice(0,j.length)==j?j=A:(j.slice(-1)!="/"&&(j+="/"),j=(j+A).replace("//","/")),F={name:i(A),type:2},S.FileIndex.push(F),S.FullPaths.push(j),b||ct.utils.cfb_gc(S)}return F.content=D,F.size=D?D.length:0,T&&(T.CLSID&&(F.clsid=T.CLSID),T.mt&&(F.mt=T.mt),T.ct&&(F.ct=T.ct)),F}function sI(S,A){E(S);var D=ct.find(S,A);if(D){for(var T=0;T<S.FileIndex.length;++T)if(S.FileIndex[T]==D)return S.FileIndex.splice(T,1),S.FullPaths.splice(T,1),!0}return!1}function aI(S,A,D){E(S);var T=ct.find(S,A);if(T){for(var b=0;b<S.FileIndex.length;++b)if(S.FileIndex[b]==T)return S.FileIndex[b].name=i(D),S.FullPaths[b]=D,!0}return!1}function lI(S){I(S,!0)}return t.find=G,t.read=R,t.parse=c,t.write=_e,t.writeFile=Fe,t.utils={cfb_new:oI,cfb_add:Ng,cfb_del:sI,cfb_mov:aI,cfb_gc:lI,ReadShift:hd,CheckField:p1,prep_blob:wn,bconcat:Es,use_zlib:M,_deflateRaw:Qe,_inflateRaw:b_,consts:se},t}(),jO;function Xz(r){if(typeof jO<"u")return jO.readFileSync(r);if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(r);t.open("r"),t.encoding="binary";var e=t.read();return t.close(),e}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function oo(r){for(var t=Object.keys(r),e=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(r,t[n])&&e.push(t[n]);return e}function $w(r){for(var t=[],e=oo(r),n=0;n!==e.length;++n)t[r[e[n]]]=e[n];return t}var ig=new Date(1899,11,30,0,0,0);function Kn(r,t){var e=r.getTime();t&&(e-=1462*24*60*60*1e3);var n=ig.getTime()+(r.getTimezoneOffset()-ig.getTimezoneOffset())*6e4;return(e-n)/(24*60*60*1e3)}var Xb=new Date,Qz=ig.getTime()+(Xb.getTimezoneOffset()-ig.getTimezoneOffset())*6e4,UO=Xb.getTimezoneOffset();function fg(r){var t=new Date;return t.setTime(r*24*60*60*1e3+Qz),t.getTimezoneOffset()!==UO&&t.setTime(t.getTime()+(t.getTimezoneOffset()-UO)*6e4),t}function Zz(r){var t=0,e=0,n=!1,i=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var o=1;o!=i.length;++o)if(i[o]){switch(e=1,o>3&&(n=!0),i[o].slice(i[o].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[o].slice(i[o].length-1));case"D":e*=24;case"H":e*=60;case"M":if(n)e*=60;else throw new Error("Unsupported ISO Duration Field: M");case"S":break}t+=e*parseInt(i[o],10)}return t}var WO=new Date("2017-02-19T19:06:09.000Z"),Qb=isNaN(WO.getFullYear())?new Date("2/19/17"):WO,Jz=Qb.getFullYear()==2017;function gn(r,t){var e=new Date(r);if(Jz)return t>0?e.setTime(e.getTime()+e.getTimezoneOffset()*60*1e3):t<0&&e.setTime(e.getTime()-e.getTimezoneOffset()*60*1e3),e;if(r instanceof Date)return r;if(Qb.getFullYear()==1917&&!isNaN(e.getFullYear())){var n=e.getFullYear();return r.indexOf(""+n)>-1||e.setFullYear(e.getFullYear()+100),e}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Ia(r,t){if(ot&&Buffer.isBuffer(r)){if(t){if(r[0]==255&&r[1]==254)return pd(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return pd(kb(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(r[0]==255&&r[1]==254)return pd(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return pd(new TextDecoder("utf-16be").decode(r.slice(2)))}var e={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(o){return e[o]||o})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function _n(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=_n(r[e]));return t}function Lt(r,t){for(var e="";e.length<t;)e+=r;return e}function Ti(r){var t=Number(r);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(r))return t;var e=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,o){return e=-e,o}),!isNaN(t=Number(n)))?t/e:t}var e$=["january","february","march","april","may","june","july","august","september","october","november","december"];function Zl(r){var t=new Date(r),e=new Date(NaN),n=t.getYear(),i=t.getMonth(),o=t.getDate();if(isNaN(o))return e;var s=r.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&e$.indexOf(s)==-1)return e}else if(s.match(/[a-z]/))return e;return n<0||n>8099?e:(i>0||o>1)&&n!=101?t:r.match(/[^-0-9:,\/\\]/)?e:t}var t$=function(){var r="abacaba".split(/(:?b)/i).length==5;return function(e,n,i){if(r||typeof n=="string")return e.split(n);for(var o=e.split(n),s=[o[0]],a=1;a<o.length;++a)s.push(i),s.push(o[a]);return s}}();function Zb(r){return r?r.content&&r.type?Ia(r.content,!0):r.data?cd(r.data):r.asNodeBuffer&&ot?cd(r.asNodeBuffer().toString("binary")):r.asBinary?cd(r.asBinary()):r._data&&r._data.getContent?cd(Ia(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function Jb(r){if(!r)return null;if(r.data)return bw(r.data);if(r.asNodeBuffer&&ot)return r.asNodeBuffer();if(r._data&&r._data.getContent){var t=r._data.getContent();return typeof t=="string"?bw(t):Array.prototype.slice.call(t)}return r.content&&r.type?r.content:null}function n$(r){return r&&r.name.slice(-4)===".bin"?Jb(r):Zb(r)}function Jr(r,t){for(var e=r.FullPaths||oo(r.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),o=0;o<e.length;++o){var s=e[o].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return r.files?r.files[e[o]]:r.FileIndex[o]}return null}function Kw(r,t){var e=Jr(r,t);if(e==null)throw new Error("Cannot find file "+t+" in zip");return e}function qt(r,t,e){if(!e)return n$(Kw(r,t));if(!t)return null;try{return qt(r,t)}catch{return null}}function Ir(r,t,e){if(!e)return Zb(Kw(r,t));if(!t)return null;try{return Ir(r,t)}catch{return null}}function e1(r,t,e){if(!e)return Jb(Kw(r,t));if(!t)return null;try{return e1(r,t)}catch{return null}}function zO(r){for(var t=r.FullPaths||oo(r.files),e=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&e.push(t[n].replace(/^Root Entry[\/]/,""));return e.sort()}function r$(r,t,e){if(r.FullPaths){if(typeof e=="string"){var n;return ot?n=Ma(e):n=Ez(e),ct.utils.cfb_add(r,t,n)}ct.utils.cfb_add(r,t,e)}else r.file(t,e)}function t1(r,t){switch(t.type){case"base64":return ct.read(r,{type:"base64"});case"binary":return ct.read(r,{type:"binary"});case"buffer":case"array":return ct.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function fd(r,t){if(r.charAt(0)=="/")return r.slice(1);var e=t.split("/");t.slice(-1)!="/"&&e.pop();for(var n=r.split("/");n.length!==0;){var i=n.shift();i===".."?e.pop():i!=="."&&e.push(i)}return e.join("/")}var n1=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,i$=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,$O=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,o$=/<[^>]*>/g,Ln=n1.match($O)?$O:o$,s$=/<\w*:/,a$=/<(\/?)\w+:/;function Me(r,t,e){for(var n={},i=0,o=0;i!==r.length&&!((o=r.charCodeAt(i))===32||o===10||o===13);++i);if(t||(n[0]=r.slice(0,i)),i===r.length)return n;var s=r.match(i$),a=0,l="",u=0,c="",d="",f=1;if(s)for(u=0;u!=s.length;++u){for(d=s[u],o=0;o!=d.length&&d.charCodeAt(o)!==61;++o);for(c=d.slice(0,o).trim();d.charCodeAt(o+1)==32;)++o;for(f=(i=d.charCodeAt(o+1))==34||i==39?1:0,l=d.slice(o+1+f,d.length-f),a=0;a!=c.length&&c.charCodeAt(a)!==58;++a);if(a===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),n[c]=l,e||(n[c.toLowerCase()]=l);else{var p=(a===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(a+1);if(n[p]&&c.slice(a-3,a)=="ext")continue;n[p]=l,e||(n[p.toLowerCase()]=l)}}return n}function so(r){return r.replace(a$,"<$1")}var r1={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},l$=$w(r1),pt=function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function e(n){var i=n+"",o=i.indexOf("<![CDATA[");if(o==-1)return i.replace(r,function(a,l){return r1[a]||String.fromCharCode(parseInt(l,a.indexOf("x")>-1?16:10))||a}).replace(t,function(a,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return e(i.slice(0,o))+i.slice(o+9,s)+e(i.slice(s+3))}}(),u$=/[&<>'"]/g;var c$=/[\u0000-\u001f]/g;function Yw(r){var t=r+"";return t.replace(u$,function(e){return l$[e]}).replace(/\n/g,"<br/>").replace(c$,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var KO=function(){var r=/&#(\d+);/g;function t(e,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,t)}}();function Pt(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _w(r){for(var t="",e=0,n=0,i=0,o=0,s=0,a=0;e<r.length;){if(n=r.charCodeAt(e++),n<128){t+=String.fromCharCode(n);continue}if(i=r.charCodeAt(e++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(o=r.charCodeAt(e++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|o&63);continue}s=r.charCodeAt(e++),a=((n&7)<<18|(i&63)<<12|(o&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function YO(r){var t=Rs(2*r.length),e,n,i=1,o=0,s=0,a;for(n=0;n<r.length;n+=i)i=1,(a=r.charCodeAt(n))<128?e=a:a<224?(e=(a&31)*64+(r.charCodeAt(n+1)&63),i=2):a<240?(e=(a&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,e=(a&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),e-=65536,s=55296+(e>>>10&1023),e=56320+(e&1023)),s!==0&&(t[o++]=s&255,t[o++]=s>>>8,s=0),t[o++]=e%256,t[o++]=e>>>8;return t.slice(0,o).toString("ucs2")}function qO(r){return Ma(r,"binary").toString("utf8")}var Kh="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",Tt=ot&&(qO(Kh)==_w(Kh)&&qO||YO(Kh)==_w(Kh)&&YO)||_w,pd=ot?function(r){return Ma(r,"utf8").toString("binary")}:function(r){for(var t=[],e=0,n=0,i=0;e<r.length;)switch(n=r.charCodeAt(e++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(e++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},xd=function(){var r={};return function(e,n){var i=e+"|"+(n||"");return r[i]?r[i]:r[i]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",n||"")}}(),i1=function(){var r=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var n=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}}(),d$=function(){var r={};return function(e){return r[e]!==void 0?r[e]:r[e]=new RegExp("<(?:vt:)?"+e+">([\\s\\S]*?)</(?:vt:)?"+e+">","g")}}(),f$=/<\/?(?:vt:)?variant>/g,p$=/<(?:vt:)([^>]*)>([\s\S]*)</;function XO(r,t){var e=Me(r),n=r.match(d$(e.baseType))||[],i=[];if(n.length!=e.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+e.size);return i}return n.forEach(function(o){var s=o.replace(f$,"").match(p$);s&&i.push({v:Tt(s[2]),t:s[1]})}),i}var h$=/(^\s|\s$|\n)/;function g$(r){return oo(r).map(function(t){return" "+t+'="'+r[t]+'"'}).join("")}function v$(r,t,e){return"<"+r+(e!=null?g$(e):"")+(t!=null?(t.match(h$)?' xml:space="preserve"':"")+">"+t+"</"+r:"/")+">"}function qw(r){if(ot&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return Tt(Na(Uw(r)));throw new Error("Bad input format: expected Buffer or string")}var Dd=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,m$={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},y$=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function C$(r,t){for(var e=1-2*(r[t+7]>>>7),n=((r[t+7]&127)<<4)+(r[t+6]>>>4&15),i=r[t+6]&15,o=5;o>=0;--o)i=i*256+r[t+o];return n==2047?i==0?e*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),e*Math.pow(2,n-52)*i)}function w$(r,t,e){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,o=0,s=n?-t:t;isFinite(s)?s==0?i=o=0:(i=Math.floor(Math.log(s)/Math.LN2),o=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(t)?26985:0);for(var a=0;a<=5;++a,o/=256)r[e+a]=o&255;r[e+6]=(i&15)<<4|o&15,r[e+7]=i>>4|n}var QO=function(r){for(var t=[],e=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,o=r[0][n].length;i<o;i+=e)t.push.apply(t,r[0][n].slice(i,i+e));return t},ZO=ot?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(t){return Buffer.isBuffer(t)?t:Ma(t)})):QO(r)}:QO,JO=function(r,t,e){for(var n=[],i=t;i<e;i+=2)n.push(String.fromCharCode(Oo(r,i)));return n.join("").replace(Pn,"")},pg=ot?function(r,t,e){return Buffer.isBuffer(r)?r.toString("utf16le",t,e).replace(Pn,""):JO(r,t,e)}:JO,eb=function(r,t,e){for(var n=[],i=t;i<t+e;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},o1=ot?function(r,t,e){return Buffer.isBuffer(r)?r.toString("hex",t,t+e):eb(r,t,e)}:eb,tb=function(r,t,e){for(var n=[],i=t;i<e;i++)n.push(String.fromCharCode(Kl(r,i)));return n.join("")},tu=ot?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf8",e,n):tb(t,e,n)}:tb,s1=function(r,t){var e=hn(r,t);return e>0?tu(r,t+4,t+4+e-1):""},Xw=s1,a1=function(r,t){var e=hn(r,t);return e>0?tu(r,t+4,t+4+e-1):""},Qw=a1,l1=function(r,t){var e=2*hn(r,t);return e>0?tu(r,t+4,t+4+e-1):""},Zw=l1,u1=function(t,e){var n=hn(t,e);return n>0?pg(t,e+4,e+4+n):""},Jw=u1,c1=function(r,t){var e=hn(r,t);return e>0?tu(r,t+4,t+4+e):""},e_=c1,d1=function(r,t){return C$(r,t)},og=d1,f1=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ot&&(Xw=function(t,e){if(!Buffer.isBuffer(t))return s1(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},Qw=function(t,e){if(!Buffer.isBuffer(t))return a1(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},Zw=function(t,e){if(!Buffer.isBuffer(t))return l1(t,e);var n=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n-1)},Jw=function(t,e){if(!Buffer.isBuffer(t))return u1(t,e);var n=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n)},e_=function(t,e){if(!Buffer.isBuffer(t))return c1(t,e);var n=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+n)},og=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):d1(t,e)},f1=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function _$(){pg=function(r,t,e){return vt.utils.decode(1200,r.slice(t,e)).replace(Pn,"")},tu=function(r,t,e){return vt.utils.decode(65001,r.slice(t,e))},Xw=function(r,t){var e=hn(r,t);return e>0?vt.utils.decode(Ql,r.slice(t+4,t+4+e-1)):""},Qw=function(r,t){var e=hn(r,t);return e>0?vt.utils.decode(io,r.slice(t+4,t+4+e-1)):""},Zw=function(r,t){var e=2*hn(r,t);return e>0?vt.utils.decode(1200,r.slice(t+4,t+4+e-1)):""},Jw=function(r,t){var e=hn(r,t);return e>0?vt.utils.decode(1200,r.slice(t+4,t+4+e)):""},e_=function(r,t){var e=hn(r,t);return e>0?vt.utils.decode(65001,r.slice(t+4,t+4+e)):""}}typeof vt<"u"&&_$();var Kl=function(r,t){return r[t]},Oo=function(r,t){return r[t+1]*256+r[t]},S$=function(r,t){var e=r[t+1]*256+r[t];return e<32768?e:(65535-e+1)*-1},hn=function(r,t){return r[t+3]*(1<<24)+(r[t+2]<<16)+(r[t+1]<<8)+r[t]},Ra=function(r,t){return r[t+3]<<24|r[t+2]<<16|r[t+1]<<8|r[t]},E$=function(r,t){return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]};function hd(r,t){var e="",n,i,o=[],s,a,l,u;switch(t){case"dbcs":if(u=this.l,ot&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)e+=String.fromCharCode(Oo(this,u)),u+=2;r*=2;break;case"utf8":e=tu(this,this.l,this.l+r);break;case"utf16le":r*=2,e=pg(this,this.l,this.l+r);break;case"wstr":if(typeof vt<"u")e=vt.utils.decode(io,this.slice(this.l,this.l+2*r));else return hd.call(this,r,"dbcs");r=2*r;break;case"lpstr-ansi":e=Xw(this,this.l),r=4+hn(this,this.l);break;case"lpstr-cp":e=Qw(this,this.l),r=4+hn(this,this.l);break;case"lpwstr":e=Zw(this,this.l),r=4+2*hn(this,this.l);break;case"lpp4":r=4+hn(this,this.l),e=Jw(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+hn(this,this.l),e=e_(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,e="";(s=Kl(this,this.l+r++))!==0;)o.push($h(s));e=o.join("");break;case"_wstr":for(r=0,e="";(s=Oo(this,this.l+r))!==0;)o.push($h(s)),r+=2;r+=2,e=o.join("");break;case"dbcs-cont":for(e="",u=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Kl(this,u),this.l=u+1,a=hd.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),o.join("")+a;o.push($h(Oo(this,u))),u+=2}e=o.join(""),r*=2;break;case"cpstr":if(typeof vt<"u"){e=vt.utils.decode(io,this.slice(this.l,this.l+r));break}case"sbcs-cont":for(e="",u=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Kl(this,u),this.l=u+1,a=hd.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),o.join("")+a;o.push($h(Kl(this,u))),u+=1}e=o.join("");break;default:switch(r){case 1:return n=Kl(this,this.l),this.l++,n;case 2:return n=(t==="i"?S$:Oo)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(r>0?Ra:E$)(this,this.l),this.l+=4,n):(i=hn(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return r==8?i=og(this,this.l):i=og([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:e=o1(this,this.l,r);break}}return this.l+=r,e}var x$=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24&255},D$=function(r,t,e){r[e]=t&255,r[e+1]=t>>8&255,r[e+2]=t>>16&255,r[e+3]=t>>24&255},T$=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255};function R$(r,t,e){var n=0,i=0;if(e==="dbcs"){for(i=0;i!=t.length;++i)T$(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(e==="sbcs"){if(typeof vt<"u"&&Ql==874)for(i=0;i!=t.length;++i){var o=vt.utils.encode(Ql,t.charAt(i));this[this.l+i]=o[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(e==="hex"){for(;i<r;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(e==="utf16le"){var s=Math.min(this.l+r,this.length);for(i=0;i<Math.min(t.length,r);++i){var a=t.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,x$(this,t,this.l);break;case 8:if(n=8,e==="f"){w$(this,t,this.l);break}case 16:break;case-4:n=4,D$(this,t,this.l);break}return this.l+=n,this}function p1(r,t){var e=o1(this,this.l,r.length>>1);if(e!==r)throw new Error(t+"Expected "+r+" saw "+e);this.l+=r.length>>1}function wn(r,t){r.l=t,r.read_shift=hd,r.chk=p1,r.write_shift=R$}function Nn(r,t){r.l+=t}function Qt(r){var t=Rs(r);return wn(t,0),t}function Po(r,t,e){if(r){var n,i,o;wn(r,r.l||0);for(var s=r.length,a=0,l=0;r.l<s;){a=r.read_shift(1),a&128&&(a=(a&127)+((r.read_shift(1)&127)<<7));var u=dg[a]||dg[65535];for(n=r.read_shift(1),o=n&127,i=1;i<4&&n&128;++i)o+=((n=r.read_shift(1))&127)<<7*i;l=r.l+o;var c=u.f&&u.f(r,o,e);if(r.l=l,t(c,u,a))return}}}function Fw(){var r=[],t=ot?256:2048,e=function(u){var c=Qt(u);return wn(c,0),c},n=e(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},o=function(u){return n&&u<n.length-n.l?n:(i(),n=e(Math.max(u+1,t)))},s=function(){return i(),Es(r)},a=function(u){i(),n=u,n.l==null&&(n.l=n.length),o(t)};return{next:o,push:a,end:s,_bufs:r}}function gd(r,t,e){var n=_n(r);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!e||e.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function nb(r,t,e){var n=_n(r);return n.s=gd(n.s,t.s,e),n.e=gd(n.e,t.s,e),n}function vd(r,t){if(r.cRel&&r.c<0)for(r=_n(r);r.c<0;)r.c+=t>8?16384:256;if(r.rRel&&r.r<0)for(r=_n(r);r.r<0;)r.r+=t>8?1048576:t>5?65536:16384;var e=Ue(r);return!r.cRel&&r.cRel!=null&&(e=b$(e)),!r.rRel&&r.rRel!=null&&(e=A$(e)),e}function Sw(r,t){return r.s.r==0&&!r.s.rRel&&r.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+on(r.s.c)+":"+(r.e.cRel?"":"$")+on(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(t.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+Sn(r.s.r)+":"+(r.e.rRel?"":"$")+Sn(r.e.r):vd(r.s,t.biff)+":"+vd(r.e,t.biff)}function t_(r){return parseInt(O$(r),10)-1}function Sn(r){return""+(r+1)}function A$(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function O$(r){return r.replace(/\$(\d+)$/,"$1")}function n_(r){for(var t=F$(r),e=0,n=0;n!==t.length;++n)e=26*e+t.charCodeAt(n)-64;return e-1}function on(r){if(r<0)throw new Error("invalid column "+r);var t="";for(++r;r;r=Math.floor((r-1)/26))t=String.fromCharCode((r-1)%26+65)+t;return t}function b$(r){return r.replace(/^([A-Z])/,"$$$1")}function F$(r){return r.replace(/^\$([A-Z])/,"$1")}function I$(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function $n(r){for(var t=0,e=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(e=26*e+(i-64))}return{c:e-1,r:t-1}}function Ue(r){for(var t=r.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(r.r+1)}function nu(r){var t=r.indexOf(":");return t==-1?{s:$n(r),e:$n(r)}:{s:$n(r.slice(0,t)),e:$n(r.slice(t+1))}}function dt(r,t){return typeof t>"u"||typeof t=="number"?dt(r.s,r.e):(typeof r!="string"&&(r=Ue(r)),typeof t!="string"&&(t=Ue(t)),r==t?r:r+":"+t)}function kt(r){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,n=0,i=0,o=r.length;for(e=0;n<o&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)e=26*e+i;for(t.s.c=--e,e=0;n<o&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)e=10*e+i;if(t.s.r=--e,n===o||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,e=0;n!=o&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)e=26*e+i;for(t.e.c=--e,e=0;n!=o&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)e=10*e+i;return t.e.r=--e,t}function rb(r,t){var e=r.t=="d"&&t instanceof Date;if(r.z!=null)try{return r.w=ei(r.z,e?Kn(t):t)}catch{}try{return r.w=ei((r.XF||{}).numFmtId||(e?14:0),e?Kn(t):t)}catch{return""+t}}function Io(r,t,e){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&e&&e.dateNF&&(r.z=e.dateNF),r.t=="e"?Ga[r.v]||r.v:t==null?rb(r,r.v):rb(r,t))}function Os(r,t){var e=t&&t.sheet?t.sheet:"Sheet1",n={};return n[e]=r,{SheetNames:[e],Sheets:n}}function h1(r,t,e){var n=e||{},i=r?Array.isArray(r):n.dense;Zt!=null&&i==null&&(i=Zt);var o=r||(i?[]:{}),s=0,a=0;if(o&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?$n(n.origin):n.origin;s=l.r,a=l.c}o["!ref"]||(o["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var c=kt(o["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),s==-1&&(u.e.r=s=c.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[d].length;++f)if(!(typeof t[d][f]>"u")){var p={v:t[d][f]},h=s+d,g=a+f;if(u.s.r>h&&(u.s.r=h),u.s.c>g&&(u.s.c=g),u.e.r<h&&(u.e.r=h),u.e.c<g&&(u.e.c=g),t[d][f]&&typeof t[d][f]=="object"&&!Array.isArray(t[d][f])&&!(t[d][f]instanceof Date))p=t[d][f];else if(Array.isArray(p.v)&&(p.f=t[d][f][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||$e[14],n.cellDates?(p.t="d",p.w=ei(p.z,Kn(p.v))):(p.t="n",p.v=Kn(p.v),p.w=ei(p.z,p.v))):p.t="s";if(i)o[h]||(o[h]=[]),o[h][g]&&o[h][g].z&&(p.z=o[h][g].z),o[h][g]=p;else{var v=Ue({c:g,r:h});o[v]&&o[v].z&&(p.z=o[v].z),o[v]=p}}}return u.s.c<1e7&&(o["!ref"]=dt(u)),o}function ru(r,t){return h1(null,r,t)}function P$(r){return r.read_shift(4,"i")}function Mn(r){var t=r.read_shift(4);return t===0?"":r.read_shift(t,"dbcs")}function M$(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function r_(r,t){var e=r.l,n=r.read_shift(1),i=Mn(r),o=[],s={t:i,h:i};if(n&1){for(var a=r.read_shift(4),l=0;l!=a;++l)o.push(M$(r));s.r=o}else s.r=[{ich:0,ifnt:0}];return r.l=e+t,s}var N$=r_;function ti(r){var t=r.read_shift(4),e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:t,iStyleRef:e}}function La(r){var t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:t}}var L$=Mn;function i_(r){var t=r.read_shift(4);return t===0||t===4294967295?"":r.read_shift(t,"dbcs")}var k$=Mn,Iw=i_;function o_(r){var t=r.slice(r.l,r.l+4),e=t[0]&1,n=t[0]&2;r.l+=4;var i=n===0?og([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ra(t,0)>>2;return e?i/100:i}function g1(r){var t={s:{},e:{}};return t.s.r=r.read_shift(4),t.e.r=r.read_shift(4),t.s.c=r.read_shift(4),t.e.c=r.read_shift(4),t}var ka=g1;function Fn(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function G$(r){var t={},e=r.read_shift(1),n=e>>>1,i=r.read_shift(1),o=r.read_shift(2,"i"),s=r.read_shift(1),a=r.read_shift(1),l=r.read_shift(1);switch(r.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=ba[i];u&&(t.rgb=Rd(u));break;case 2:t.rgb=Rd([s,a,l]);break;case 3:t.theme=i;break}return o!=0&&(t.tint=o>0?o/32767:o/32768),t}function V$(r){var t=r.read_shift(1);r.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function v1(r,t){var e={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return e[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,t==1?"lpstr":"lpwstr")}function H$(r){return v1(r,1)}function B$(r){return v1(r,2)}var s_=2,pr=3,Yh=11,ib=12,sg=19;var qh=64,j$=65,U$=71;var W$=4108,z$=4126,pn=80,m1=81,$$=[pn,m1],K$={1:{n:"CodePage",t:s_},2:{n:"Category",t:pn},3:{n:"PresentationFormat",t:pn},4:{n:"ByteCount",t:pr},5:{n:"LineCount",t:pr},6:{n:"ParagraphCount",t:pr},7:{n:"SlideCount",t:pr},8:{n:"NoteCount",t:pr},9:{n:"HiddenCount",t:pr},10:{n:"MultimediaClipCount",t:pr},11:{n:"ScaleCrop",t:Yh},12:{n:"HeadingPairs",t:W$},13:{n:"TitlesOfParts",t:z$},14:{n:"Manager",t:pn},15:{n:"Company",t:pn},16:{n:"LinksUpToDate",t:Yh},17:{n:"CharacterCount",t:pr},19:{n:"SharedDoc",t:Yh},22:{n:"HyperlinksChanged",t:Yh},23:{n:"AppVersion",t:pr,p:"version"},24:{n:"DigSig",t:j$},26:{n:"ContentType",t:pn},27:{n:"ContentStatus",t:pn},28:{n:"Language",t:pn},29:{n:"Version",t:pn},255:{},2147483648:{n:"Locale",t:sg},2147483651:{n:"Behavior",t:sg},1919054434:{}},Y$={1:{n:"CodePage",t:s_},2:{n:"Title",t:pn},3:{n:"Subject",t:pn},4:{n:"Author",t:pn},5:{n:"Keywords",t:pn},6:{n:"Comments",t:pn},7:{n:"Template",t:pn},8:{n:"LastAuthor",t:pn},9:{n:"RevNumber",t:pn},10:{n:"EditTime",t:qh},11:{n:"LastPrinted",t:qh},12:{n:"CreatedDate",t:qh},13:{n:"ModifiedDate",t:qh},14:{n:"PageCount",t:pr},15:{n:"WordCount",t:pr},16:{n:"CharCount",t:pr},17:{n:"Thumbnail",t:U$},18:{n:"Application",t:pn},19:{n:"DocSecurity",t:pr},255:{},2147483648:{n:"Locale",t:sg},2147483651:{n:"Behavior",t:sg},1919054434:{}},ob={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},q$=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function X$(r){return r.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Q$=X$([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ba=_n(Q$),Ga={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},y1={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},sb={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Z$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function J$(r){var t=Z$();if(!r||!r.match)return t;var e={};if((r.match(Ln)||[]).forEach(function(n){var i=Me(n);switch(i[0].replace(s$,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":e[i.Extension]=i.ContentType;break;case"<Override":t[sb[i.ContentType]]!==void 0&&t[sb[i.ContentType]].push(i.PartName);break}}),t.xmlns!==m$.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=e,delete t.calcchains,t}var Ao={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Pw(r){var t=r.lastIndexOf("/");return r.slice(0,t+1)+"_rels/"+r.slice(t+1)+".rels"}function md(r,t){var e={"!id":{}};if(!r)return e;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(r.match(Ln)||[]).forEach(function(i){var o=Me(i);if(o[0]==="<Relationship"){var s={};s.Type=o.Type,s.Target=o.Target,s.Id=o.Id,o.TargetMode&&(s.TargetMode=o.TargetMode);var a=o.TargetMode==="External"?o.Target:fd(o.Target,t);e[a]=s,n[o.Id]=s}}),e["!id"]=n,e}var e9="application/vnd.oasis.opendocument.spreadsheet";function t9(r,t){for(var e=qw(r),n,i;n=Dd.exec(e);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Me(n[0],!1),i.path=="/"&&i.type!==e9)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var yd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],n9=function(){for(var r=new Array(yd.length),t=0;t<yd.length;++t){var e=yd[t],n="(?:"+e[0].slice(0,e[0].indexOf(":"))+":)"+e[0].slice(e[0].indexOf(":")+1);r[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r}();function C1(r){var t={};r=Tt(r);for(var e=0;e<yd.length;++e){var n=yd[e],i=r.match(n9[e]);i!=null&&i.length>0&&(t[n[1]]=pt(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=gn(t[n[1]]))}return t}var r9=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function w1(r,t,e,n){var i=[];if(typeof r=="string")i=XO(r,n);else for(var o=0;o<r.length;++o)i=i.concat(r[o].map(function(c){return{v:c}}));var s=typeof t=="string"?XO(t,n).map(function(c){return c.v}):t,a=0,l=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":e.Worksheets=l,e.SheetNames=s.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":e.NamedRanges=l,e.DefinedNames=s.slice(a,a+l);break;case"Charts":case"Diagramme":e.Chartsheets=l,e.ChartNames=s.slice(a,a+l);break}a+=l}}function i9(r,t,e){var n={};return t||(t={}),r=Tt(r),r9.forEach(function(i){var o=(r.match(xd(i[0]))||[])[1];switch(i[2]){case"string":o&&(t[i[1]]=pt(o));break;case"bool":t[i[1]]=o==="true";break;case"raw":var s=r.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&w1(n.HeadingPairs,n.TitlesOfParts,t,e),t}var o9=/<[^>]+>[^<]*/g;function s9(r,t){var e={},n="",i=r.match(o9);if(i)for(var o=0;o!=i.length;++o){var s=i[o],a=Me(s);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":n=pt(a.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),u=l[0].slice(4),c=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":e[n]=pt(c);break;case"bool":e[n]=Pt(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":e[n]=parseInt(c,10);break;case"r4":case"r8":case"decimal":e[n]=parseFloat(c);break;case"filetime":case"date":e[n]=gn(c);break;case"cy":case"error":e[n]=pt(c);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return e}var a9={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Ew;function l9(r,t,e){Ew||(Ew=$w(a9)),t=Ew[t]||t,r[t]=e}function a_(r){var t=r.read_shift(4),e=r.read_shift(4);return new Date((e/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function _1(r,t,e){var n=r.l,i=r.read_shift(0,"lpstr-cp");if(e)for(;r.l-n&3;)++r.l;return i}function S1(r,t,e){var n=r.read_shift(0,"lpwstr");return e&&(r.l+=4-(n.length+1&3)&3),n}function E1(r,t,e){return t===31?S1(r):_1(r,t,e)}function Mw(r,t,e){return E1(r,t,e===!1?0:4)}function u9(r,t){if(!t)throw new Error("VtUnalignedString must have positive length");return E1(r,t,0)}function c9(r){for(var t=r.read_shift(4),e=[],n=0;n!=t;++n){var i=r.l;e[n]=r.read_shift(0,"lpwstr").replace(Pn,""),r.l-i&2&&(r.l+=2)}return e}function d9(r){for(var t=r.read_shift(4),e=[],n=0;n!=t;++n)e[n]=r.read_shift(0,"lpstr-cp").replace(Pn,"");return e}function f9(r){var t=r.l,e=ag(r,m1);r[r.l]==0&&r[r.l+1]==0&&r.l-t&2&&(r.l+=2);var n=ag(r,pr);return[e,n]}function p9(r){for(var t=r.read_shift(4),e=[],n=0;n<t/2;++n)e.push(f9(r));return e}function ab(r,t){for(var e=r.read_shift(4),n={},i=0;i!=e;++i){var o=r.read_shift(4),s=r.read_shift(4);n[o]=r.read_shift(s,t===1200?"utf16le":"utf8").replace(Pn,"").replace(dd,"!"),t===1200&&s%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>2+1<<2),n}function x1(r){var t=r.read_shift(4),e=r.slice(r.l,r.l+t);return r.l+=t,(t&3)>0&&(r.l+=4-(t&3)&3),e}function h9(r){var t={};return t.Size=r.read_shift(4),r.l+=t.Size+3-(t.Size-1)%4,t}function ag(r,t,e){var n=r.read_shift(2),i,o=e||{};if(r.l+=2,t!==ib&&n!==t&&$$.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===ib?n:t){case 2:return i=r.read_shift(2,"i"),o.raw||(r.l+=2),i;case 3:return i=r.read_shift(4,"i"),i;case 11:return r.read_shift(4)!==0;case 19:return i=r.read_shift(4),i;case 30:return _1(r,n,4).replace(Pn,"");case 31:return S1(r);case 64:return a_(r);case 65:return x1(r);case 71:return h9(r);case 80:return Mw(r,n,!o.raw).replace(Pn,"");case 81:return u9(r,n).replace(Pn,"");case 4108:return p9(r);case 4126:case 4127:return n==4127?c9(r):d9(r);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function lb(r,t){var e=r.l,n=r.read_shift(4),i=r.read_shift(4),o=[],s=0,a=0,l=-1,u={};for(s=0;s!=i;++s){var c=r.read_shift(4),d=r.read_shift(4);o[s]=[c,d+e]}o.sort(function(C,y){return C[1]-y[1]});var f={};for(s=0;s!=i;++s){if(r.l!==o[s][1]){var p=!0;if(s>0&&t)switch(t[o[s-1][0]].t){case 2:r.l+2===o[s][1]&&(r.l+=2,p=!1);break;case 80:r.l<=o[s][1]&&(r.l=o[s][1],p=!1);break;case 4108:r.l<=o[s][1]&&(r.l=o[s][1],p=!1);break}if((!t||s==0)&&r.l<=o[s][1]&&(p=!1,r.l=o[s][1]),p)throw new Error("Read Error: Expected address "+o[s][1]+" at "+r.l+" :"+s)}if(t){var h=t[o[s][0]];if(f[h.n]=ag(r,h.t,{raw:!0}),h.p==="version"&&(f[h.n]=String(f[h.n]>>16)+"."+("0000"+String(f[h.n]&65535)).slice(-4)),h.n=="CodePage")switch(f[h.n]){case 0:f[h.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:xi(a=f[h.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[h.n])}}else if(o[s][0]===1){if(a=f.CodePage=ag(r,s_),xi(a),l!==-1){var g=r.l;r.l=o[l][1],u=ab(r,a),r.l=g}}else if(o[s][0]===0){if(a===0){l=s,r.l=o[s+1][1];continue}u=ab(r,a)}else{var v=u[o[s][0]],m;switch(r[r.l]){case 65:r.l+=4,m=x1(r);break;case 30:r.l+=4,m=Mw(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,m=Mw(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,m=r.read_shift(4,"i");break;case 19:r.l+=4,m=r.read_shift(4);break;case 5:r.l+=4,m=r.read_shift(8,"f");break;case 11:r.l+=4,m=Bt(r,4);break;case 64:r.l+=4,m=gn(a_(r));break;default:throw new Error("unparsed value: "+r[r.l])}f[v]=m}}return r.l=e+n,f}function ub(r,t,e){var n=r.content;if(!n)return{};wn(n,0);var i,o,s,a,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),c=n.read_shift(16);if(c!==ct.utils.consts.HEADER_CLSID&&c!==e)throw new Error("Bad PropertySet CLSID "+c);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(o=n.read_shift(16),a=n.read_shift(4),i===1&&a!==n.l)throw new Error("Length mismatch: "+a+" !== "+n.l);i===2&&(s=n.read_shift(16),l=n.read_shift(4));var d=lb(n,t),f={SystemIdentifier:u};for(var p in d)f[p]=d[p];if(f.FMTID=o,i===1)return f;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var h;try{h=lb(n,null)}catch{}for(p in h)f[p]=h[p];return f.FMTID=[o,s],f}function Ss(r,t){return r.read_shift(t),null}function g9(r,t,e){for(var n=[],i=r.l+t;r.l<i;)n.push(e(r,i-r.l));if(i!==r.l)throw new Error("Slurp error");return n}function Bt(r,t){return r.read_shift(t)===1}function Xt(r){return r.read_shift(2,"u")}function D1(r,t){return g9(r,t,Xt)}function v9(r){var t=r.read_shift(1),e=r.read_shift(1);return e===1?t:t===1}function Id(r,t,e){var n=r.read_shift(e&&e.biff>=12?2:1),i="sbcs-cont",o=io;if(e&&e.biff>=8&&(io=1200),!e||e.biff==8){var s=r.read_shift(1);s&&(i="dbcs-cont")}else e.biff==12&&(i="wstr");e.biff>=2&&e.biff<=5&&(i="cpstr");var a=n?r.read_shift(n,i):"";return io=o,a}function m9(r){var t=io;io=1200;var e=r.read_shift(2),n=r.read_shift(1),i=n&4,o=n&8,s=1+(n&1),a=0,l,u={};o&&(a=r.read_shift(2)),i&&(l=r.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",d=e===0?"":r.read_shift(e,c);return o&&(r.l+=4*a),i&&(r.l+=l),u.t=d,o||(u.raw="<t>"+u.t+"</t>",u.r=u.t),io=t,u}function Pa(r,t,e){var n;if(e){if(e.biff>=2&&e.biff<=5)return r.read_shift(t,"cpstr");if(e.biff>=12)return r.read_shift(t,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(t,"sbcs-cont"):n=r.read_shift(t,"dbcs-cont"),n}function Pd(r,t,e){var n=r.read_shift(e&&e.biff==2?1:2);return n===0?(r.l++,""):Pa(r,n,e)}function Va(r,t,e){if(e.biff>5)return Pd(r,t,e);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,e.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function y9(r){var t=r.read_shift(1);r.l++;var e=r.read_shift(2);return r.l+=2,[t,e]}function C9(r){var t=r.read_shift(4),e=r.l,n=!1;t>24&&(r.l+=t-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=e);var i=r.read_shift((n?t-24:t)>>1,"utf16le").replace(Pn,"");return n&&(r.l+=24),i}function w9(r){for(var t=r.read_shift(2),e="";t-- >0;)e+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=r.read_shift(4);if(i===0)return e+n.replace(/\\/g,"/");var o=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=r.read_shift(o>>1,"utf16le").replace(Pn,"");return e+s}function _9(r,t){var e=r.read_shift(16);switch(t-=16,e){case"e0c9ea79f9bace118c8200aa004ba90b":return C9(r,t);case"0303000000000000c000000000000046":return w9(r,t);default:throw new Error("Unsupported Moniker "+e)}}function Xh(r){var t=r.read_shift(4),e=t>0?r.read_shift(t,"utf16le").replace(Pn,""):"";return e}function S9(r,t){var e=r.l+t,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=r.read_shift(2);r.l+=2;var o,s,a,l,u="",c,d;i&16&&(o=Xh(r,e-r.l)),i&128&&(s=Xh(r,e-r.l)),(i&257)===257&&(a=Xh(r,e-r.l)),(i&257)===1&&(l=_9(r,e-r.l)),i&8&&(u=Xh(r,e-r.l)),i&32&&(c=r.read_shift(16)),i&64&&(d=a_(r)),r.l=e;var f=s||a||l||"";f&&u&&(f+="#"+u),f||(f="#"+u),i&2&&f.charAt(0)=="/"&&f.charAt(1)!="/"&&(f="file://"+f);var p={Target:f};return c&&(p.guid=c),d&&(p.time=d),o&&(p.Tooltip=o),p}function T1(r){var t=r.read_shift(1),e=r.read_shift(1),n=r.read_shift(1),i=r.read_shift(1);return[t,e,n,i]}function R1(r,t){var e=T1(r,t);return e[3]=0,e}function ao(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2);return{r:t,c:e,ixfe:n}}function E9(r){var t=r.read_shift(2),e=r.read_shift(2);return r.l+=8,{type:t,flags:e}}function x9(r,t,e){return t===0?"":Va(r,t,e)}function D9(r,t,e){var n=e.biff>8?4:2,i=r.read_shift(n),o=r.read_shift(n,"i"),s=r.read_shift(n,"i");return[i,o,s]}function A1(r){var t=r.read_shift(2),e=o_(r);return[t,e]}function T9(r,t,e){r.l+=4,t-=4;var n=r.l+t,i=Id(r,t,e),o=r.read_shift(2);if(n-=r.l,o!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+o);return r.l+=o,i}function hg(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:t},e:{c:i,r:e}}}function O1(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(1),i=r.read_shift(1);return{s:{c:n,r:t},e:{c:i,r:e}}}var R9=O1;function b1(r){r.l+=4;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[e,t,n]}function A9(r){var t={};return r.l+=4,r.l+=16,t.fSharedNote=r.read_shift(2),r.l+=4,t}function O9(r){var t={};return r.l+=4,r.cf=r.read_shift(2),t}function On(r){r.l+=2,r.l+=r.read_shift(2)}var b9={0:On,4:On,5:On,6:On,7:O9,8:On,9:On,10:On,11:On,12:On,13:A9,14:On,15:On,16:On,17:On,18:On,19:On,20:On,21:b1};function F9(r,t){for(var e=r.l+t,n=[];r.l<e;){var i=r.read_shift(2);r.l-=2;try{n.push(b9[i](r,e-r.l))}catch{return r.l=e,n}}return r.l!=e&&(r.l=e),n}function Qh(r,t){var e={BIFFVer:0,dt:0};switch(e.BIFFVer=r.read_shift(2),t-=2,t>=2&&(e.dt=r.read_shift(2),r.l-=2),e.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+e.BIFFVer)}return r.read_shift(t),e}function I9(r,t){return t===0||r.read_shift(2),1200}function P9(r,t,e){if(e.enc)return r.l+=t,"";var n=r.l,i=Va(r,0,e);return r.read_shift(t+n-r.l),i}function M9(r,t,e){var n=e&&e.biff==8||t==2?r.read_shift(2):(r.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function N9(r,t,e){var n=r.read_shift(4),i=r.read_shift(1)&3,o=r.read_shift(1);switch(o){case 0:o="Worksheet";break;case 1:o="Macrosheet";break;case 2:o="Chartsheet";break;case 6:o="VBAModule";break}var s=Id(r,0,e);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:o,name:s}}function L9(r,t){for(var e=r.l+t,n=r.read_shift(4),i=r.read_shift(4),o=[],s=0;s!=i&&r.l<e;++s)o.push(m9(r));return o.Count=n,o.Unique=i,o}function k9(r,t){var e={};return e.dsst=r.read_shift(2),r.l+=t-2,e}function G9(r){var t={};t.r=r.read_shift(2),t.c=r.read_shift(2),t.cnt=r.read_shift(2)-t.c;var e=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=e/20),t}function V9(r){var t=E9(r);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var e=r.read_shift(4);return e!==0}function H9(r){return r.read_shift(2),r.read_shift(4)}function cb(r,t,e){var n=0;e&&e.biff==2||(n=r.read_shift(2));var i=r.read_shift(2);e&&e.biff==2&&(n=1-(i>>15),i&=32767);var o={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[o,i]}function B9(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2),o=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),l=r.read_shift(2),u=r.read_shift(2);return{Pos:[t,e],Dim:[n,i],Flags:o,CurTab:s,FirstTab:a,Selected:l,TabRatio:u}}function j9(r,t,e){if(e&&e.biff>=2&&e.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function U9(){}function W9(r,t,e){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(e&&e.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=Id(r,0,e),n}function z9(r){var t=ao(r);return t.isst=r.read_shift(4),t}function $9(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=r.l+t,i=ao(r,6);e.biff==2&&r.l++;var o=Pd(r,n-r.l,e);return i.val=o,i}function K9(r,t,e){var n=r.read_shift(2),i=Va(r,0,e);return[n,i]}var Y9=Va;function db(r,t,e){var n=r.l+t,i=e.biff==8||!e.biff?4:2,o=r.read_shift(i),s=r.read_shift(i),a=r.read_shift(2),l=r.read_shift(2);return r.l=n,{s:{r:o,c:a},e:{r:s,c:l}}}function q9(r){var t=r.read_shift(2),e=r.read_shift(2),n=A1(r);return{r:t,c:e,ixfe:n[0],rknum:n[1]}}function X9(r,t){for(var e=r.l+t-2,n=r.read_shift(2),i=r.read_shift(2),o=[];r.l<e;)o.push(A1(r));if(r.l!==e)throw new Error("MulRK read error");var s=r.read_shift(2);if(o.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:o}}function Q9(r,t){for(var e=r.l+t-2,n=r.read_shift(2),i=r.read_shift(2),o=[];r.l<e;)o.push(r.read_shift(2));if(r.l!==e)throw new Error("MulBlank read error");var s=r.read_shift(2);if(o.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:o}}function Z9(r,t,e,n){var i={},o=r.read_shift(4),s=r.read_shift(4),a=r.read_shift(4),l=r.read_shift(2);return i.patternType=q$[a>>26],n.cellStyles&&(i.alc=o&7,i.fWrap=o>>3&1,i.alcV=o>>4&7,i.fJustLast=o>>7&1,i.trot=o>>8&255,i.cIndent=o>>16&15,i.fShrinkToFit=o>>20&1,i.iReadOrder=o>>22&2,i.fAtrNum=o>>26&1,i.fAtrFnt=o>>27&1,i.fAtrAlc=o>>28&1,i.fAtrBdr=o>>29&1,i.fAtrPat=o>>30&1,i.fAtrProt=o>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=a&127,i.icvBottom=a>>7&127,i.icvDiag=a>>14&127,i.dgDiag=a>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function J9(r,t,e){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Z9(r,t,n.fStyle,e),n}function e7(r){r.l+=4;var t=[r.read_shift(2),r.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function fb(r,t,e){var n=ao(r,6);(e.biff==2||t==9)&&++r.l;var i=v9(r,2);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function t7(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=ao(r,6),i=Fn(r,8);return n.val=i,n}var pb=x9;function n7(r,t,e){var n=r.l+t,i=r.read_shift(2),o=r.read_shift(2);if(e.sbcch=o,o==1025||o==14849)return[o,i];if(o<1||o>255)throw new Error("Unexpected SupBook type: "+o);for(var s=Pa(r,o),a=[];n>r.l;)a.push(Pd(r));return[o,i,s,a]}function hb(r,t,e){var n=r.read_shift(2),i,o={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return e.sbcch===14849&&(i=T9(r,t-2,e)),o.body=i||r.read_shift(t-2),typeof i=="string"&&(o.Name=i),o}var r7=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function gb(r,t,e){var n=r.l+t,i=r.read_shift(2),o=r.read_shift(1),s=r.read_shift(1),a=r.read_shift(e&&e.biff==2?1:2),l=0;(!e||e.biff>=5)&&(e.biff!=5&&(r.l+=2),l=r.read_shift(2),e.biff==5&&(r.l+=2),r.l+=4);var u=Pa(r,s,e);i&32&&(u=r7[u.charCodeAt(0)]);var c=n-r.l;e&&e.biff==2&&--c;var d=n==r.l||a===0||!(c>0)?[]:Gq(r,c,e,a);return{chKey:o,Name:u,itab:l,rgce:d}}function F1(r,t,e){if(e.biff<8)return i7(r,t,e);for(var n=[],i=r.l+t,o=r.read_shift(e.biff>8?4:2);o--!==0;)n.push(D9(r,e.biff>8?12:6,e));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function i7(r,t,e){r[r.l+1]==3&&r[r.l]++;var n=Id(r,t,e);return n.charCodeAt(0)==3?n.slice(1):n}function o7(r,t,e){if(e.biff<8){r.l+=t;return}var n=r.read_shift(2),i=r.read_shift(2),o=Pa(r,n,e),s=Pa(r,i,e);return[o,s]}function s7(r,t,e){var n=O1(r,6);r.l++;var i=r.read_shift(1);return t-=8,[Vq(r,t,e),i,n]}function vb(r,t,e){var n=R9(r,6);switch(e.biff){case 2:r.l++,t-=7;break;case 3:case 4:r.l+=2,t-=8;break;default:r.l+=6,t-=12}return[n,Lq(r,t,e,n)]}function a7(r){var t=r.read_shift(4)!==0,e=r.read_shift(4)!==0,n=r.read_shift(4);return[t,e,n]}function l7(r,t,e){if(!(e.biff<8)){var n=r.read_shift(2),i=r.read_shift(2),o=r.read_shift(2),s=r.read_shift(2),a=Va(r,0,e);return e.biff<8&&r.read_shift(1),[{r:n,c:i},a,s,o]}}function u7(r,t,e){return l7(r,t,e)}function c7(r,t){for(var e=[],n=r.read_shift(2);n--;)e.push(hg(r,t));return e}function d7(r,t,e){if(e&&e.biff<8)return p7(r,t,e);var n=b1(r,22),i=F9(r,t-22,n[1]);return{cmo:n,ft:i}}var f7={8:function(r,t){var e=r.l+t;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var i=r.read_shift(1);return r.l+=i,r.l=e,{fmt:n}}};function p7(r,t,e){r.l+=4;var n=r.read_shift(2),i=r.read_shift(2),o=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,t-=36;var s=[];return s.push((f7[n]||Nn)(r,t,e)),{cmo:[i,n,o],ft:s}}function h7(r,t,e){var n=r.l,i="";try{r.l+=4;var o=(e.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(o)==-1?r.l+=6:s=y9(r,6,e);var a=r.read_shift(2);r.read_shift(2),Xt(r,2);var l=r.read_shift(2);r.l+=l;for(var u=1;u<r.lens.length-1;++u){if(r.l-n!=r.lens[u])throw new Error("TxO: bad continue record");var c=r[r.l],d=Pa(r,r.lens[u+1]-r.lens[u]-1);if(i+=d,i.length>=(c?a:2*a))break}if(i.length!==a&&i.length!==a*2)throw new Error("cchText: "+a+" != "+i.length);return r.l=n+t,{t:i}}catch{return r.l=n+t,{t:i}}}function g7(r,t){var e=hg(r,8);r.l+=16;var n=S9(r,t-24);return[e,n]}function v7(r,t){r.read_shift(2);var e=hg(r,8),n=r.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Pn,""),[e,n]}function m7(r){var t=[0,0],e;return e=r.read_shift(2),t[0]=ob[e]||e,e=r.read_shift(2),t[1]=ob[e]||e,t}function y7(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(R1(r,8));return e}function C7(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(R1(r,8));return e}function w7(r){r.l+=2;var t={cxfs:0,crc:0};return t.cxfs=r.read_shift(2),t.crc=r.read_shift(4),t}function I1(r,t,e){if(!e.cellStyles)return Nn(r,t);var n=e&&e.biff>=12?4:2,i=r.read_shift(n),o=r.read_shift(n),s=r.read_shift(n),a=r.read_shift(n),l=r.read_shift(2);n==2&&(r.l+=2);var u={s:i,e:o,w:s,ixfe:a,flags:l};return(e.biff>=5||!e.biff)&&(u.level=l>>8&7),u}function _7(r,t){var e={};return t<32||(r.l+=16,e.header=Fn(r,8),e.footer=Fn(r,8),r.l+=2),e}function S7(r,t,e){var n={area:!1};if(e.biff!=5)return r.l+=t,n;var i=r.read_shift(1);return r.l+=3,i&16&&(n.area=!0),n}var E7=ao,x7=D1,D7=Pd;function T7(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),i={fmt:t,env:e,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,i}function R7(r,t,e){e.biffguess&&e.biff==5&&(e.biff=2);var n=ao(r,6);++r.l;var i=Va(r,t-7,e);return n.t="str",n.val=i,n}function A7(r){var t=ao(r,6);++r.l;var e=Fn(r,8);return t.t="n",t.val=e,t}function O7(r){var t=ao(r,6);++r.l;var e=r.read_shift(2);return t.t="n",t.val=e,t}function b7(r){var t=r.read_shift(1);return t===0?(r.l++,""):r.read_shift(t,"sbcs-cont")}function F7(r,t){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=t-13}function I7(r,t,e){var n=r.l+t,i=ao(r,6),o=r.read_shift(2),s=Pa(r,o,e);return r.l=n,i.t="str",i.val=s,i}var P7=[2,3,48,49,131,139,140,245],mb=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=$w({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(a,l){var u=[],c=Rs(1);switch(l.type){case"base64":c=Ei(Pr(a));break;case"binary":c=Ei(a);break;case"buffer":case"array":c=a;break}wn(c,0);var d=c.read_shift(1),f=!!(d&136),p=!1,h=!1;switch(d){case 2:break;case 3:break;case 48:p=!0,f=!0;break;case 49:p=!0,f=!0;break;case 131:break;case 139:break;case 140:h=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var g=0,v=521;d==2&&(g=c.read_shift(2)),c.l+=3,d!=2&&(g=c.read_shift(4)),g>1048576&&(g=1e6),d!=2&&(v=c.read_shift(2));var m=c.read_shift(2),C=l.codepage||1252;d!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(C=r[c[c.l]]),c.l+=1,c.l+=2),h&&(c.l+=36);for(var y=[],x={},P=Math.min(c.length,d==2?521:v-10-(p?264:0)),R=h?32:11;c.l<P&&c[c.l]!=13;)switch(x={},x.name=vt.utils.decode(C,c.slice(c.l,c.l+R)).replace(/[\u0000\r\n].*$/g,""),c.l+=R,x.type=String.fromCharCode(c.read_shift(1)),d!=2&&!h&&(x.offset=c.read_shift(4)),x.len=c.read_shift(1),d==2&&(x.offset=c.read_shift(2)),x.dec=c.read_shift(1),x.name.length&&y.push(x),d!=2&&(c.l+=h?13:14),x.type){case"B":(!p||x.len!=8)&&l.WTF&&console.log("Skipping "+x.name+":"+x.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+x.name+":"+x.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+x.type)}if(c[c.l]!==13&&(c.l=v-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=v;var E=0,O=0;for(u[0]=[],O=0;O!=y.length;++O)u[0][O]=y[O].name;for(;g-- >0;){if(c[c.l]===42){c.l+=m;continue}for(++c.l,u[++E]=[],O=0,O=0;O!=y.length;++O){var I=c.slice(c.l,c.l+y[O].len);c.l+=y[O].len,wn(I,0);var k=vt.utils.decode(C,I);switch(y[O].type){case"C":k.trim().length&&(u[E][O]=k.replace(/\s+$/,""));break;case"D":k.length===8?u[E][O]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):u[E][O]=k;break;case"F":u[E][O]=parseFloat(k.trim());break;case"+":case"I":u[E][O]=h?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":u[E][O]=!0;break;case"N":case"F":u[E][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));u[E][O]="##MEMO##"+(h?parseInt(k.trim(),10):I.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(u[E][O]=+k||0);break;case"@":u[E][O]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":u[E][O]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":u[E][O]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[E][O]=-I.read_shift(-8,"f");break;case"B":if(p&&y[O].len==8){u[E][O]=I.read_shift(8,"f");break}case"G":case"P":I.l+=y[O].len;break;case"0":if(y[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[O].type)}}}if(d!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=y,u}function n(a,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=ru(e(a,u),u);return c["!cols"]=u.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete u.DBF,c}function i(a,l){try{return Os(n(a,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function s(a,l){var u=l||{};if(+u.codepage>=0&&xi(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=Fw(),d=Hw(a,{header:1,raw:!0,cellDates:!0}),f=d[0],p=d.slice(1),h=a["!cols"]||[],g=0,v=0,m=0,C=1;for(g=0;g<f.length;++g){if(((h[g]||{}).DBF||{}).name){f[g]=h[g].DBF.name,++m;continue}if(f[g]!=null){if(++m,typeof f[g]=="number"&&(f[g]=f[g].toString(10)),typeof f[g]!="string")throw new Error("DBF Invalid column name "+f[g]+" |"+typeof f[g]+"|");if(f.indexOf(f[g])!==g){for(v=0;v<1024;++v)if(f.indexOf(f[g]+"_"+v)==-1){f[g]+="_"+v;break}}}}var y=kt(a["!ref"]),x=[],P=[],R=[];for(g=0;g<=y.e.c-y.s.c;++g){var E="",O="",I=0,k=[];for(v=0;v<p.length;++v)p[v][g]!=null&&k.push(p[v][g]);if(k.length==0||f[g]==null){x[g]="?";continue}for(v=0;v<k.length;++v){switch(typeof k[v]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=k[v]instanceof Date?"D":"C";break;default:O="C"}I=Math.max(I,String(k[v]).length),E=E&&E!=O?"C":O}I>250&&(I=250),O=((h[g]||{}).DBF||{}).type,O=="C"&&h[g].DBF.len>I&&(I=h[g].DBF.len),E=="B"&&O=="N"&&(E="N",R[g]=h[g].DBF.dec,I=h[g].DBF.len),P[g]=E=="C"||O=="N"?I:o[E]||0,C+=P[g],x[g]=E}var G=c.next(32);for(G.write_shift(4,318902576),G.write_shift(4,p.length),G.write_shift(2,296+32*m),G.write_shift(2,C),g=0;g<4;++g)G.write_shift(4,0);for(G.write_shift(4,0|(+t[Ql]||3)<<8),g=0,v=0;g<f.length;++g)if(f[g]!=null){var L=c.next(32),ee=(f[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,ee,"sbcs"),L.write_shift(1,x[g]=="?"?"C":x[g],"sbcs"),L.write_shift(4,v),L.write_shift(1,P[g]||o[x[g]]||0),L.write_shift(1,R[g]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),v+=P[g]||o[x[g]]||0}var de=c.next(264);for(de.write_shift(4,13),g=0;g<65;++g)de.write_shift(4,0);for(g=0;g<p.length;++g){var te=c.next(C);for(te.write_shift(1,0),v=0;v<f.length;++v)if(f[v]!=null)switch(x[v]){case"L":te.write_shift(1,p[g][v]==null?63:p[g][v]?84:70);break;case"B":te.write_shift(8,p[g][v]||0,"f");break;case"N":var Ce="0";for(typeof p[g][v]=="number"&&(Ce=p[g][v].toFixed(R[v]||0)),m=0;m<P[v]-Ce.length;++m)te.write_shift(1,32);te.write_shift(1,Ce,"sbcs");break;case"D":p[g][v]?(te.write_shift(4,("0000"+p[g][v].getFullYear()).slice(-4),"sbcs"),te.write_shift(2,("00"+(p[g][v].getMonth()+1)).slice(-2),"sbcs"),te.write_shift(2,("00"+p[g][v].getDate()).slice(-2),"sbcs")):te.write_shift(8,"00000000","sbcs");break;case"C":var se=String(p[g][v]!=null?p[g][v]:"").slice(0,P[v]);for(te.write_shift(1,se,"sbcs"),m=0;m<P[v]-se.length;++m)te.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),M7=function(){var r={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+oo(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(f,p){var h=r[p];return typeof h=="number"?IO(h):h},n=function(f,p,h){var g=p.charCodeAt(0)-32<<4|h.charCodeAt(0)-48;return g==59?f:IO(g)};r["|"]=254;function i(f,p){switch(p.type){case"base64":return o(Pr(f),p);case"binary":return o(f,p);case"buffer":return o(ot&&Buffer.isBuffer(f)?f.toString("binary"):Na(f),p);case"array":return o(Ia(f),p)}throw new Error("Unrecognized type "+p.type)}function o(f,p){var h=f.split(/[\n\r]+/),g=-1,v=-1,m=0,C=0,y=[],x=[],P=null,R={},E=[],O=[],I=[],k=0,G;for(+p.codepage>=0&&xi(+p.codepage);m!==h.length;++m){k=0;var L=h[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,e),ee=L.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),de=ee[0],te;if(L.length>0)switch(de){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ee[1].charAt(0)=="P"&&x.push(L.slice(3).replace(/;;/g,";"));break;case"C":var Ce=!1,se=!1,Fe=!1,le=!1,_e=-1,Z=-1;for(C=1;C<ee.length;++C)switch(ee[C].charAt(0)){case"A":break;case"X":v=parseInt(ee[C].slice(1))-1,se=!0;break;case"Y":for(g=parseInt(ee[C].slice(1))-1,se||(v=0),G=y.length;G<=g;++G)y[G]=[];break;case"K":te=ee[C].slice(1),te.charAt(0)==='"'?te=te.slice(1,te.length-1):te==="TRUE"?te=!0:te==="FALSE"?te=!1:isNaN(Ti(te))?isNaN(Zl(te).getDate())||(te=gn(te)):(te=Ti(te),P!==null&&eu(P)&&(te=fg(te))),typeof vt<"u"&&typeof te=="string"&&(p||{}).type!="string"&&(p||{}).codepage&&(te=vt.utils.decode(p.codepage,te)),Ce=!0;break;case"E":le=!0;var M=ql(ee[C].slice(1),{r:g,c:v});y[g][v]=[y[g][v],M];break;case"S":Fe=!0,y[g][v]=[y[g][v],"S5S"];break;case"G":break;case"R":_e=parseInt(ee[C].slice(1))-1;break;case"C":Z=parseInt(ee[C].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}if(Ce&&(y[g][v]&&y[g][v].length==2?y[g][v][0]=te:y[g][v]=te,P=null),Fe){if(le)throw new Error("SYLK shared formula cannot have own formula");var U=_e>-1&&y[_e][Z];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");y[g][v][1]=j1(U[1],{r:g-_e,c:v-Z})}break;case"F":var H=0;for(C=1;C<ee.length;++C)switch(ee[C].charAt(0)){case"X":v=parseInt(ee[C].slice(1))-1,++H;break;case"Y":for(g=parseInt(ee[C].slice(1))-1,G=y.length;G<=g;++G)y[G]=[];break;case"M":k=parseInt(ee[C].slice(1))/20;break;case"F":break;case"G":break;case"P":P=x[parseInt(ee[C].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=ee[C].slice(1).split(" "),G=parseInt(I[0],10);G<=parseInt(I[1],10);++G)k=parseInt(I[2],10),O[G-1]=k===0?{hidden:!0}:{wch:k},Jl(O[G-1]);break;case"C":v=parseInt(ee[C].slice(1))-1,O[v]||(O[v]={});break;case"R":g=parseInt(ee[C].slice(1))-1,E[g]||(E[g]={}),k>0?(E[g].hpt=k,E[g].hpx=Ad(k)):k===0&&(E[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}H<1&&(P=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+L)}}return E.length>0&&(R["!rows"]=E),O.length>0&&(R["!cols"]=O),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,R]}function s(f,p){var h=i(f,p),g=h[0],v=h[1],m=ru(g,p);return oo(v).forEach(function(C){m[C]=v[C]}),m}function a(f,p){return Os(s(f,p),p)}function l(f,p,h,g){var v="C;Y"+(h+1)+";X"+(g+1)+";K";switch(f.t){case"n":v+=f.v||0,f.f&&!f.F&&(v+=";E"+wY(f.f,{r:h,c:g}));break;case"b":v+=f.v?"TRUE":"FALSE";break;case"e":v+=f.w||f.v;break;case"d":v+='"'+(f.w||f.v)+'"';break;case"s":v+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(f,p){p.forEach(function(h,g){var v="F;W"+(g+1)+" "+(g+1)+" ";h.hidden?v+="0":(typeof h.width=="number"&&!h.wpx&&(h.wpx=ug(h.width)),typeof h.wpx=="number"&&!h.wch&&(h.wch=cg(h.wpx)),typeof h.wch=="number"&&(v+=Math.round(h.wch))),v.charAt(v.length-1)!=" "&&f.push(v)})}function c(f,p){p.forEach(function(h,g){var v="F;";h.hidden?v+="M0;":h.hpt?v+="M"+20*h.hpt+";":h.hpx&&(v+="M"+20*V1(h.hpx)+";"),v.length>2&&f.push(v+"R"+(g+1))})}function d(f,p){var h=["ID;PWXL;N;E"],g=[],v=kt(f["!ref"]),m,C=Array.isArray(f),y=`\r
`;h.push("P;PGeneral"),h.push("F;P0;DG0G8;M255"),f["!cols"]&&u(h,f["!cols"]),f["!rows"]&&c(h,f["!rows"]),h.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var x=v.s.r;x<=v.e.r;++x)for(var P=v.s.c;P<=v.e.c;++P){var R=Ue({r:x,c:P});m=C?(f[x]||[])[P]:f[R],!(!m||m.v==null&&(!m.f||m.F))&&g.push(l(m,f,x,P,p))}return h.join(y)+y+g.join(y)+y+"E"+y}return{to_workbook:a,to_sheet:s,from_sheet:d}}(),N7=function(){function r(o,s){switch(s.type){case"base64":return t(Pr(o),s);case"binary":return t(o,s);case"buffer":return t(ot&&Buffer.isBuffer(o)?o.toString("binary"):Na(o),s);case"array":return t(Ia(o),s)}throw new Error("Unrecognized type "+s.type)}function t(o,s){for(var a=o.split(`
`),l=-1,u=-1,c=0,d=[];c!==a.length;++c){if(a[c].trim()==="BOT"){d[++l]=[],u=0;continue}if(!(l<0)){var f=a[c].trim().split(","),p=f[0],h=f[1];++c;for(var g=a[c]||"";(g.match(/["]/g)||[]).length&1&&c<a.length-1;)g+=`
`+a[++c];switch(g=g.trim(),+p){case-1:if(g==="BOT"){d[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?d[l][u]=!0:g==="FALSE"?d[l][u]=!1:isNaN(Ti(h))?isNaN(Zl(h).getDate())?d[l][u]=h:d[l][u]=gn(h):d[l][u]=Ti(h),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),ud&&g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),d[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function e(o,s){return ru(r(o,s),s)}function n(o,s){return Os(e(o,s),s)}var i=function(){var o=function(l,u,c,d,f){l.push(u),l.push(c+","+d),l.push('"'+f.replace(/"/g,'""')+'"')},s=function(l,u,c,d){l.push(u+","+c),l.push(u==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var u=[],c=kt(l["!ref"]),d,f=Array.isArray(l);o(u,"TABLE",0,1,"sheetjs"),o(u,"VECTORS",0,c.e.r-c.s.r+1,""),o(u,"TUPLES",0,c.e.c-c.s.c+1,""),o(u,"DATA",0,0,"");for(var p=c.s.r;p<=c.e.r;++p){s(u,-1,0,"BOT");for(var h=c.s.c;h<=c.e.c;++h){var g=Ue({r:p,c:h});if(d=f?(l[p]||[])[h]:l[g],!d){s(u,1,0,"");continue}switch(d.t){case"n":var v=ud?d.w:d.v;!v&&d.v!=null&&(v=d.v),v==null?ud&&d.f&&!d.F?s(u,1,0,"="+d.f):s(u,1,0,""):s(u,0,v,"V");break;case"b":s(u,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(u,1,0,!ud||isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=ei(d.z||$e[14],Kn(gn(d.v)))),ud?s(u,0,d.w,"V"):s(u,1,0,d.w);break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var m=`\r
`,C=u.join(m);return C}}();return{to_workbook:n,to_sheet:e,from_sheet:i}}(),L7=function(){function r(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(d,f){for(var p=d.split(`
`),h=-1,g=-1,v=0,m=[];v!==p.length;++v){var C=p[v].trim().split(":");if(C[0]==="cell"){var y=$n(C[1]);if(m.length<=y.r)for(h=m.length;h<=y.r;++h)m[h]||(m[h]=[]);switch(h=y.r,g=y.c,C[2]){case"t":m[h][g]=r(C[3]);break;case"v":m[h][g]=+C[3];break;case"vtf":var x=C[C.length-1];case"vtc":switch(C[3]){case"nl":m[h][g]=!!+C[4];break;default:m[h][g]=+C[4];break}C[2]=="vtf"&&(m[h][g]=[m[h][g],x])}}}return f&&f.sheetRows&&(m=m.slice(0,f.sheetRows)),m}function n(d,f){return ru(e(d,f),f)}function i(d,f){return Os(n(d,f),f)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(d){if(!d||!d["!ref"])return"";for(var f=[],p=[],h,g="",v=nu(d["!ref"]),m=Array.isArray(d),C=v.s.r;C<=v.e.r;++C)for(var y=v.s.c;y<=v.e.c;++y)if(g=Ue({r:C,c:y}),h=m?(d[C]||[])[y]:d[g],!(!h||h.v==null||h.t==="z")){switch(p=["cell",g,"t"],h.t){case"s":case"str":p.push(t(h.v));break;case"n":h.f?(p[2]="vtf",p[3]="n",p[4]=h.v,p[5]=t(h.f)):(p[2]="v",p[3]=h.v);break;case"b":p[2]="vt"+(h.f?"f":"c"),p[3]="nl",p[4]=h.v?"1":"0",p[5]=t(h.f||(h.v?"TRUE":"FALSE"));break;case"d":var x=Kn(gn(h.v));p[2]="vtc",p[3]="nd",p[4]=""+x,p[5]=h.w||ei(h.z||$e[14],x);break;case"e":continue}f.push(p.join(":"))}return f.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function c(d){return[o,s,a,s,u(d),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),Td=function(){function r(c,d,f,p,h){h.raw?d[f][p]=c:c===""||(c==="TRUE"?d[f][p]=!0:c==="FALSE"?d[f][p]=!1:isNaN(Ti(c))?isNaN(Zl(c).getDate())?d[f][p]=c:d[f][p]=gn(c):d[f][p]=Ti(c))}function t(c,d){var f=d||{},p=[];if(!c||c.length===0)return p;for(var h=c.split(/[\r\n]/),g=h.length-1;g>=0&&h[g].length===0;)--g;for(var v=10,m=0,C=0;C<=g;++C)m=h[C].indexOf(" "),m==-1?m=h[C].length:m++,v=Math.max(v,m);for(C=0;C<=g;++C){p[C]=[];var y=0;for(r(h[C].slice(0,v).trim(),p,C,y,f),y=1;y<=(h[C].length-v)/10+1;++y)r(h[C].slice(v+(y-1)*10,v+y*10).trim(),p,C,y,f)}return f.sheetRows&&(p=p.slice(0,f.sheetRows)),p}var e={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var d={},f=!1,p=0,h=0;p<c.length;++p)(h=c.charCodeAt(p))==34?f=!f:!f&&h in e&&(d[h]=(d[h]||0)+1);h=[];for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&h.push([d[p],p]);if(!h.length){d=n;for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&h.push([d[p],p])}return h.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),e[h.pop()[1]]||44}function o(c,d){var f=d||{},p="";Zt!=null&&f.dense==null&&(f.dense=Zt);var h=f.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(p=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(p=c.charAt(4),c=c.slice(6)):p=i(c.slice(0,1024)):f&&f.FS?p=f.FS:p=i(c.slice(0,1024));var v=0,m=0,C=0,y=0,x=0,P=p.charCodeAt(0),R=!1,E=0,O=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var I=f.dateNF!=null?Kz(f.dateNF):null;function k(){var G=c.slice(y,x),L={};if(G.charAt(0)=='"'&&G.charAt(G.length-1)=='"'&&(G=G.slice(1,-1).replace(/""/g,'"')),G.length===0)L.t="z";else if(f.raw)L.t="s",L.v=G;else if(G.trim().length===0)L.t="s",L.v=G;else if(G.charCodeAt(0)==61)G.charCodeAt(1)==34&&G.charCodeAt(G.length-1)==34?(L.t="s",L.v=G.slice(2,-1).replace(/""/g,'"')):SY(G)?(L.t="n",L.f=G.slice(1)):(L.t="s",L.v=G);else if(G=="TRUE")L.t="b",L.v=!0;else if(G=="FALSE")L.t="b",L.v=!1;else if(!isNaN(C=Ti(G)))L.t="n",f.cellText!==!1&&(L.w=G),L.v=C;else if(!isNaN(Zl(G).getDate())||I&&G.match(I)){L.z=f.dateNF||$e[14];var ee=0;I&&G.match(I)&&(G=Yz(G,f.dateNF,G.match(I)||[]),ee=1),f.cellDates?(L.t="d",L.v=gn(G,ee)):(L.t="n",L.v=Kn(gn(G,ee))),f.cellText!==!1&&(L.w=ei(L.z,L.v instanceof Date?Kn(L.v):L.v)),f.cellNF||delete L.z}else L.t="s",L.v=G;if(L.t=="z"||(f.dense?(h[v]||(h[v]=[]),h[v][m]=L):h[Ue({c:m,r:v})]=L),y=x+1,O=c.charCodeAt(y),g.e.c<m&&(g.e.c=m),g.e.r<v&&(g.e.r=v),E==P)++m;else if(m=0,++v,f.sheetRows&&f.sheetRows<=v)return!0}e:for(;x<c.length;++x)switch(E=c.charCodeAt(x)){case 34:O===34&&(R=!R);break;case P:case 10:case 13:if(!R&&k())break e;break;default:break}return x-y>0&&k(),h["!ref"]=dt(g),h}function s(c,d){return!(d&&d.PRN)||d.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?o(c,d):ru(t(c,d),d)}function a(c,d){var f="",p=d.type=="string"?[0,0,0,0]:g_(c,d);switch(d.type){case"base64":f=Pr(c);break;case"binary":f=c;break;case"buffer":d.codepage==65001?f=c.toString("utf8"):d.codepage&&typeof vt<"u"?f=vt.utils.decode(d.codepage,c):f=ot&&Buffer.isBuffer(c)?c.toString("binary"):Na(c);break;case"array":f=Ia(c);break;case"string":f=c;break;default:throw new Error("Unrecognized type "+d.type)}return p[0]==239&&p[1]==187&&p[2]==191?f=Tt(f.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?f=Tt(f):d.type=="binary"&&typeof vt<"u"&&d.codepage&&(f=vt.utils.decode(d.codepage,vt.utils.encode(28591,f))),f.slice(0,19)=="socialcalc:version:"?L7.to_sheet(d.type=="string"?f:Tt(f),d):s(f,d)}function l(c,d){return Os(a(c,d),d)}function u(c){for(var d=[],f=kt(c["!ref"]),p,h=Array.isArray(c),g=f.s.r;g<=f.e.r;++g){for(var v=[],m=f.s.c;m<=f.e.c;++m){var C=Ue({r:g,c:m});if(p=h?(c[g]||[])[m]:c[C],!p||p.v==null){v.push("          ");continue}for(var y=(p.w||(Io(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";v.push(y+(m===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:u}}();function k7(r,t){var e=t||{},n=!!e.WTF;e.WTF=!0;try{var i=M7.to_workbook(r,e);return e.WTF=n,i}catch(o){if(e.WTF=n,!o.message.match(/SYLK bad record ID/)&&n)throw o;return Td.to_workbook(r,t)}}var Cd=function(){function r(M,U,H){if(M){wn(M,M.l||0);for(var V=H.Enum||_e;M.l<M.length;){var J=M.read_shift(2),Se=V[J]||V[65535],he=M.read_shift(2),we=M.l+he,ie=Se.f&&Se.f(M,he,H);if(M.l=we,U(ie,Se,J))return}}}function t(M,U){switch(U.type){case"base64":return e(Ei(Pr(M)),U);case"binary":return e(Ei(M),U);case"buffer":case"array":return e(M,U)}throw"Unsupported type "+U.type}function e(M,U){if(!M)return M;var H=U||{};Zt!=null&&H.dense==null&&(H.dense=Zt);var V=H.dense?[]:{},J="Sheet1",Se="",he=0,we={},ie=[],st=[],N={s:{r:0,c:0},e:{r:0,c:0}},Mt=H.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)H.Enum=_e,r(M,function(me,Gt,Nr){switch(Nr){case 0:H.vers=me,me>=4096&&(H.qpro=!0);break;case 6:N=me;break;case 204:me&&(Se=me);break;case 222:Se=me;break;case 15:case 51:H.qpro||(me[1].v=me[1].v.slice(1));case 13:case 14:case 16:Nr==14&&(me[2]&112)==112&&(me[2]&15)>1&&(me[2]&15)<15&&(me[1].z=H.dateNF||$e[14],H.cellDates&&(me[1].t="d",me[1].v=fg(me[1].v))),H.qpro&&me[3]>he&&(V["!ref"]=dt(N),we[J]=V,ie.push(J),V=H.dense?[]:{},N={s:{r:0,c:0},e:{r:0,c:0}},he=me[3],J=Se||"Sheet"+(he+1),Se="");var Ri=H.dense?(V[me[0].r]||[])[me[0].c]:V[Ue(me[0])];if(Ri){Ri.t=me[1].t,Ri.v=me[1].v,me[1].z!=null&&(Ri.z=me[1].z),me[1].f!=null&&(Ri.f=me[1].f);break}H.dense?(V[me[0].r]||(V[me[0].r]=[]),V[me[0].r][me[0].c]=me[1]):V[Ue(me[0])]=me[1];break;default:}},H);else if(M[2]==26||M[2]==14)H.Enum=Z,M[2]==14&&(H.qpro=!0,M.l=0),r(M,function(me,Gt,Nr){switch(Nr){case 204:J=me;break;case 22:me[1].v=me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(me[3]>he&&(V["!ref"]=dt(N),we[J]=V,ie.push(J),V=H.dense?[]:{},N={s:{r:0,c:0},e:{r:0,c:0}},he=me[3],J="Sheet"+(he+1)),Mt>0&&me[0].r>=Mt)break;H.dense?(V[me[0].r]||(V[me[0].r]=[]),V[me[0].r][me[0].c]=me[1]):V[Ue(me[0])]=me[1],N.e.c<me[0].c&&(N.e.c=me[0].c),N.e.r<me[0].r&&(N.e.r=me[0].r);break;case 27:me[14e3]&&(st[me[14e3][0]]=me[14e3][1]);break;case 1537:st[me[0]]=me[1],me[0]==he&&(J=me[1]);break;default:break}},H);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(V["!ref"]=dt(N),we[Se||J]=V,ie.push(Se||J),!st.length)return{SheetNames:ie,Sheets:we};for(var ft={},_t=[],nt=0;nt<st.length;++nt)we[ie[nt]]?(_t.push(st[nt]||ie[nt]),ft[st[nt]]=we[st[nt]]||we[ie[nt]]):(_t.push(st[nt]),ft[st[nt]]={"!ref":"A1"});return{SheetNames:_t,Sheets:ft}}function n(M,U){var H=U||{};if(+H.codepage>=0&&xi(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var V=Fw(),J=kt(M["!ref"]),Se=Array.isArray(M),he=[];Si(V,0,o(1030)),Si(V,6,l(J));for(var we=Math.min(J.e.r,8191),ie=J.s.r;ie<=we;++ie)for(var st=Sn(ie),N=J.s.c;N<=J.e.c;++N){ie===J.s.r&&(he[N]=on(N));var Mt=he[N]+st,ft=Se?(M[ie]||[])[N]:M[Mt];if(!(!ft||ft.t=="z"))if(ft.t=="n")(ft.v|0)==ft.v&&ft.v>=-32768&&ft.v<=32767?Si(V,13,p(ie,N,ft.v)):Si(V,14,g(ie,N,ft.v));else{var _t=Io(ft);Si(V,15,d(ie,N,_t.slice(0,239)))}}return Si(V,1),V.end()}function i(M,U){var H=U||{};if(+H.codepage>=0&&xi(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var V=Fw();Si(V,0,s(M));for(var J=0,Se=0;J<M.SheetNames.length;++J)(M.Sheets[M.SheetNames[J]]||{})["!ref"]&&Si(V,27,le(M.SheetNames[J],Se++));var he=0;for(J=0;J<M.SheetNames.length;++J){var we=M.Sheets[M.SheetNames[J]];if(!(!we||!we["!ref"])){for(var ie=kt(we["!ref"]),st=Array.isArray(we),N=[],Mt=Math.min(ie.e.r,8191),ft=ie.s.r;ft<=Mt;++ft)for(var _t=Sn(ft),nt=ie.s.c;nt<=ie.e.c;++nt){ft===ie.s.r&&(N[nt]=on(nt));var me=N[nt]+_t,Gt=st?(we[ft]||[])[nt]:we[me];if(!(!Gt||Gt.t=="z"))if(Gt.t=="n")Si(V,23,k(ft,nt,he,Gt.v));else{var Nr=Io(Gt);Si(V,22,E(ft,nt,he,Nr.slice(0,239)))}}++he}}return Si(V,1),V.end()}function o(M){var U=Qt(2);return U.write_shift(2,M),U}function s(M){var U=Qt(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var H=0,V=0,J=0,Se=0;Se<M.SheetNames.length;++Se){var he=M.SheetNames[Se],we=M.Sheets[he];if(!(!we||!we["!ref"])){++J;var ie=nu(we["!ref"]);H<ie.e.r&&(H=ie.e.r),V<ie.e.c&&(V=ie.e.c)}}return H>8191&&(H=8191),U.write_shift(2,H),U.write_shift(1,J),U.write_shift(1,V),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function a(M,U,H){var V={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&H.qpro?(V.s.c=M.read_shift(1),M.l++,V.s.r=M.read_shift(2),V.e.c=M.read_shift(1),M.l++,V.e.r=M.read_shift(2),V):(V.s.c=M.read_shift(2),V.s.r=M.read_shift(2),U==12&&H.qpro&&(M.l+=2),V.e.c=M.read_shift(2),V.e.r=M.read_shift(2),U==12&&H.qpro&&(M.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function l(M){var U=Qt(8);return U.write_shift(2,M.s.c),U.write_shift(2,M.s.r),U.write_shift(2,M.e.c),U.write_shift(2,M.e.r),U}function u(M,U,H){var V=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(V[0].c=M.read_shift(1),V[3]=M.read_shift(1),V[0].r=M.read_shift(2),M.l+=2):(V[2]=M.read_shift(1),V[0].c=M.read_shift(2),V[0].r=M.read_shift(2)),V}function c(M,U,H){var V=M.l+U,J=u(M,U,H);if(J[1].t="s",H.vers==20768){M.l++;var Se=M.read_shift(1);return J[1].v=M.read_shift(Se,"utf8"),J}return H.qpro&&M.l++,J[1].v=M.read_shift(V-M.l,"cstr"),J}function d(M,U,H){var V=Qt(7+H.length);V.write_shift(1,255),V.write_shift(2,U),V.write_shift(2,M),V.write_shift(1,39);for(var J=0;J<V.length;++J){var Se=H.charCodeAt(J);V.write_shift(1,Se>=128?95:Se)}return V.write_shift(1,0),V}function f(M,U,H){var V=u(M,U,H);return V[1].v=M.read_shift(2,"i"),V}function p(M,U,H){var V=Qt(7);return V.write_shift(1,255),V.write_shift(2,U),V.write_shift(2,M),V.write_shift(2,H,"i"),V}function h(M,U,H){var V=u(M,U,H);return V[1].v=M.read_shift(8,"f"),V}function g(M,U,H){var V=Qt(13);return V.write_shift(1,255),V.write_shift(2,U),V.write_shift(2,M),V.write_shift(8,H,"f"),V}function v(M,U,H){var V=M.l+U,J=u(M,U,H);if(J[1].v=M.read_shift(8,"f"),H.qpro)M.l=V;else{var Se=M.read_shift(2);x(M.slice(M.l,M.l+Se),J),M.l+=Se}return J}function m(M,U,H){var V=U&32768;return U&=-32769,U=(V?M:0)+(U>=8192?U-16384:U),(V?"":"$")+(H?on(U):Sn(U))}var C={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function x(M,U){wn(M,0);for(var H=[],V=0,J="",Se="",he="",we="";M.l<M.length;){var ie=M[M.l++];switch(ie){case 0:H.push(M.read_shift(8,"f"));break;case 1:Se=m(U[0].c,M.read_shift(2),!0),J=m(U[0].r,M.read_shift(2),!1),H.push(Se+J);break;case 2:{var st=m(U[0].c,M.read_shift(2),!0),N=m(U[0].r,M.read_shift(2),!1);Se=m(U[0].c,M.read_shift(2),!0),J=m(U[0].r,M.read_shift(2),!1),H.push(st+N+":"+Se+J)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(M.read_shift(2));break;case 6:{for(var Mt="";ie=M[M.l++];)Mt+=String.fromCharCode(ie);H.push('"'+Mt.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:we=H.pop(),he=H.pop(),H.push(["AND","OR"][ie-20]+"("+he+","+we+")");break;default:if(ie<32&&y[ie])we=H.pop(),he=H.pop(),H.push(he+y[ie]+we);else if(C[ie]){if(V=C[ie][1],V==69&&(V=M[M.l++]),V>H.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+H.join("|")+"|");return}var ft=H.slice(-V);H.length-=V,H.push(C[ie][0]+"("+ft.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}H.length==1?U[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function P(M){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=M.read_shift(2),U[3]=M[M.l++],U[0].c=M[M.l++],U}function R(M,U){var H=P(M,U);return H[1].t="s",H[1].v=M.read_shift(U-4,"cstr"),H}function E(M,U,H,V){var J=Qt(6+V.length);J.write_shift(2,M),J.write_shift(1,H),J.write_shift(1,U),J.write_shift(1,39);for(var Se=0;Se<V.length;++Se){var he=V.charCodeAt(Se);J.write_shift(1,he>=128?95:he)}return J.write_shift(1,0),J}function O(M,U){var H=P(M,U);H[1].v=M.read_shift(2);var V=H[1].v>>1;if(H[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return H[1].v=V,H}function I(M,U){var H=P(M,U),V=M.read_shift(4),J=M.read_shift(4),Se=M.read_shift(2);if(Se==65535)return V===0&&J===3221225472?(H[1].t="e",H[1].v=15):V===0&&J===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var he=Se&32768;return Se=(Se&32767)-16446,H[1].v=(1-he*2)*(J*Math.pow(2,Se+32)+V*Math.pow(2,Se)),H}function k(M,U,H,V){var J=Qt(14);if(J.write_shift(2,M),J.write_shift(1,H),J.write_shift(1,U),V==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var Se=0,he=0,we=0,ie=0;return V<0&&(Se=1,V=-V),he=Math.log2(V)|0,V/=Math.pow(2,he-31),ie=V>>>0,ie&2147483648||(V/=2,++he,ie=V>>>0),V-=ie,ie|=2147483648,ie>>>=0,V*=Math.pow(2,32),we=V>>>0,J.write_shift(4,we),J.write_shift(4,ie),he+=16383+(Se?32768:0),J.write_shift(2,he),J}function G(M,U){var H=I(M,14);return M.l+=U-14,H}function L(M,U){var H=P(M,U),V=M.read_shift(4);return H[1].v=V>>6,H}function ee(M,U){var H=P(M,U),V=M.read_shift(8,"f");return H[1].v=V,H}function de(M,U){var H=ee(M,14);return M.l+=U-10,H}function te(M,U){return M[M.l+U-1]==0?M.read_shift(U,"cstr"):""}function Ce(M,U){var H=M[M.l++];H>U-1&&(H=U-1);for(var V="";V.length<H;)V+=String.fromCharCode(M[M.l++]);return V}function se(M,U,H){if(!(!H.qpro||U<21)){var V=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var J=M.read_shift(U-21,"cstr");return[V,J]}}function Fe(M,U){for(var H={},V=M.l+U;M.l<V;){var J=M.read_shift(2);if(J==14e3){for(H[J]=[0,""],H[J][0]=M.read_shift(2);M[M.l];)H[J][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return H}function le(M,U){var H=Qt(5+M.length);H.write_shift(2,14e3),H.write_shift(2,U);for(var V=0;V<M.length;++V){var J=M.charCodeAt(V);H[H.l++]=J>127?95:J}return H[H.l++]=0,H}var _e={0:{n:"BOF",f:Xt},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:h},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:te},222:{n:"SHEETNAMELP",f:Ce},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:G},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Fe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:ee},40:{n:"FORMULA28",f:de},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}();function G7(r){var t={},e=r.match(Ln),n=0,i=!1;if(e)for(;n!=e.length;++n){var o=Me(e[n]);switch(o[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!o.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(o.val=="1")break;t.cp=Bw[parseInt(o.val,10)];break;case"<outline":if(!o.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=o.val;break;case"<sz":t.sz=o.val;break;case"<strike":if(!o.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!o.val)break;switch(o.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(o.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(o.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":o.rgb&&(t.color=o.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=o.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=o.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(o[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+o[0])}}return t}var V7=function(){var r=xd("t"),t=xd("rPr");function e(o){var s=o.match(r);if(!s)return{t:"s",v:""};var a={t:"s",v:pt(s[1])},l=o.match(t);return l&&(a.s=G7(l[1])),a}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(e).filter(function(a){return a.v})}}(),H7=function(){var t=/(\r\n|\n)/g;function e(i,o,s){var a=[];i.u&&a.push("text-decoration: underline;"),i.uval&&a.push("text-underline-style:"+i.uval+";"),i.sz&&a.push("font-size:"+i.sz+"pt;"),i.outline&&a.push("text-effect: outline;"),i.shadow&&a.push("text-shadow: auto;"),o.push('<span style="'+a.join("")+'">'),i.b&&(o.push("<b>"),s.push("</b>")),i.i&&(o.push("<i>"),s.push("</i>")),i.strike&&(o.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(o.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function n(i){var o=[[],i.v,[]];return i.v?(i.s&&e(i.s,o[0],o[2]),o[0].join("")+o[1].replace(t,"<br/>")+o[2].join("")):""}return function(o){return o.map(n).join("")}}(),B7=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,j7=/<(?:\w+:)?r>/,U7=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function l_(r,t){var e=t?t.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=pt(Tt(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Tt(r),e&&(n.h=Yw(n.t))):r.match(j7)&&(n.r=Tt(r),n.t=pt(Tt((r.replace(U7,"").match(B7)||[]).join("").replace(Ln,""))),e&&(n.h=H7(V7(n.r)))),n):{t:""}}var W7=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,z7=/<(?:\w+:)?(?:si|sstItem)>/g,$7=/<\/(?:\w+:)?(?:si|sstItem)>/;function K7(r,t){var e=[],n="";if(!r)return e;var i=r.match(W7);if(i){n=i[2].replace(z7,"").split($7);for(var o=0;o!=n.length;++o){var s=l_(n[o].trim(),t);s!=null&&(e[e.length]=s)}i=Me(i[1]),e.Count=i.count,e.Unique=i.uniqueCount}return e}function Y7(r){return[r.read_shift(4),r.read_shift(4)]}function q7(r,t){var e=[],n=!1;return Po(r,function(o,s,a){switch(a){case 159:e.Count=o[0],e.Unique=o[1];break;case 19:e.push(o);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),e}function P1(r){if(typeof vt<"u")return vt.utils.encode(Ql,r);for(var t=[],e=r.split(""),n=0;n<e.length;++n)t[n]=e[n].charCodeAt(0);return t}function Fo(r,t){var e={};return e.Major=r.read_shift(2),e.Minor=r.read_shift(2),t>=4&&(r.l+=t-4),e}function X7(r){var t={};return t.id=r.read_shift(0,"lpp4"),t.R=Fo(r,4),t.U=Fo(r,4),t.W=Fo(r,4),t}function Q7(r){for(var t=r.read_shift(4),e=r.l+t-4,n={},i=r.read_shift(4),o=[];i-- >0;)o.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=o,r.l!=e)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+e);return n}function Z7(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(Q7(r));return t}function J7(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(r.read_shift(0,"lpp4"));return t}function eK(r){var t={};return r.read_shift(4),r.l+=4,t.id=r.read_shift(0,"lpp4"),t.name=r.read_shift(0,"lpp4"),t.R=Fo(r,4),t.U=Fo(r,4),t.W=Fo(r,4),t}function tK(r){var t=eK(r);if(t.ename=r.read_shift(0,"8lpp4"),t.blksz=r.read_shift(4),t.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function M1(r,t){var e=r.l+t,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(e-r.l>>1,"utf16le"),r.l=e,n}function N1(r,t){var e={},n=r.l+t;return r.l+=4,e.Salt=r.slice(r.l,r.l+16),r.l+=16,e.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),e.VerifierHash=r.slice(r.l,n),r.l=n,e}function nK(r){var t=Fo(r);switch(t.Minor){case 2:return[t.Minor,rK(r,t)];case 3:return[t.Minor,iK(r,t)];case 4:return[t.Minor,oK(r,t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function rK(r){var t=r.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var e=r.read_shift(4),n=M1(r,e),i=N1(r,r.length-r.l);return{t:"Std",h:n,v:i}}function iK(){throw new Error("File is password-protected: ECMA-376 Extensible")}function oK(r){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var e=r.read_shift(r.length-r.l,"utf8"),n={};return e.replace(Ln,function(o){var s=Me(o);switch(so(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(a){n[a]=s[a]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function sK(r,t){var e={},n=e.EncryptionVersionInfo=Fo(r,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);e.Flags=r.read_shift(4),t-=4;var i=r.read_shift(4);return t-=4,e.EncryptionHeader=M1(r,i),t-=i,e.EncryptionVerifier=N1(r,t),e}function aK(r){var t={},e=t.EncryptionVersionInfo=Fo(r,4);if(e.Major!=1||e.Minor!=1)throw"unrecognized version code "+e.Major+" : "+e.Minor;return t.Salt=r.read_shift(16),t.EncryptedVerifier=r.read_shift(16),t.EncryptedVerifierHash=r.read_shift(16),t}function lK(r){var t=0,e,n=P1(r),i=n.length+1,o,s,a,l,u;for(e=Rs(i),e[0]=n.length,o=1;o!=i;++o)e[o]=n[o-1];for(o=i-1;o>=0;--o)s=e[o],a=t&16384?1:0,l=t<<1&32767,u=a|l,t=u^s;return t^52811}var L1=function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],e=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,a){return n(s^a)},o=function(s){for(var a=t[s.length-1],l=104,u=s.length-1;u>=0;--u)for(var c=s[u],d=0;d!=7;++d)c&64&&(a^=e[l]),c*=2,--l;return a};return function(s){for(var a=P1(s),l=o(a),u=a.length,c=Rs(16),d=0;d!=16;++d)c[d]=0;var f,p,h;for((u&1)===1&&(f=l>>8,c[u]=i(r[0],f),--u,f=l&255,p=a[a.length-1],c[u]=i(p,f));u>0;)--u,f=l>>8,c[u]=i(a[u],f),--u,f=l&255,c[u]=i(a[u],f);for(u=15,h=15-a.length;h>0;)f=l>>8,c[u]=i(r[h],f),--u,--h,f=l&255,c[u]=i(a[u],f),--u,--h;return c}}(),uK=function(r,t,e,n,i){i||(i=t),n||(n=L1(r));var o,s;for(o=0;o!=t.length;++o)s=t[o],s^=n[e],s=(s>>5|s<<3)&255,i[o]=s,++e;return[i,e,n]},cK=function(r){var t=0,e=L1(r);return function(n){var i=uK("",n,t,e);return t=i[1],i[0]}};function dK(r,t,e,n){var i={key:Xt(r),verificationBytes:Xt(r)};return e.password&&(i.verifier=lK(e.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=cK(e.password)),i}function fK(r,t,e){var n=e||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=aK(r,t):n.Data=sK(r,t),n}function pK(r,t,e){var n={Type:e.biff>=8?r.read_shift(2):0};return n.Type?fK(r,t-2,n):dK(r,e.biff>=8?t:t-2,e,n),n}var hK=function(){function r(i,o){switch(o.type){case"base64":return t(Pr(i),o);case"binary":return t(i,o);case"buffer":return t(ot&&Buffer.isBuffer(i)?i.toString("binary"):Na(i),o);case"array":return t(Ia(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){var s=o||{},a=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,d){Array.isArray(a)&&(a[d]=[]);for(var f=/\\\w+\b/g,p=0,h,g=-1;h=f.exec(c);){switch(h[0]){case"\\cell":var v=c.slice(p,f.lastIndex-h[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var m={v,t:"s"};Array.isArray(a)?a[d][g]=m:a[Ue({r:d,c:g})]=m}break}p=f.lastIndex}g>u.e.c&&(u.e.c=g)}),a["!ref"]=dt(u),a}function e(i,o){return Os(r(i,o),o)}function n(i){for(var o=["{\\rtf1\\ansi"],s=kt(i["!ref"]),a,l=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){o.push("\\trowd\\trautofit1");for(var c=s.s.c;c<=s.e.c;++c)o.push("\\cellx"+(c+1));for(o.push("\\pard\\intbl"),c=s.s.c;c<=s.e.c;++c){var d=Ue({r:u,c});a=l?(i[u]||[])[c]:i[d],!(!a||a.v==null&&(!a.f||a.F))&&(o.push(" "+(a.w||(Io(a),a.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:e,to_sheet:r,from_sheet:n}}();function gK(r){var t=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Rd(r){for(var t=0,e=1;t!=3;++t)e=e*256+(r[t]>255?255:r[t]<0?0:r[t]);return e.toString(16).toUpperCase().slice(1)}function vK(r){var t=r[0]/255,e=r[1]/255,n=r[2]/255,i=Math.max(t,e,n),o=Math.min(t,e,n),s=i-o;if(s===0)return[0,0,t];var a=0,l=0,u=i+o;switch(l=s/(u>1?2-u:u),i){case t:a=((e-n)/s+6)%6;break;case e:a=(n-t)/s+2;break;case n:a=(t-e)/s+4;break}return[a/6,l,u/2]}function mK(r){var t=r[0],e=r[1],n=r[2],i=e*2*(n<.5?n:1-n),o=n-i/2,s=[o,o,o],a=6*t,l;if(e!==0)switch(a|0){case 0:case 6:l=i*a,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-a),s[0]+=l,s[1]+=i;break;case 2:l=i*(a-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-a),s[1]+=l,s[2]+=i;break;case 4:l=i*(a-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-a),s[2]+=l,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function lg(r,t){if(t===0)return r;var e=vK(gK(r));return t<0?e[2]=e[2]*(1+t):e[2]=1-(1-e[2])*(1-t),Rd(mK(e))}var k1=6,yK=15,CK=1,zn=k1;function ug(r){return Math.floor((r+Math.round(128/zn)/256)*zn)}function cg(r){return Math.floor((r-5)/zn*100+.5)/100}function Nw(r){return Math.round((r*zn+5)/zn*256)/256}function xw(r){return Nw(cg(ug(r)))}function u_(r){var t=Math.abs(r-xw(r)),e=zn;if(t>.005)for(zn=CK;zn<yK;++zn)Math.abs(r-xw(r))<=t&&(t=Math.abs(r-xw(r)),e=zn);zn=e}function Jl(r){r.width?(r.wpx=ug(r.width),r.wch=cg(r.wpx),r.MDW=zn):r.wpx?(r.wch=cg(r.wpx),r.width=Nw(r.wch),r.MDW=zn):typeof r.wch=="number"&&(r.width=Nw(r.wch),r.wpx=ug(r.width),r.MDW=zn),r.customWidth&&delete r.customWidth}var wK=96,G1=wK;function V1(r){return r*96/G1}function Ad(r){return r*G1/96}var _K={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function SK(r,t,e,n){t.Borders=[];var i={},o=!1;(r[0].match(Ln)||[]).forEach(function(s){var a=Me(s);switch(so(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},a.diagonalUp&&(i.diagonalUp=Pt(a.diagonalUp)),a.diagonalDown&&(i.diagonalDown=Pt(a.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(n&&n.WTF&&!o)throw new Error("unrecognized "+a[0]+" in borders")}})}function EK(r,t,e,n){t.Fills=[];var i={},o=!1;(r[0].match(Ln)||[]).forEach(function(s){var a=Me(s);switch(so(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":a.patternType&&(i.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),a.indexed&&(i.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(i.bgColor.theme=parseInt(a.theme,10)),a.tint&&(i.bgColor.tint=parseFloat(a.tint)),a.rgb&&(i.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),a.theme&&(i.fgColor.theme=parseInt(a.theme,10)),a.tint&&(i.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(i.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(n&&n.WTF&&!o)throw new Error("unrecognized "+a[0]+" in fills")}})}function xK(r,t,e,n){t.Fonts=[];var i={},o=!1;(r[0].match(Ln)||[]).forEach(function(s){var a=Me(s);switch(so(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":a.val&&(i.name=Tt(a.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=a.val?Pt(a.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=a.val?Pt(a.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(a.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=a.val?Pt(a.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=a.val?Pt(a.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=a.val?Pt(a.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=a.val?Pt(a.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=a.val?Pt(a.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":a.val&&(i.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(i.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(i.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(i.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=Bw[parseInt(a.val,10)];break;case"<color":if(i.color||(i.color={}),a.auto&&(i.color.auto=Pt(a.auto)),a.rgb)i.color.rgb=a.rgb.slice(-6);else if(a.indexed){i.color.index=parseInt(a.indexed,10);var l=ba[i.color.index];i.color.index==81&&(l=ba[1]),l||(l=ba[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else a.theme&&(i.color.theme=parseInt(a.theme,10),a.tint&&(i.color.tint=parseFloat(a.tint)),a.theme&&e.themeElements&&e.themeElements.clrScheme&&(i.color.rgb=lg(e.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":o=!0;break;case"</AlternateContent>":o=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(n&&n.WTF&&!o)throw new Error("unrecognized "+a[0]+" in fonts")}})}function DK(r,t,e){t.NumberFmt=[];for(var n=oo($e),i=0;i<n.length;++i)t.NumberFmt[n[i]]=$e[n[i]];var o=r[0].match(Ln);if(o)for(i=0;i<o.length;++i){var s=Me(o[i]);switch(so(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=pt(Tt(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=a}Oa(a,l)}}break;case"</numFmt>":break;default:if(e.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Zh=["numFmtId","fillId","fontId","borderId","xfId"],Jh=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function TK(r,t,e){t.CellXf=[];var n,i=!1;(r[0].match(Ln)||[]).forEach(function(o){var s=Me(o),a=0;switch(so(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],a=0;a<Zh.length;++a)n[Zh[a]]&&(n[Zh[a]]=parseInt(n[Zh[a]],10));for(a=0;a<Jh.length;++a)n[Jh[a]]&&(n[Jh[a]]=Pt(n[Jh[a]]));if(t.NumberFmt&&n.numFmtId>392){for(a=392;a>60;--a)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[a]){n.numFmtId=a;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Pt(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(e&&e.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var RK=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,e=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,o=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,l,u){var c={};if(!a)return c;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=a.match(t))&&DK(d,c,u),(d=a.match(i))&&xK(d,c,l,u),(d=a.match(n))&&EK(d,c,l,u),(d=a.match(o))&&SK(d,c,l,u),(d=a.match(e))&&TK(d,c,u),c}}();function AK(r,t){var e=r.read_shift(2),n=Mn(r,t-2);return[e,n]}function OK(r,t,e){var n={};n.sz=r.read_shift(2)/20;var i=V$(r,2,e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var o=r.read_shift(2);switch(o===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=r.read_shift(1);s!=0&&(n.underline=s);var a=r.read_shift(1);a>0&&(n.family=a);var l=r.read_shift(1);switch(l>0&&(n.charset=l),r.l++,n.color=G$(r,8),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Mn(r,t-21),n}var bK=Nn;function FK(r,t){var e=r.l+t,n=r.read_shift(2),i=r.read_shift(2);return r.l=e,{ixfe:n,numFmtId:i}}var IK=Nn;function PK(r,t,e){var n={};n.NumberFmt=[];for(var i in $e)n.NumberFmt[i]=$e[i];n.CellXf=[],n.Fonts=[];var o=[],s=!1;return Po(r,function(l,u,c){switch(c){case 44:n.NumberFmt[l[0]]=l[1],Oa(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=lg(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:o[o.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:o.push(c),s=!0;break;case 38:o.pop(),s=!1;break;default:if(u.T>0)o.push(c);else if(u.T<0)o.pop();else if(!s||e.WTF&&o[o.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}var MK=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function NK(r,t,e){t.themeElements.clrScheme=[];var n={};(r[0].match(Ln)||[]).forEach(function(i){var o=Me(i);switch(o[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=o.val;break;case"<a:sysClr":n.rgb=o.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":o[0].charAt(1)==="/"?(t.themeElements.clrScheme[MK.indexOf(o[0])]=n,n={}):n.name=o[0].slice(3,o[0].length-1);break;default:if(e&&e.WTF)throw new Error("Unrecognized "+o[0]+" in clrScheme")}})}function LK(){}function kK(){}var GK=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,VK=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,HK=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function BK(r,t,e){t.themeElements={};var n;[["clrScheme",GK,NK],["fontScheme",VK,LK],["fmtScheme",HK,kK]].forEach(function(i){if(!(n=r.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,e)})}var jK=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function H1(r,t){(!r||r.length===0)&&(r=UK());var e,n={};if(!(e=r.match(jK)))throw new Error("themeElements not found in theme");return BK(e[0],n,t),n.raw=r,n}function UK(r,t){if(t&&t.themeXLSX)return t.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var e=[n1];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',e[e.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',e[e.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',e[e.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',e[e.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',e[e.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',e[e.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function WK(r,t,e){var n=r.l+t,i=r.read_shift(4);if(i!==124226){if(!e.cellStyles){r.l=n;return}var o=r.slice(r.l);r.l=n;var s;try{s=t1(o,{type:"array"})}catch{return}var a=Ir(s,"theme/theme/theme1.xml",!0);if(a)return H1(a,e)}}function zK(r){return r.read_shift(4)}function $K(r){var t={};switch(t.xclrType=r.read_shift(2),t.nTintShade=r.read_shift(2),t.xclrType){case 0:r.l+=4;break;case 1:t.xclrValue=KK(r,4);break;case 2:t.xclrValue=T1(r,4);break;case 3:t.xclrValue=zK(r,4);break;case 4:r.l+=4;break}return r.l+=8,t}function KK(r,t){return Nn(r,t)}function YK(r,t){return Nn(r,t)}function qK(r){var t=r.read_shift(2),e=r.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=$K(r,e);break;case 6:n[1]=YK(r,e);break;case 14:case 15:n[1]=r.read_shift(e===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+e)}return n}function XK(r,t){var e=r.l+t;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var i=r.read_shift(2),o=[];i-- >0;)o.push(qK(r,e-r.l));return{ixfe:n,ext:o}}function QK(r,t){t.forEach(function(e){switch(e[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function ZK(r,t){return{flags:r.read_shift(4),version:r.read_shift(4),name:Mn(r,t-8)}}function JK(r){for(var t=[],e=r.read_shift(4);e-- >0;)t.push([r.read_shift(4),r.read_shift(4)]);return t}function eY(r){return r.l+=4,r.read_shift(4)!=0}function tY(r,t,e){var n={Types:[],Cell:[],Value:[]},i=e||{},o=[],s=!1,a=2;return Po(r,function(l,u,c){switch(c){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(d){a==1?n.Cell.push({type:n.Types[d[0]-1].name,index:d[1]}):a==0&&n.Value.push({type:n.Types[d[0]-1].name,index:d[1]})});break;case 337:a=l?1:0;break;case 338:a=2;break;case 35:o.push(c),s=!0;break;case 36:o.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&o[o.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function nY(r,t,e){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var i=!1,o=2,s;return r.replace(Ln,function(a){var l=Me(a);switch(so(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":o==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):o==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":o=1;break;case"</cellMetadata>":o=2;break;case"<valueMetadata":o=0;break;case"</valueMetadata>":o=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&e.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return a}),n}function rY(r){var t=[];if(!r)return t;var e=1;return(r.match(Ln)||[]).forEach(function(n){var i=Me(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?e=i.i:i.i=e,t.push(i);break}}),t}function iY(r){var t={};t.i=r.read_shift(4);var e={};e.r=r.read_shift(4),e.c=r.read_shift(4),t.r=Ue(e);var n=r.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function oY(r,t,e){var n=[],i=!1;return Po(r,function(s,a,l){switch(l){case 63:n.push(s);break;default:if(!a.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),n}function sY(r,t,e,n){if(!r)return r;var i=n||{},o=!1,s=!1;Po(r,function(l,u,c){if(!s)switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:o=!0;break;case 36:o=!1;break;default:if(!u.T){if(!o||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function aY(r,t){if(!r)return"??";var e=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][e].Target}function yb(r,t,e,n){var i=Array.isArray(r),o;t.forEach(function(s){var a=$n(s.ref);if(i?(r[a.r]||(r[a.r]=[]),o=r[a.r][a.c]):o=r[s.ref],!o){o={t:"z"},i?r[a.r][a.c]=o:r[s.ref]=o;var l=kt(r["!ref"]||"BDWGO1000001:A1");l.s.r>a.r&&(l.s.r=a.r),l.e.r<a.r&&(l.e.r=a.r),l.s.c>a.c&&(l.s.c=a.c),l.e.c<a.c&&(l.e.c=a.c);var u=dt(l);u!==r["!ref"]&&(r["!ref"]=u)}o.c||(o.c=[]);var c={a:s.author,t:s.t,r:s.r,T:e};s.h&&(c.h=s.h);for(var d=o.c.length-1;d>=0;--d){if(!e&&o.c[d].T)return;e&&!o.c[d].T&&o.c.splice(d,1)}if(e&&n){for(d=0;d<n.length;++d)if(c.a==n[d].id){c.a=n[d].name||c.a;break}}o.c.push(c)})}function lY(r,t){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var e=[],n=[],i=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var a=s.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&e.push(a[1])}});var o=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return o&&o[1]&&o[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var a=s.match(/<(?:\w+:)?comment[^>]*>/);if(a){var l=Me(a[0]),u={author:l.authorId&&e[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},c=$n(l.ref);if(!(t.sheetRows&&t.sheetRows<=c.r)){var d=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),f=!!d&&!!d[1]&&l_(d[1])||{r:"",t:"",h:""};u.r=f.r,f.r=="<t></t>"&&(f.t=f.h=""),u.t=(f.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=f.h),n.push(u)}}}}),n}function uY(r,t){var e=[],n=!1,i={},o=0;return r.replace(Ln,function(a,l){var u=Me(a);switch(so(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&e.push(i);break;case"<text>":case"<text":o=l+a.length;break;case"</text>":i.t=r.slice(o,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return a}),e}function cY(r,t){var e=[],n=!1;return r.replace(Ln,function(o){var s=Me(o);switch(so(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":e.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return o}),e}function dY(r){var t={};t.iauthor=r.read_shift(4);var e=ka(r,16);return t.rfx=e.s,t.ref=Ue(e.s),r.l+=16,t}var fY=Mn;function pY(r,t){var e=[],n=[],i={},o=!1;return Po(r,function(a,l,u){switch(u){case 632:n.push(a);break;case 635:i=a;break;case 637:i.t=a.t,i.h=a.h,i.r=a.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,e.push(i);break;case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),e}var hY="application/vnd.ms-office.vbaProject";function gY(r){var t=ct.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(e,n){if(!(e.slice(-1)==="/"||!e.match(/_VBA_PROJECT_CUR/))){var i=e.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ct.utils.cfb_add(t,i,r.FileIndex[n].content)}}),ct.write(t)}function vY(){return{"!type":"dialog"}}function mY(){return{"!type":"dialog"}}function yY(){return{"!type":"macro"}}function CY(){return{"!type":"macro"}}var ql=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(n,i,o,s){var a=!1,l=!1;o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1)),s.length==0?a=!0:s.charAt(0)=="["&&(a=!0,s=s.slice(1,-1));var u=o.length>0?parseInt(o,10)|0:0,c=s.length>0?parseInt(s,10)|0:0;return a?c+=t.c:--c,l?u+=t.r:--u,i+(a?"":"$")+on(c)+(l?"":"$")+Sn(u)}return function(i,o){return t=o,i.replace(r,e)}}(),B1=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,wY=function(){return function(t,e){return t.replace(B1,function(n,i,o,s,a,l){var u=n_(s)-(o?0:e.c),c=t_(l)-(a?0:e.r),d=c==0?"":a?c+1:"["+c+"]",f=u==0?"":o?u+1:"["+u+"]";return i+"R"+d+"C"+f})}}();function j1(r,t){return r.replace(B1,function(e,n,i,o,s,a){return n+(i=="$"?i+o:on(n_(o)+t.c))+(s=="$"?s+a:Sn(t_(a)+t.r))})}function _Y(r,t,e){var n=nu(t),i=n.s,o=$n(e),s={r:o.r-i.r,c:o.c-i.c};return j1(r,s)}function SY(r){return r.length!=1}function Cb(r){return r.replace(/_xlfn\./g,"")}function Yt(r){r.l+=1}function As(r,t){var e=r.read_shift(t==1?1:2);return[e&16383,e>>14&1,e>>15&1]}function U1(r,t,e){var n=2;if(e){if(e.biff>=2&&e.biff<=5)return W1(r,t,e);e.biff==12&&(n=4)}var i=r.read_shift(n),o=r.read_shift(n),s=As(r,2),a=As(r,2);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:o,c:a[0],cRel:a[1],rRel:a[2]}}}function W1(r){var t=As(r,2),e=As(r,2),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:e[0],c:i,cRel:e[1],rRel:e[2]}}}function EY(r,t,e){if(e.biff<8)return W1(r,t,e);var n=r.read_shift(e.biff==12?4:2),i=r.read_shift(e.biff==12?4:2),o=As(r,2),s=As(r,2);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function z1(r,t,e){if(e&&e.biff>=2&&e.biff<=5)return xY(r,t,e);var n=r.read_shift(e&&e.biff==12?4:2),i=As(r,2);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function xY(r){var t=As(r,2),e=r.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function DY(r){var t=r.read_shift(2),e=r.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function TY(r,t,e){var n=e&&e.biff?e.biff:8;if(n>=2&&n<=5)return RY(r,t,e);var i=r.read_shift(n>=12?4:2),o=r.read_shift(2),s=(o&16384)>>14,a=(o&32768)>>15;if(o&=16383,a==1)for(;i>524287;)i-=1048576;if(s==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:s,rRel:a}}function RY(r){var t=r.read_shift(2),e=r.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:i,rRel:n}}function AY(r,t,e){var n=(r[r.l++]&96)>>5,i=U1(r,e.biff>=2&&e.biff<=5?6:8,e);return[n,i]}function OY(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),o=8;if(e)switch(e.biff){case 5:r.l+=12,o=6;break;case 12:o=12;break}var s=U1(r,o,e);return[n,i,s]}function bY(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e&&e.biff>8?12:e.biff<8?6:8,[n]}function FY(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),o=8;if(e)switch(e.biff){case 5:r.l+=12,o=6;break;case 12:o=12;break}return r.l+=o,[n,i]}function IY(r,t,e){var n=(r[r.l++]&96)>>5,i=EY(r,t-1,e);return[n,i]}function PY(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e.biff==2?6:e.biff==12?14:7,[n]}function wb(r){var t=r[r.l+1]&1,e=1;return r.l+=4,[t,e]}function MY(r,t,e){r.l+=2;for(var n=r.read_shift(e&&e.biff==2?1:2),i=[],o=0;o<=n;++o)i.push(r.read_shift(e&&e.biff==2?1:2));return i}function NY(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function LY(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function kY(r){var t=r[r.l+1]&255?1:0;return r.l+=2,[t,r.read_shift(2)]}function GY(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=e&&e.biff==2?3:4,[n]}function $1(r){var t=r.read_shift(1),e=r.read_shift(1);return[t,e]}function VY(r){return r.read_shift(2),$1(r,2)}function HY(r){return r.read_shift(2),$1(r,2)}function BY(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=z1(r,0,e);return[n,i]}function jY(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=TY(r,0,e);return[n,i]}function UY(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);e&&e.biff==5&&(r.l+=12);var o=z1(r,0,e);return[n,i,o]}function WY(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(e&&e.biff<=3?1:2);return[zq[i],q1[i],n]}function zY(r,t,e){var n=r[r.l++],i=r.read_shift(1),o=e&&e.biff<=3?[n==88?-1:0,r.read_shift(1)]:$Y(r);return[i,(o[0]===0?q1:Wq)[o[1]]]}function $Y(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function KY(r,t,e){r.l+=e&&e.biff==2?3:4}function YY(r,t,e){if(r.l++,e&&e.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function qY(r){return r.l++,Ga[r.read_shift(1)]}function XY(r){return r.l++,r.read_shift(2)}function QY(r){return r.l++,r.read_shift(1)!==0}function ZY(r){return r.l++,Fn(r,8)}function JY(r,t,e){return r.l++,Id(r,t-1,e)}function eq(r,t){var e=[r.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=Bt(r,1)?"TRUE":"FALSE",t!=12&&(r.l+=7);break;case 37:case 16:e[1]=Ga[r[r.l]],r.l+=t==12?4:8;break;case 0:r.l+=8;break;case 1:e[1]=Fn(r,8);break;case 2:e[1]=Va(r,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function tq(r,t,e){for(var n=r.read_shift(e.biff==12?4:2),i=[],o=0;o!=n;++o)i.push((e.biff==12?ka:hg)(r,8));return i}function nq(r,t,e){var n=0,i=0;e.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),e.biff>=2&&e.biff<8&&(--n,--i==0&&(i=256));for(var o=0,s=[];o!=n&&(s[o]=[]);++o)for(var a=0;a!=i;++a)s[o][a]=eq(r,e.biff);return s}function rq(r,t,e){var n=r.read_shift(1)>>>5&3,i=!e||e.biff>=8?4:2,o=r.read_shift(i);switch(e.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,o]}function iq(r,t,e){if(e.biff==5)return oq(r,t,e);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),o=r.read_shift(4);return[n,i,o]}function oq(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[t,e,n]}function sq(r,t,e){var n=r.read_shift(1)>>>5&3;r.l+=e&&e.biff==2?3:4;var i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function aq(r,t,e){var n=r.read_shift(1)>>>5&3,i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function lq(r,t,e){var n=r.read_shift(1)>>>5&3;return r.l+=4,e.biff<8&&r.l--,e.biff==12&&(r.l+=2),[n]}function uq(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),o=4;if(e)switch(e.biff){case 5:o=15;break;case 12:o=6;break}return r.l+=o,[n,i]}var cq=Nn,dq=Nn,fq=Nn;function Md(r,t,e){return r.l+=2,[DY(r,4,e)]}function c_(r){return r.l+=6,[]}var pq=Md,hq=c_,gq=c_,vq=Md;function K1(r){return r.l+=2,[Xt(r),r.read_shift(2)&1]}var mq=Md,yq=K1,Cq=c_,wq=Md,_q=Md,Sq=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Eq(r){r.l+=2;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),o=r.read_shift(2),s=Sq[e>>2&31];return{ixti:t,coltype:e&3,rt:s,idx:n,c:i,C:o}}function xq(r){return r.l+=2,[r.read_shift(4)]}function Dq(r,t,e){return r.l+=5,r.l+=2,r.l+=e.biff==2?1:4,["PTGSHEET"]}function Tq(r,t,e){return r.l+=e.biff==2?4:5,["PTGENDSHEET"]}function Rq(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function Aq(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function Oq(r){return r.l+=4,[0,0]}var _b={1:{n:"PtgExp",f:YY},2:{n:"PtgTbl",f:fq},3:{n:"PtgAdd",f:Yt},4:{n:"PtgSub",f:Yt},5:{n:"PtgMul",f:Yt},6:{n:"PtgDiv",f:Yt},7:{n:"PtgPower",f:Yt},8:{n:"PtgConcat",f:Yt},9:{n:"PtgLt",f:Yt},10:{n:"PtgLe",f:Yt},11:{n:"PtgEq",f:Yt},12:{n:"PtgGe",f:Yt},13:{n:"PtgGt",f:Yt},14:{n:"PtgNe",f:Yt},15:{n:"PtgIsect",f:Yt},16:{n:"PtgUnion",f:Yt},17:{n:"PtgRange",f:Yt},18:{n:"PtgUplus",f:Yt},19:{n:"PtgUminus",f:Yt},20:{n:"PtgPercent",f:Yt},21:{n:"PtgParen",f:Yt},22:{n:"PtgMissArg",f:Yt},23:{n:"PtgStr",f:JY},26:{n:"PtgSheet",f:Dq},27:{n:"PtgEndSheet",f:Tq},28:{n:"PtgErr",f:qY},29:{n:"PtgBool",f:QY},30:{n:"PtgInt",f:XY},31:{n:"PtgNum",f:ZY},32:{n:"PtgArray",f:PY},33:{n:"PtgFunc",f:WY},34:{n:"PtgFuncVar",f:zY},35:{n:"PtgName",f:rq},36:{n:"PtgRef",f:BY},37:{n:"PtgArea",f:AY},38:{n:"PtgMemArea",f:sq},39:{n:"PtgMemErr",f:cq},40:{n:"PtgMemNoMem",f:dq},41:{n:"PtgMemFunc",f:aq},42:{n:"PtgRefErr",f:lq},43:{n:"PtgAreaErr",f:bY},44:{n:"PtgRefN",f:jY},45:{n:"PtgAreaN",f:IY},46:{n:"PtgMemAreaN",f:Rq},47:{n:"PtgMemNoMemN",f:Aq},57:{n:"PtgNameX",f:iq},58:{n:"PtgRef3d",f:UY},59:{n:"PtgArea3d",f:OY},60:{n:"PtgRefErr3d",f:uq},61:{n:"PtgAreaErr3d",f:FY},255:{}},bq={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Fq={1:{n:"PtgElfLel",f:K1},2:{n:"PtgElfRw",f:wq},3:{n:"PtgElfCol",f:pq},6:{n:"PtgElfRwV",f:_q},7:{n:"PtgElfColV",f:vq},10:{n:"PtgElfRadical",f:mq},11:{n:"PtgElfRadicalS",f:Cq},13:{n:"PtgElfColS",f:hq},15:{n:"PtgElfColSV",f:gq},16:{n:"PtgElfRadicalLel",f:yq},25:{n:"PtgList",f:Eq},29:{n:"PtgSxName",f:xq},255:{}},Iq={0:{n:"PtgAttrNoop",f:Oq},1:{n:"PtgAttrSemi",f:GY},2:{n:"PtgAttrIf",f:LY},4:{n:"PtgAttrChoose",f:MY},8:{n:"PtgAttrGoto",f:NY},16:{n:"PtgAttrSum",f:KY},32:{n:"PtgAttrBaxcel",f:wb},33:{n:"PtgAttrBaxcel",f:wb},64:{n:"PtgAttrSpace",f:VY},65:{n:"PtgAttrSpaceSemi",f:HY},128:{n:"PtgAttrIfError",f:kY},255:{}};function Nd(r,t,e,n){if(n.biff<8)return Nn(r,t);for(var i=r.l+t,o=[],s=0;s!==e.length;++s)switch(e[s][0]){case"PtgArray":e[s][1]=nq(r,0,n),o.push(e[s][1]);break;case"PtgMemArea":e[s][2]=tq(r,e[s][1],n),o.push(e[s][2]);break;case"PtgExp":n&&n.biff==12&&(e[s][1][1]=r.read_shift(4),o.push(e[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[s][0];default:break}return t=i-r.l,t!==0&&o.push(Nn(r,t)),o}function Ld(r,t,e){for(var n=r.l+t,i,o,s=[];n!=r.l;)t=n-r.l,o=r[r.l],i=_b[o]||_b[bq[o]],(o===24||o===25)&&(i=(o===24?Fq:Iq)[r[r.l+1]]),!i||!i.f?Nn(r,t):s.push([i.n,i.f(r,t,e)]);return s}function Pq(r){for(var t=[],e=0;e<r.length;++e){for(var n=r[e],i=[],o=0;o<n.length;++o){var s=n[o];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var Mq={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Nq(r,t){if(!r&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function Y1(r,t,e){if(!r)return"SH33TJSERR0";if(e.biff>8&&(!r.XTI||!r.XTI[t]))return r.SheetNames[t];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":r.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(e.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return e.SID!=null?r.SheetNames[e.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Sb(r,t,e){var n=Y1(r,t,e);return n=="#REF"?n:Nq(n,e)}function bn(r,t,e,n,i){var o=i&&i.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},a=[],l,u,c,d=0,f=0,p,h="";if(!r[0]||!r[0][0])return"";for(var g=-1,v="",m=0,C=r[0].length;m<C;++m){var y=r[0][m];switch(y[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),u=a.pop(),g>=0){switch(r[0][g][1][0]){case 0:v=Lt(" ",r[0][g][1][1]);break;case 1:v=Lt("\r",r[0][g][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}u=u+v,g=-1}a.push(u+Mq[y[0]]+l);break;case"PtgIsect":l=a.pop(),u=a.pop(),a.push(u+" "+l);break;case"PtgUnion":l=a.pop(),u=a.pop(),a.push(u+","+l);break;case"PtgRange":l=a.pop(),u=a.pop(),a.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=gd(y[1][1],s,i),a.push(vd(c,o));break;case"PtgRefN":c=e?gd(y[1][1],e,i):y[1][1],a.push(vd(c,o));break;case"PtgRef3d":d=y[1][1],c=gd(y[1][2],s,i),h=Sb(n,d,i);var x=h;a.push(h+"!"+vd(c,o));break;case"PtgFunc":case"PtgFuncVar":var P=y[1][0],R=y[1][1];P||(P=0),P&=127;var E=P==0?[]:a.slice(-P);a.length-=P,R==="User"&&(R=E.shift()),a.push(R+"("+E.join(",")+")");break;case"PtgBool":a.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(y[1]);break;case"PtgNum":a.push(String(y[1]));break;case"PtgStr":a.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(y[1]);break;case"PtgAreaN":p=nb(y[1][1],e?{s:e}:s,i),a.push(Sw(p,i));break;case"PtgArea":p=nb(y[1][1],s,i),a.push(Sw(p,i));break;case"PtgArea3d":d=y[1][1],p=y[1][2],h=Sb(n,d,i),a.push(h+"!"+Sw(p,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=y[1][2];var O=(n.names||[])[f-1]||(n[0]||[])[f],I=O?O.Name:"SH33TJSNAME"+String(f);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),a.push(I);break;case"PtgNameX":var k=y[1][1];f=y[1][2];var G;if(i.biff<=5)k<0&&(k=-k),n[k]&&(G=n[k][f]);else{var L="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][f]&&n[k][f].itab>0&&(L=n.SheetNames[n[k][f].itab-1]+"!"):L=n.SheetNames[f-1]+"!"),n[k]&&n[k][f])L+=n[k][f].Name;else if(n[0]&&n[0][f])L+=n[0][f].Name;else{var ee=(Y1(n,k,i)||"").split(";;");ee[f-1]?L=ee[f-1]:L+="SH33TJSERRX"}a.push(L);break}G||(G={Name:"SH33TJSERRY"}),a.push(G.Name);break;case"PtgParen":var de="(",te=")";if(g>=0){switch(v="",r[0][g][1][0]){case 2:de=Lt(" ",r[0][g][1][1])+de;break;case 3:de=Lt("\r",r[0][g][1][1])+de;break;case 4:te=Lt(" ",r[0][g][1][1])+te;break;case 5:te=Lt("\r",r[0][g][1][1])+te;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}g=-1}a.push(de+a.pop()+te);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":c={c:y[1][1],r:y[1][0]};var Ce={c:e.c,r:e.r};if(n.sharedf[Ue(c)]){var se=n.sharedf[Ue(c)];a.push(bn(se,s,Ce,n,i))}else{var Fe=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){a.push(bn(u[1],s,Ce,n,i)),Fe=!0;break}Fe||a.push(y[1])}break;case"PtgArray":a.push("{"+Pq(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var le=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&le.indexOf(r[0][m][0])==-1){y=r[0][g];var _e=!0;switch(y[1][0]){case 4:_e=!1;case 0:v=Lt(" ",y[1][1]);break;case 5:_e=!1;case 1:v=Lt("\r",y[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}a.push((_e?v:"")+a.pop()+(_e?"":v)),g=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function Lq(r,t,e){var n=r.l+t,i=e.biff==2?1:2,o,s=r.read_shift(i);if(s==65535)return[[],Nn(r,t-2)];var a=Ld(r,s,e);return t!==s+i&&(o=Nd(r,t-s-i,a,e)),r.l=n,[a,o]}function kq(r,t,e){var n=r.l+t,i=e.biff==2?1:2,o,s=r.read_shift(i);if(s==65535)return[[],Nn(r,t-2)];var a=Ld(r,s,e);return t!==s+i&&(o=Nd(r,t-s-i,a,e)),r.l=n,[a,o]}function Gq(r,t,e,n){var i=r.l+t,o=Ld(r,n,e),s;return i!==r.l&&(s=Nd(r,i-r.l,o,e)),[o,s]}function Vq(r,t,e){var n=r.l+t,i,o=r.read_shift(2),s=Ld(r,o,e);return o==65535?[[],Nn(r,t-2)]:(t!==o+2&&(i=Nd(r,n-o-2,s,e)),[s,i])}function Hq(r){var t;if(Oo(r,r.l+6)!==65535)return[Fn(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return t=r[r.l+2]===1,r.l+=8,[t,"b"];case 2:return t=r[r.l+2],r.l+=8,[t,"e"];case 3:return r.l+=8,["","s"]}return[]}function Dw(r,t,e){var n=r.l+t,i=ao(r,6);e.biff==2&&++r.l;var o=Hq(r,8),s=r.read_shift(1);e.biff!=2&&(r.read_shift(1),e.biff>=5&&r.read_shift(4));var a=kq(r,n-r.l,e);return{cell:i,val:o[0],formula:a,shared:s>>3&1,tt:o[1]}}function gg(r,t,e){var n=r.read_shift(4),i=Ld(r,n,e),o=r.read_shift(4),s=o>0?Nd(r,o,i,e):null;return[i,s]}var Bq=gg,vg=gg,jq=gg,Uq=gg,Wq={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},q1={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},zq={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Eb(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,e){return e.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function Tw(r){var t=r.split(":"),e=t[0].split(".")[0];return[e,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var wd={},Xl={};function _d(r,t){if(r){var e=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(e=[1,1,1,1,.5,.5]),r.left==null&&(r.left=e[0]),r.right==null&&(r.right=e[1]),r.top==null&&(r.top=e[2]),r.bottom==null&&(r.bottom=e[3]),r.header==null&&(r.header=e[4]),r.footer==null&&(r.footer=e[5])}}function X1(r,t,e,n,i,o){try{n.cellNF&&(r.z=$e[t])}catch(a){if(n.WTF)throw a}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=gn(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if($e[t]==null&&Oa($z[t]||"General",t),r.t==="e")r.w=r.w||Ga[r.v];else if(t===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Ed(r.v);else if(r.t==="d"){var s=Kn(r.v);(s|0)===s?r.w=s.toString(10):r.w=Ed(s)}else{if(r.v===void 0)return"";r.w=Fa(r.v,Xl)}else r.t==="d"?r.w=ei(t,Kn(r.v),Xl):r.w=ei(t,r.v,Xl)}catch(a){if(n.WTF)throw a}if(n.cellStyles&&e!=null)try{r.s=o.Fills[e],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=lg(i.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=i.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=lg(i.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=i.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(a){if(n.WTF&&o.Fills)throw a}}}function $q(r,t){var e=kt(t);e.s.r<=e.e.r&&e.s.c<=e.e.c&&e.s.r>=0&&e.s.c>=0&&(r["!ref"]=dt(e))}var Kq=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Yq=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,qq=/<(?:\w:)?hyperlink [^>]*>/mg,Xq=/"(\w*:\w*)"/,Qq=/<(?:\w:)?col\b[^>]*[\/]?>/g,Zq=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Jq=/<(?:\w:)?pageMargins[^>]*\/>/g,Q1=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,eX=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,tX=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function nX(r,t,e,n,i,o,s){if(!r)return r;n||(n={"!id":{}}),Zt!=null&&t.dense==null&&(t.dense=Zt);var a=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",c="",d=r.match(Yq);d?(u=r.slice(0,d.index),c=r.slice(d.index+d[0].length)):u=c=r;var f=u.match(Q1);f?d_(f[0],a,i,e):(f=u.match(eX))&&rX(f[0],f[1]||"",a,i,e,s,o);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var h=u.slice(p,p+50).match(Xq);h&&$q(a,h[1])}var g=u.match(tX);g&&g[1]&&uX(g[1],i);var v=[];if(t.cellStyles){var m=u.match(Qq);m&&sX(v,m)}d&&cX(d[1],a,t,l,o,s);var C=c.match(Zq);C&&(a["!autofilter"]=aX(C[0]));var y=[],x=c.match(Kq);if(x)for(p=0;p!=x.length;++p)y[p]=kt(x[p].slice(x[p].indexOf('"')+1));var P=c.match(qq);P&&iX(a,P,n);var R=c.match(Jq);if(R&&(a["!margins"]=oX(Me(R[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=dt(l)),t.sheetRows>0&&a["!ref"]){var E=kt(a["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),a["!fullref"]=a["!ref"],a["!ref"]=dt(E))}return v.length>0&&(a["!cols"]=v),y.length>0&&(a["!merges"]=y),a}function d_(r,t,e,n){var i=Me(r);e.Sheets[n]||(e.Sheets[n]={}),i.codeName&&(e.Sheets[n].CodeName=pt(Tt(i.codeName)))}function rX(r,t,e,n,i){d_(r.slice(0,r.indexOf(">")),e,n,i)}function iX(r,t,e){for(var n=Array.isArray(r),i=0;i!=t.length;++i){var o=Me(Tt(t[i]),!0);if(!o.ref)return;var s=((e||{})["!id"]||[])[o.id];s?(o.Target=s.Target,o.location&&(o.Target+="#"+pt(o.location))):(o.Target="#"+pt(o.location),s={Target:o.Target,TargetMode:"Internal"}),o.Rel=s,o.tooltip&&(o.Tooltip=o.tooltip,delete o.tooltip);for(var a=kt(o.ref),l=a.s.r;l<=a.e.r;++l)for(var u=a.s.c;u<=a.e.c;++u){var c=Ue({c:u,r:l});n?(r[l]||(r[l]=[]),r[l][u]||(r[l][u]={t:"z",v:void 0}),r[l][u].l=o):(r[c]||(r[c]={t:"z",v:void 0}),r[c].l=o)}}}function oX(r){var t={};return["left","right","top","bottom","header","footer"].forEach(function(e){r[e]&&(t[e]=parseFloat(r[e]))}),t}function sX(r,t){for(var e=!1,n=0;n!=t.length;++n){var i=Me(t[n],!0);i.hidden&&(i.hidden=Pt(i.hidden));var o=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!e&&i.width&&(e=!0,u_(i.width)),Jl(i);o<=s;)r[o++]=_n(i)}}function aX(r){var t={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return t}var lX=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function uX(r,t){t.Views||(t.Views=[{}]),(r.match(lX)||[]).forEach(function(e,n){var i=Me(e);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),Pt(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var cX=function(){var r=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,e=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,o=xd("v"),s=xd("f");return function(l,u,c,d,f,p){for(var h=0,g="",v=[],m=[],C=0,y=0,x=0,P="",R,E,O=0,I=0,k,G,L=0,ee=0,de=Array.isArray(p.CellXf),te,Ce=[],se=[],Fe=Array.isArray(u),le=[],_e={},Z=!1,M=!!c.sheetStubs,U=l.split(t),H=0,V=U.length;H!=V;++H){g=U[H].trim();var J=g.length;if(J!==0){var Se=0;e:for(h=0;h<J;++h)switch(g[h]){case">":if(g[h-1]!="/"){++h;break e}if(c&&c.cellStyles){if(E=Me(g.slice(Se,h),!0),O=E.r!=null?parseInt(E.r,10):O+1,I=-1,c.sheetRows&&c.sheetRows<O)continue;_e={},Z=!1,E.ht&&(Z=!0,_e.hpt=parseFloat(E.ht),_e.hpx=Ad(_e.hpt)),E.hidden=="1"&&(Z=!0,_e.hidden=!0),E.outlineLevel!=null&&(Z=!0,_e.level=+E.outlineLevel),Z&&(le[O-1]=_e)}break;case"<":Se=h;break}if(Se>=h)break;if(E=Me(g.slice(Se,h),!0),O=E.r!=null?parseInt(E.r,10):O+1,I=-1,!(c.sheetRows&&c.sheetRows<O)){d.s.r>O-1&&(d.s.r=O-1),d.e.r<O-1&&(d.e.r=O-1),c&&c.cellStyles&&(_e={},Z=!1,E.ht&&(Z=!0,_e.hpt=parseFloat(E.ht),_e.hpx=Ad(_e.hpt)),E.hidden=="1"&&(Z=!0,_e.hidden=!0),E.outlineLevel!=null&&(Z=!0,_e.level=+E.outlineLevel),Z&&(le[O-1]=_e)),v=g.slice(h).split(r);for(var he=0;he!=v.length&&v[he].trim().charAt(0)=="<";++he);for(v=v.slice(he),h=0;h!=v.length;++h)if(g=v[h].trim(),g.length!==0){if(m=g.match(e),C=h,y=0,x=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,m!=null&&m.length===2){for(C=0,P=m[1],y=0;y!=P.length&&!((x=P.charCodeAt(y)-64)<1||x>26);++y)C=26*C+x;--C,I=C}else++I;for(y=0;y!=g.length&&g.charCodeAt(y)!==62;++y);if(++y,E=Me(g.slice(0,y),!0),E.r||(E.r=Ue({r:O-1,c:I})),P=g.slice(y),R={t:""},(m=P.match(o))!=null&&m[1]!==""&&(R.v=pt(m[1])),c.cellFormula){if((m=P.match(s))!=null&&m[1]!==""){if(R.f=pt(Tt(m[1])).replace(/\r\n/g,`
`),c.xlfn||(R.f=Cb(R.f)),m[0].indexOf('t="array"')>-1)R.F=(P.match(i)||[])[1],R.F.indexOf(":")>-1&&Ce.push([kt(R.F),R.F]);else if(m[0].indexOf('t="shared"')>-1){G=Me(m[0]);var we=pt(Tt(m[1]));c.xlfn||(we=Cb(we)),se[parseInt(G.si,10)]=[G,we,E.r]}}else(m=P.match(/<f[^>]*\/>/))&&(G=Me(m[0]),se[G.si]&&(R.f=_Y(se[G.si][1],se[G.si][2],E.r)));var ie=$n(E.r);for(y=0;y<Ce.length;++y)ie.r>=Ce[y][0].s.r&&ie.r<=Ce[y][0].e.r&&ie.c>=Ce[y][0].s.c&&ie.c<=Ce[y][0].e.c&&(R.F=Ce[y][1])}if(E.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(M)R.t="z";else continue;else R.t=E.t||"n";switch(d.s.c>I&&(d.s.c=I),d.e.c<I&&(d.e.c=I),R.t){case"n":if(R.v==""||R.v==null){if(!M)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!M)continue;R.t="z"}else k=wd[parseInt(R.v,10)],R.v=k.t,R.r=k.r,c.cellHTML&&(R.h=k.h);break;case"str":R.t="s",R.v=R.v!=null?Tt(R.v):"",c.cellHTML&&(R.h=Yw(R.v));break;case"inlineStr":m=P.match(n),R.t="s",m!=null&&(k=l_(m[1]))?(R.v=k.t,c.cellHTML&&(R.h=k.h)):R.v="";break;case"b":R.v=Pt(R.v);break;case"d":c.cellDates?R.v=gn(R.v,1):(R.v=Kn(gn(R.v,1)),R.t="n");break;case"e":(!c||c.cellText!==!1)&&(R.w=R.v),R.v=y1[R.v];break}if(L=ee=0,te=null,de&&E.s!==void 0&&(te=p.CellXf[E.s],te!=null&&(te.numFmtId!=null&&(L=te.numFmtId),c.cellStyles&&te.fillId!=null&&(ee=te.fillId))),X1(R,L,ee,c,f,p),c.cellDates&&de&&R.t=="n"&&eu($e[L])&&(R.t="d",R.v=fg(R.v)),E.cm&&c.xlmeta){var st=(c.xlmeta.Cell||[])[+E.cm-1];st&&st.type=="XLDAPR"&&(R.D=!0)}if(Fe){var N=$n(E.r);u[N.r]||(u[N.r]=[]),u[N.r][N.c]=R}else u[E.r]=R}}}}le.length>0&&(u["!rows"]=le)}}();function dX(r,t){var e={},n=r.l+t;e.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var o=r.read_shift(1);return r.l=n,o&7&&(e.level=o&7),o&16&&(e.hidden=!0),o&32&&(e.hpt=i/20),e}var fX=ka;function pX(){}function hX(r,t){var e={},n=r[r.l];return++r.l,e.above=!(n&64),e.left=!(n&128),r.l+=18,e.name=L$(r,t-19),e}function gX(r){var t=ti(r);return[t]}function vX(r){var t=La(r);return[t]}function mX(r){var t=ti(r),e=r.read_shift(1);return[t,e,"b"]}function yX(r){var t=La(r),e=r.read_shift(1);return[t,e,"b"]}function CX(r){var t=ti(r),e=r.read_shift(1);return[t,e,"e"]}function wX(r){var t=La(r),e=r.read_shift(1);return[t,e,"e"]}function _X(r){var t=ti(r),e=r.read_shift(4);return[t,e,"s"]}function SX(r){var t=La(r),e=r.read_shift(4);return[t,e,"s"]}function EX(r){var t=ti(r),e=Fn(r);return[t,e,"n"]}function Z1(r){var t=La(r),e=Fn(r);return[t,e,"n"]}function xX(r){var t=ti(r),e=o_(r);return[t,e,"n"]}function DX(r){var t=La(r),e=o_(r);return[t,e,"n"]}function TX(r){var t=ti(r),e=r_(r);return[t,e,"is"]}function RX(r){var t=ti(r),e=Mn(r);return[t,e,"str"]}function AX(r){var t=La(r),e=Mn(r);return[t,e,"str"]}function OX(r,t,e){var n=r.l+t,i=ti(r);i.r=e["!row"];var o=r.read_shift(1),s=[i,o,"b"];if(e.cellFormula){r.l+=2;var a=vg(r,n-r.l,e);s[3]=bn(a,null,i,e.supbooks,e)}else r.l=n;return s}function bX(r,t,e){var n=r.l+t,i=ti(r);i.r=e["!row"];var o=r.read_shift(1),s=[i,o,"e"];if(e.cellFormula){r.l+=2;var a=vg(r,n-r.l,e);s[3]=bn(a,null,i,e.supbooks,e)}else r.l=n;return s}function FX(r,t,e){var n=r.l+t,i=ti(r);i.r=e["!row"];var o=Fn(r),s=[i,o,"n"];if(e.cellFormula){r.l+=2;var a=vg(r,n-r.l,e);s[3]=bn(a,null,i,e.supbooks,e)}else r.l=n;return s}function IX(r,t,e){var n=r.l+t,i=ti(r);i.r=e["!row"];var o=Mn(r),s=[i,o,"str"];if(e.cellFormula){r.l+=2;var a=vg(r,n-r.l,e);s[3]=bn(a,null,i,e.supbooks,e)}else r.l=n;return s}var PX=ka;function MX(r,t){var e=r.l+t,n=ka(r,16),i=i_(r),o=Mn(r),s=Mn(r),a=Mn(r);r.l=e;var l={rfx:n,relId:i,loc:o,display:a};return s&&(l.Tooltip=s),l}function NX(){}function LX(r,t,e){var n=r.l+t,i=g1(r,16),o=r.read_shift(1),s=[i];if(s[2]=o,e.cellFormula){var a=Bq(r,n-r.l,e);s[1]=a}else r.l=n;return s}function kX(r,t,e){var n=r.l+t,i=ka(r,16),o=[i];if(e.cellFormula){var s=Uq(r,n-r.l,e);o[1]=s,r.l=n}else r.l=n;return o}var GX=["left","right","top","bottom","header","footer"];function VX(r){var t={};return GX.forEach(function(e){t[e]=Fn(r,8)}),t}function HX(r){var t=r.read_shift(2);return r.l+=28,{RTL:t&32}}function BX(){}function jX(){}function UX(r,t,e,n,i,o,s){if(!r)return r;var a=t||{};n||(n={"!id":{}}),Zt!=null&&a.dense==null&&(a.dense=Zt);var l=a.dense?[]:{},u,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=[],f=!1,p=!1,h,g,v,m,C,y,x,P,R,E=[];a.biff=12,a["!row"]=0;var O=0,I=!1,k=[],G={},L=a.supbooks||i.supbooks||[[]];if(L.sharedf=G,L.arrayf=k,L.SheetNames=i.SheetNames||i.Sheets.map(function(_e){return _e.name}),!a.supbooks&&(a.supbooks=L,i.Names))for(var ee=0;ee<i.Names.length;++ee)L[0][ee+1]=i.Names[ee];var de=[],te=[],Ce=!1;dg[16]={n:"BrtShortReal",f:Z1};var se,Fe;if(Po(r,function(Z,M,U){if(!p)switch(U){case 148:u=Z;break;case 0:h=Z,a.sheetRows&&a.sheetRows<=h.r&&(p=!0),P=Sn(m=h.r),a["!row"]=h.r,(Z.hidden||Z.hpt||Z.level!=null)&&(Z.hpt&&(Z.hpx=Ad(Z.hpt)),te[Z.r]=Z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:Z[2]},Z[2]){case"n":g.v=Z[1];break;case"s":x=wd[Z[1]],g.v=x.t,g.r=x.r;break;case"b":g.v=!!Z[1];break;case"e":g.v=Z[1],a.cellText!==!1&&(g.w=Ga[g.v]);break;case"str":g.t="s",g.v=Z[1];break;case"is":g.t="s",g.v=Z[1].t;break}if((v=s.CellXf[Z[0].iStyleRef])&&X1(g,v.numFmtId,null,a,o,s),C=Z[0].c==-1?C+1:Z[0].c,a.dense?(l[m]||(l[m]=[]),l[m][C]=g):l[on(C)+P]=g,a.cellFormula){for(I=!1,O=0;O<k.length;++O){var H=k[O];h.r>=H[0].s.r&&h.r<=H[0].e.r&&C>=H[0].s.c&&C<=H[0].e.c&&(g.F=dt(H[0]),I=!0)}!I&&Z.length>3&&(g.f=Z[3])}if(c.s.r>h.r&&(c.s.r=h.r),c.s.c>C&&(c.s.c=C),c.e.r<h.r&&(c.e.r=h.r),c.e.c<C&&(c.e.c=C),a.cellDates&&v&&g.t=="n"&&eu($e[v.numFmtId])){var V=Aa(g.v);V&&(g.t="d",g.v=new Date(V.y,V.m-1,V.d,V.H,V.M,V.S,V.u))}se&&(se.type=="XLDAPR"&&(g.D=!0),se=void 0),Fe&&(Fe=void 0);break;case 1:case 12:if(!a.sheetStubs||f)break;g={t:"z",v:void 0},C=Z[0].c==-1?C+1:Z[0].c,a.dense?(l[m]||(l[m]=[]),l[m][C]=g):l[on(C)+P]=g,c.s.r>h.r&&(c.s.r=h.r),c.s.c>C&&(c.s.c=C),c.e.r<h.r&&(c.e.r=h.r),c.e.c<C&&(c.e.c=C),se&&(se.type=="XLDAPR"&&(g.D=!0),se=void 0),Fe&&(Fe=void 0);break;case 176:E.push(Z);break;case 49:se=((a.xlmeta||{}).Cell||[])[Z-1];break;case 494:var J=n["!id"][Z.relId];for(J?(Z.Target=J.Target,Z.loc&&(Z.Target+="#"+Z.loc),Z.Rel=J):Z.relId==""&&(Z.Target="#"+Z.loc),m=Z.rfx.s.r;m<=Z.rfx.e.r;++m)for(C=Z.rfx.s.c;C<=Z.rfx.e.c;++C)a.dense?(l[m]||(l[m]=[]),l[m][C]||(l[m][C]={t:"z",v:void 0}),l[m][C].l=Z):(y=Ue({c:C,r:m}),l[y]||(l[y]={t:"z",v:void 0}),l[y].l=Z);break;case 426:if(!a.cellFormula)break;k.push(Z),R=a.dense?l[m][C]:l[on(C)+P],R.f=bn(Z[1],c,{r:h.r,c:C},L,a),R.F=dt(Z[0]);break;case 427:if(!a.cellFormula)break;G[Ue(Z[0].s)]=Z[1],R=a.dense?l[m][C]:l[on(C)+P],R.f=bn(Z[1],c,{r:h.r,c:C},L,a);break;case 60:if(!a.cellStyles)break;for(;Z.e>=Z.s;)de[Z.e--]={width:Z.w/256,hidden:!!(Z.flags&1),level:Z.level},Ce||(Ce=!0,u_(Z.w/256)),Jl(de[Z.e+1]);break;case 161:l["!autofilter"]={ref:dt(Z)};break;case 476:l["!margins"]=Z;break;case 147:i.Sheets[e]||(i.Sheets[e]={}),Z.name&&(i.Sheets[e].CodeName=Z.name),(Z.above||Z.left)&&(l["!outline"]={above:Z.above,left:Z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:d.push(U),f=!0;break;case 38:d.pop(),f=!1;break;default:if(!M.T){if(!f||a.WTF)throw new Error("Unexpected record 0x"+U.toString(16))}}},a),delete a.supbooks,delete a["!row"],!l["!ref"]&&(c.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=dt(u||c)),a.sheetRows&&l["!ref"]){var le=kt(l["!ref"]);a.sheetRows<=+le.e.r&&(le.e.r=a.sheetRows-1,le.e.r>c.e.r&&(le.e.r=c.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>c.e.c&&(le.e.c=c.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),l["!fullref"]=l["!ref"],l["!ref"]=dt(le))}return E.length>0&&(l["!merges"]=E),de.length>0&&(l["!cols"]=de),te.length>0&&(l["!rows"]=te),l}function WX(r){var t=[],e=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(o){var s=o.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=e?+s[2]:s[2])});var i=pt((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(o){n=o.replace(/<.*?>/g,"")}),[t,i,n]}function zX(r,t,e,n,i,o){var s=o||{"!type":"chart"};if(!r)return o;var a=0,l=0,u="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var f=WX(d);c.s.r=c.s.c=0,c.e.c=a,u=on(a),f[0].forEach(function(p,h){s[u+Sn(h)]={t:"n",v:p,z:f[1]},l=h}),c.e.r<l&&(c.e.r=l),++a}),a>0&&(s["!ref"]=dt(c)),s}function $X(r,t,e,n,i){if(!r)return r;n||(n={"!id":{}});var o={"!type":"chart","!drawel":null,"!rel":""},s,a=r.match(Q1);return a&&d_(a[0],o,i,e),(s=r.match(/drawing r:id="(.*?)"/))&&(o["!rel"]=s[1]),n["!id"][o["!rel"]]&&(o["!drawel"]=n["!id"][o["!rel"]]),o}function KX(r,t){r.l+=10;var e=Mn(r,t-10);return{name:e}}function YX(r,t,e,n,i){if(!r)return r;n||(n={"!id":{}});var o={"!type":"chart","!drawel":null,"!rel":""},s=[],a=!1;return Po(r,function(u,c,d){switch(d){case 550:o["!rel"]=u;break;case 651:i.Sheets[e]||(i.Sheets[e]={}),u.name&&(i.Sheets[e].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(d);break;case 38:s.pop();break;default:if(c.T>0)s.push(d);else if(c.T<0)s.pop();else if(!a||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}},t),n["!id"][o["!rel"]]&&(o["!drawel"]=n["!id"][o["!rel"]]),o}var J1=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],qX=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],XX=[],QX=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function xb(r,t){for(var e=0;e!=r.length;++e)for(var n=r[e],i=0;i!=t.length;++i){var o=t[i];if(n[o[0]]==null)n[o[0]]=o[1];else switch(o[2]){case"bool":typeof n[o[0]]=="string"&&(n[o[0]]=Pt(n[o[0]]));break;case"int":typeof n[o[0]]=="string"&&(n[o[0]]=parseInt(n[o[0]],10));break}}}function Db(r,t){for(var e=0;e!=t.length;++e){var n=t[e];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=Pt(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function eF(r){Db(r.WBProps,J1),Db(r.CalcPr,QX),xb(r.WBView,qX),xb(r.Sheets,XX),Xl.date1904=Pt(r.WBProps.date1904)}var ZX="][*?/\\".split("");function JX(r,t){if(r.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var e=!0;return ZX.forEach(function(n){if(r.indexOf(n)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");e=!1}}),e}var eQ=/<\w+:workbook/;function tQ(r,t){if(!r)throw new Error("Could not find file");var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",o={},s=0;if(r.replace(Ln,function(l,u){var c=Me(l);switch(so(c[0])){case"<?xml":break;case"<workbook":l.match(eQ)&&(i="xmlns"+l.match(/<(\w+):/)[1]),e.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],e.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":J1.forEach(function(d){if(c[d[0]]!=null)switch(d[2]){case"bool":e.WBProps[d[0]]=Pt(c[d[0]]);break;case"int":e.WBProps[d[0]]=parseInt(c[d[0]],10);break;default:e.WBProps[d[0]]=c[d[0]]}}),c.codeName&&(e.WBProps.CodeName=Tt(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],e.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=pt(Tt(c.name)),delete c[0],e.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":o={},o.Name=Tt(c.name),c.comment&&(o.Comment=c.comment),c.localSheetId&&(o.Sheet=+c.localSheetId),Pt(c.hidden||"0")&&(o.Hidden=!0),s=u+l.length;break;case"</definedName>":o.Ref=pt(Tt(r.slice(s,u))),e.Names.push(o);break;case"<definedName/>":break;case"<calcPr":delete c[0],e.CalcPr=c;break;case"<calcPr/>":delete c[0],e.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return l}),y$.indexOf(e.xmlns)===-1)throw new Error("Unknown Namespace: "+e.xmlns);return eF(e),e}function nQ(r,t){var e={};return e.Hidden=r.read_shift(4),e.iTabID=r.read_shift(4),e.strRelID=Iw(r,t-8),e.name=Mn(r),e}function rQ(r,t){var e={},n=r.read_shift(4);e.defaultThemeVersion=r.read_shift(4);var i=t>8?Mn(r):"";return i.length>0&&(e.CodeName=i),e.autoCompressPictures=!!(n&65536),e.backupFile=!!(n&64),e.checkCompatibility=!!(n&4096),e.date1904=!!(n&1),e.filterPrivacy=!!(n&8),e.hidePivotFieldList=!!(n&1024),e.promptedSolutions=!!(n&16),e.publishItems=!!(n&2048),e.refreshAllConnections=!!(n&262144),e.saveExternalLinkValues=!!(n&128),e.showBorderUnselectedTables=!!(n&4),e.showInkAnnotation=!!(n&32),e.showObjects=["all","placeholders","none"][n>>13&3],e.showPivotChartFilter=!!(n&32768),e.updateLinks=["userSet","never","always"][n>>8&3],e}function iQ(r,t){var e={};return r.read_shift(4),e.ArchID=r.read_shift(4),r.l+=t-8,e}function oQ(r,t,e){var n=r.l+t;r.l+=4,r.l+=1;var i=r.read_shift(4),o=k$(r),s=jq(r,0,e),a=i_(r);r.l=n;var l={Name:o,Ptg:s};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function sQ(r,t){var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var o=[],s=[[]];return s.SheetNames=[],s.XTI=[],dg[16]={n:"BrtFRTArchID$",f:iQ},Po(r,function(l,u,c){switch(c){case 156:s.SheetNames.push(l.name),e.Sheets.push(l);break;case 153:e.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=bn(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,o.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([c,l]):s[0]=[c,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(c),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(c),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},t),eF(e),e.Names=o,e.supbooks=s,e}function aQ(r,t,e){return t.slice(-4)===".bin"?sQ(r,e):tQ(r,e)}function lQ(r,t,e,n,i,o,s,a){return t.slice(-4)===".bin"?UX(r,n,e,i,o,s,a):nX(r,n,e,i,o,s,a)}function uQ(r,t,e,n,i,o,s,a){return t.slice(-4)===".bin"?YX(r,n,e,i,o,s,a):$X(r,n,e,i,o,s,a)}function cQ(r,t,e,n,i,o,s,a){return t.slice(-4)===".bin"?yY(r,n,e,i,o,s,a):CY(r,n,e,i,o,s,a)}function dQ(r,t,e,n,i,o,s,a){return t.slice(-4)===".bin"?vY(r,n,e,i,o,s,a):mY(r,n,e,i,o,s,a)}function fQ(r,t,e,n){return t.slice(-4)===".bin"?PK(r,e,n):RK(r,e,n)}function pQ(r,t,e){return H1(r,e)}function hQ(r,t,e){return t.slice(-4)===".bin"?q7(r,e):K7(r,e)}function gQ(r,t,e){return t.slice(-4)===".bin"?pY(r,e):lY(r,e)}function vQ(r,t,e){return t.slice(-4)===".bin"?oY(r,t,e):rY(r,t,e)}function mQ(r,t,e,n){return e.slice(-4)===".bin"?sY(r,t,e,n):void 0}function yQ(r,t,e){return t.slice(-4)===".bin"?tY(r,t,e):nY(r,t,e)}var tF=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,nF=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function _i(r,t){var e=r.split(/\s+/),n=[];if(t||(n[0]=e[0]),e.length===1)return n;var i=r.match(tF),o,s,a,l;if(i)for(l=0;l!=i.length;++l)o=i[l].match(nF),(s=o[1].indexOf(":"))===-1?n[o[1]]=o[2].slice(1,o[2].length-1):(o[1].slice(0,6)==="xmlns:"?a="xmlns"+o[1].slice(6):a=o[1].slice(s+1),n[a]=o[2].slice(1,o[2].length-1));return n}function CQ(r){var t=r.split(/\s+/),e={};if(t.length===1)return e;var n=r.match(tF),i,o,s,a;if(n)for(a=0;a!=n.length;++a)i=n[a].match(nF),(o=i[1].indexOf(":"))===-1?e[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(o+1),e[s]=i[2].slice(1,i[2].length-1));return e}var Sd;function wQ(r,t){var e=Sd[r]||pt(r);return e==="General"?Fa(t):ei(e,t)}function _Q(r,t,e,n){var i=n;switch((e[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Pt(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=gn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+e[0])}r[pt(t)]=i}function SQ(r,t,e){if(r.t!=="z"){if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Ga[r.v]:t==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Ed(r.v):r.w=Fa(r.v):r.w=wQ(t||"General",r.v)}catch(o){if(e.WTF)throw o}try{var n=Sd[t]||t||"General";if(e.cellNF&&(r.z=n),e.cellDates&&r.t=="n"&&eu(n)){var i=Aa(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(o){if(e.WTF)throw o}}}function EQ(r,t,e){if(e.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=_K[n.Pattern]||n.Pattern)}r[t.ID]=t}function xQ(r,t,e,n,i,o,s,a,l,u){var c="General",d=n.StyleID,f={};u=u||{};var p=[],h=0;for(d===void 0&&a&&(d=a.StyleID),d===void 0&&s&&(d=s.StyleID);o[d]!==void 0&&(o[d].nf&&(c=o[d].nf),o[d].Interior&&p.push(o[d].Interior),!!o[d].Parent);)d=o[d].Parent;switch(e.Type){case"Boolean":n.t="b",n.v=Pt(r);break;case"String":n.t="s",n.r=KO(pt(r)),n.v=r.indexOf("<")>-1?pt(t||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(gn(r)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=pt(r):n.v<60&&(n.v=n.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=y1[r],u.cellText!==!1&&(n.w=r);break;default:r==""&&t==""?n.t="z":(n.t="s",n.v=KO(t||r));break}if(SQ(n,c,u),u.cellFormula!==!1)if(n.Formula){var g=pt(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=ql(g,i),delete n.Formula,n.ArrayRange=="RC"?n.F=ql("RC:RC",i):n.ArrayRange&&(n.F=ql(n.ArrayRange,i),l.push([kt(n.F),n.F]))}else for(h=0;h<l.length;++h)i.r>=l[h][0].s.r&&i.r<=l[h][0].e.r&&i.c>=l[h][0].s.c&&i.c<=l[h][0].e.c&&(n.F=l[h][1]);u.cellStyles&&(p.forEach(function(v){!f.patternType&&v.patternType&&(f.patternType=v.patternType)}),n.s=f),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function DQ(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function Rw(r,t){var e=t||{};Yb();var n=cd(qw(r));(e.type=="binary"||e.type=="array"||e.type=="base64")&&(typeof vt<"u"?n=vt.utils.decode(65001,bw(n)):n=Tt(n));var i=n.slice(0,1024).toLowerCase(),o=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=_n(e);return s.type="string",Td.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Gt){i.indexOf("<"+Gt)>=0&&(o=!0)}),o)return MQ(n,e);Sd={"General Number":"General","General Date":$e[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":$e[15],"Short Date":$e[14],"Long Time":$e[19],"Medium Time":$e[18],"Short Time":$e[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:$e[2],Standard:$e[4],Percent:$e[10],Scientific:$e[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l=[],u;Zt!=null&&e.dense==null&&(e.dense=Zt);var c={},d=[],f=e.dense?[]:{},p="",h={},g={},v=_i('<Data ss:Type="String">'),m=0,C=0,y=0,x={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},R={},E="",O=0,I=[],k={},G={},L=0,ee=[],de=[],te={},Ce=[],se,Fe=!1,le=[],_e=[],Z={},M=0,U=0,H={Sheets:[],WBProps:{date1904:!1}},V={};Dd.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var J="";a=Dd.exec(n);)switch(a[3]=(J=a[3]).toLowerCase()){case"data":if(J=="data"){if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break}if(l[l.length-1][1])break;a[1]==="/"?xQ(n.slice(m,a.index),E,v,l[l.length-1][0]=="comment"?te:h,{c:C,r:y},P,Ce[C],g,le,e):(E="",v=_i(a[0]),m=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(de.length>0&&(h.c=de),(!e.sheetRows||e.sheetRows>y)&&h.v!==void 0&&(e.dense?(f[y]||(f[y]=[]),f[y][C]=h):f[on(C)+Sn(y)]=h),h.HRef&&(h.l={Target:pt(h.HRef)},h.HRefScreenTip&&(h.l.Tooltip=h.HRefScreenTip),delete h.HRef,delete h.HRefScreenTip),(h.MergeAcross||h.MergeDown)&&(M=C+(parseInt(h.MergeAcross,10)|0),U=y+(parseInt(h.MergeDown,10)|0),I.push({s:{c:C,r:y},e:{c:M,r:U}})),!e.sheetStubs)h.MergeAcross?C=M+1:++C;else if(h.MergeAcross||h.MergeDown){for(var Se=C;Se<=M;++Se)for(var he=y;he<=U;++he)(Se>C||he>y)&&(e.dense?(f[he]||(f[he]=[]),f[he][Se]={t:"z"}):f[on(Se)+Sn(he)]={t:"z"});C=M+1}else++C;else h=CQ(a[0]),h.Index&&(C=+h.Index-1),C<x.s.c&&(x.s.c=C),C>x.e.c&&(x.e.c=C),a[0].slice(-2)==="/>"&&++C,de=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(y<x.s.r&&(x.s.r=y),y>x.e.r&&(x.e.r=y),a[0].slice(-2)==="/>"&&(g=_i(a[0]),g.Index&&(y=+g.Index-1)),C=0,++y):(g=_i(a[0]),g.Index&&(y=+g.Index-1),Z={},(g.AutoFitHeight=="0"||g.Height)&&(Z.hpx=parseInt(g.Height,10),Z.hpt=V1(Z.hpx),_e[y]=Z),g.Hidden=="1"&&(Z.hidden=!0,_e[y]=Z));break;case"worksheet":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"));d.push(p),x.s.r<=x.e.r&&x.s.c<=x.e.c&&(f["!ref"]=dt(x),e.sheetRows&&e.sheetRows<=x.e.r&&(f["!fullref"]=f["!ref"],x.e.r=e.sheetRows-1,f["!ref"]=dt(x))),I.length&&(f["!merges"]=I),Ce.length>0&&(f["!cols"]=Ce),_e.length>0&&(f["!rows"]=_e),c[p]=f}else x={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=C=0,l.push([a[3],!1]),u=_i(a[0]),p=pt(u.Name),f=e.dense?[]:{},I=[],le=[],_e=[],V={name:p,Hidden:0},H.Sheets.push(V);break;case"table":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else{if(a[0].slice(-2)=="/>")break;l.push([a[3],!1]),Ce=[],Fe=!1}break;case"style":a[1]==="/"?EQ(P,R,e):R=_i(a[0]);break;case"numberformat":R.nf=pt(_i(a[0]).Format||"General"),Sd[R.nf]&&(R.nf=Sd[R.nf]);for(var we=0;we!=392&&$e[we]!=R.nf;++we);if(we==392){for(we=57;we!=392;++we)if($e[we]==null){Oa(R.nf,we);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(se=_i(a[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!Fe&&se.wpx>10){Fe=!0,zn=k1;for(var ie=0;ie<Ce.length;++ie)Ce[ie]&&Jl(Ce[ie])}Fe&&Jl(se),Ce[se.Index-1||Ce.length]=se;for(var st=0;st<+se.Span;++st)Ce[Ce.length]=_n(se);break;case"namedrange":if(a[1]==="/")break;H.Names||(H.Names=[]);var N=Me(a[0]),Mt={Name:N.Name,Ref:ql(N.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&(Mt.Sheet=H.Sheets.length-1),H.Names.push(Mt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?E+=n.slice(O,a.index):O=a.index+a[0].length;break;case"interior":if(!e.cellStyles)break;R.Interior=_i(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?l9(k,J,n.slice(L,a.index)):L=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else l.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"));DQ(te),de.push(te)}else l.push([a[3],!1]),u=_i(a[0]),te={a:u.Author};break;case"autofilter":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var ft=_i(a[0]);f["!autofilter"]={ref:ql(ft.Range).replace(/\$/g,"")},l.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((u=l.pop())[0]!==a[3])throw new Error("Bad state: "+u.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"null":break;default:if(l.length==0&&a[3]=="document"||l.length==0&&a[3]=="uof")return Fb(n,e);var _t=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:_t=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:_t=!1}break;case"excelworkbook":switch(a[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:_t=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:_t=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(n.slice(L,a.index)){case"SheetHidden":V.Hidden=1;break;case"SheetVeryHidden":V.Hidden=2;break}else L=a.index+a[0].length;break;case"header":f["!margins"]||_d(f["!margins"]={},"xlml"),isNaN(+Me(a[0]).Margin)||(f["!margins"].header=+Me(a[0]).Margin);break;case"footer":f["!margins"]||_d(f["!margins"]={},"xlml"),isNaN(+Me(a[0]).Margin)||(f["!margins"].footer=+Me(a[0]).Margin);break;case"pagemargins":var nt=Me(a[0]);f["!margins"]||_d(f["!margins"]={},"xlml"),isNaN(+nt.Top)||(f["!margins"].top=+nt.Top),isNaN(+nt.Left)||(f["!margins"].left=+nt.Left),isNaN(+nt.Right)||(f["!margins"].right=+nt.Right),isNaN(+nt.Bottom)||(f["!margins"].bottom=+nt.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:_t=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:_t=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:_t=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:_t=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:_t=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:_t=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:_t=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:_t=!1}break;case"smarttags":break;default:_t=!1;break}if(_t||a[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?_Q(G,J,ee,n.slice(L,a.index)):(ee=a,L=a.index+a[0].length);break}if(e.WTF)throw"Unrecognized tag: "+a[3]+"|"+l.join("|")}var me={};return!e.bookSheets&&!e.bookProps&&(me.Sheets=c),me.SheetNames=d,me.Workbook=H,me.SSF=_n($e),me.Props=k,me.Custprops=G,me}function Lw(r,t){switch(h_(t=t||{}),t.type||"base64"){case"base64":return Rw(Pr(r),t);case"binary":case"buffer":case"file":return Rw(r,t);case"array":return Rw(Na(r),t)}}function TQ(r){var t={},e=r.content;if(e.l=28,t.AnsiUserType=e.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=H$(e),e.length-e.l<=4)return t;var n=e.read_shift(4);if(n==0||n>40||(e.l-=4,t.Reserved1=e.read_shift(0,"lpstr-ansi"),e.length-e.l<=4)||(n=e.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=B$(e),n=e.read_shift(4),n==0||n>40))return t;e.l-=4,t.Reserved2=e.read_shift(0,"lpwstr")}var RQ=[60,1084,2066,2165,2175];function AQ(r,t,e,n,i){var o=n,s=[],a=e.slice(e.l,e.l+o);if(i&&i.enc&&i.enc.insitu&&a.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(a)}s.push(a),e.l+=o;for(var l=Oo(e,e.l),u=kw[l],c=0;u!=null&&RQ.indexOf(l)>-1;)o=Oo(e,e.l+2),c=e.l+4,l==2066?c+=4:(l==2165||l==2175)&&(c+=12),a=e.slice(c,e.l+4+o),s.push(a),e.l+=4+o,u=kw[l=Oo(e,e.l)];var d=Es(s);wn(d,0);var f=0;d.lens=[];for(var p=0;p<s.length;++p)d.lens.push(f),f+=s[p].length;if(d.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+d.length+" < "+n;return t.f(d,d.length,i)}function no(r,t,e){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,t.cellNF&&(r.z=$e[n])}catch(o){if(t.WTF)throw o}if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Ga[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Ed(r.v):r.w=Fa(r.v):r.w=ei(n,r.v,{date1904:!!e,dateNF:t&&t.dateNF})}catch(o){if(t.WTF)throw o}if(t.cellDates&&n&&r.t=="n"&&eu($e[n]||String(n))){var i=Aa(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function eg(r,t,e){return{v:r,ixfe:t,t:e}}function OQ(r,t){var e={opts:{}},n={};Zt!=null&&t.dense==null&&(t.dense=Zt);var i=t.dense?[]:{},o={},s={},a=null,l=[],u="",c={},d,f="",p,h,g,v,m={},C=[],y,x,P=[],R=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},O={},I=function(Qe){return Qe<8?ba[Qe]:Qe<64&&R[Qe-8]||ba[Qe]},k=function(Qe,Vt,Lr){var Jt=Vt.XF.data;if(!(!Jt||!Jt.patternType||!Lr||!Lr.cellStyles)){Vt.s={},Vt.s.patternType=Jt.patternType;var Is;(Is=Rd(I(Jt.icvFore)))&&(Vt.s.fgColor={rgb:Is}),(Is=Rd(I(Jt.icvBack)))&&(Vt.s.bgColor={rgb:Is})}},G=function(Qe,Vt,Lr){if(!(Z>1)&&!(Lr.sheetRows&&Qe.r>=Lr.sheetRows)){if(Lr.cellStyles&&Vt.XF&&Vt.XF.data&&k(Qe,Vt,Lr),delete Vt.ixfe,delete Vt.XF,d=Qe,f=Ue(Qe),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Qe.r<s.s.r&&(s.s.r=Qe.r),Qe.c<s.s.c&&(s.s.c=Qe.c),Qe.r+1>s.e.r&&(s.e.r=Qe.r+1),Qe.c+1>s.e.c&&(s.e.c=Qe.c+1),Lr.cellFormula&&Vt.f){for(var Jt=0;Jt<C.length;++Jt)if(!(C[Jt][0].s.c>Qe.c||C[Jt][0].s.r>Qe.r)&&!(C[Jt][0].e.c<Qe.c||C[Jt][0].e.r<Qe.r)){Vt.F=dt(C[Jt][0]),(C[Jt][0].s.c!=Qe.c||C[Jt][0].s.r!=Qe.r)&&delete Vt.f,Vt.f&&(Vt.f=""+bn(C[Jt][1],s,Qe,le,L));break}}Lr.dense?(i[Qe.r]||(i[Qe.r]=[]),i[Qe.r][Qe.c]=Vt):i[f]=Vt}},L={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:C,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(L.password=t.password);var ee,de=[],te=[],Ce=[],se=[],Fe=!1,le=[];le.SheetNames=L.snames,le.sharedf=L.sharedf,le.arrayf=L.arrayf,le.names=[],le.XTI=[];var _e=0,Z=0,M=0,U=[],H=[],V;L.codepage=1200,xi(1200);for(var J=!1;r.l<r.length-1;){var Se=r.l,he=r.read_shift(2);if(he===0&&_e===10)break;var we=r.l===r.length?0:r.read_shift(2),ie=kw[he];if(ie&&ie.f){if(t.bookSheets&&_e===133&&he!==133)break;if(_e=he,ie.r===2||ie.r==12){var st=r.read_shift(2);if(we-=2,!L.enc&&st!==he&&((st&255)<<8|st>>8)!==he)throw new Error("rt mismatch: "+st+"!="+he);ie.r==12&&(r.l+=10,we-=10)}var N={};if(he===10?N=ie.f(r,we,L):N=AQ(he,ie,r,we,L),Z==0&&[9,521,1033,2057].indexOf(_e)===-1)continue;switch(he){case 34:e.opts.Date1904=E.WBProps.date1904=N;break;case 134:e.opts.WriteProtect=!0;break;case 47:if(L.enc||(r.l=0),L.enc=N,!t.password)throw new Error("File is password-protected");if(N.valid==null)throw new Error("Encryption scheme unsupported");if(!N.valid)throw new Error("Password is incorrect");break;case 92:L.lastuser=N;break;case 66:var Mt=Number(N);switch(Mt){case 21010:Mt=1200;break;case 32768:Mt=1e4;break;case 32769:Mt=1252;break}xi(L.codepage=Mt),J=!0;break;case 317:L.rrtabid=N;break;case 25:L.winlocked=N;break;case 439:e.opts.RefreshAll=N;break;case 12:e.opts.CalcCount=N;break;case 16:e.opts.CalcDelta=N;break;case 17:e.opts.CalcIter=N;break;case 13:e.opts.CalcMode=N;break;case 14:e.opts.CalcPrecision=N;break;case 95:e.opts.CalcSaveRecalc=N;break;case 15:L.CalcRefMode=N;break;case 2211:e.opts.FullCalc=N;break;case 129:N.fDialog&&(i["!type"]="dialog"),N.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),N.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:P.push(N);break;case 430:le.push([N]),le[le.length-1].XTI=[];break;case 35:case 547:le[le.length-1].push(N);break;case 24:case 536:V={Name:N.Name,Ref:bn(N.rgce,s,null,le,L)},N.itab>0&&(V.Sheet=N.itab-1),le.names.push(V),le[0]||(le[0]=[],le[0].XTI=[]),le[le.length-1].push(N),N.Name=="_xlnm._FilterDatabase"&&N.itab>0&&N.rgce&&N.rgce[0]&&N.rgce[0][0]&&N.rgce[0][0][0]=="PtgArea3d"&&(H[N.itab-1]={ref:dt(N.rgce[0][0][1][2])});break;case 22:L.ExternCount=N;break;case 23:le.length==0&&(le[0]=[],le[0].XTI=[]),le[le.length-1].XTI=le[le.length-1].XTI.concat(N),le.XTI=le.XTI.concat(N);break;case 2196:if(L.biff<8)break;V!=null&&(V.Comment=N[1]);break;case 18:i["!protect"]=N;break;case 19:N!==0&&L.WTF&&console.error("Password verifier: "+N);break;case 133:o[N.pos]=N,L.snames.push(N.name);break;case 10:{if(--Z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=dt(s),t.sheetRows&&t.sheetRows<=s.e.r){var ft=s.e.r;s.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=dt(s),s.e.r=ft}s.e.r++,s.e.c++}de.length>0&&(i["!merges"]=de),te.length>0&&(i["!objects"]=te),Ce.length>0&&(i["!cols"]=Ce),se.length>0&&(i["!rows"]=se),E.Sheets.push(O)}u===""?c=i:n[u]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(L.biff===8&&(L.biff={9:2,521:3,1033:4}[he]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[N.BIFFVer]||8),L.biffguess=N.BIFFVer==0,N.BIFFVer==0&&N.dt==4096&&(L.biff=5,J=!0,xi(L.codepage=28591)),L.biff==8&&N.BIFFVer==0&&N.dt==16&&(L.biff=2),Z++)break;if(i=t.dense?[]:{},L.biff<8&&!J&&(J=!0,xi(L.codepage=t.codepage||1252)),L.biff<5||N.BIFFVer==0&&N.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var _t={pos:r.l-we,name:u};o[_t.pos]=_t,L.snames.push(u)}else u=(o[Se]||{name:""}).name;N.dt==32&&(i["!type"]="chart"),N.dt==64&&(i["!type"]="macro"),de=[],te=[],L.arrayf=C=[],Ce=[],se=[],Fe=!1,O={Hidden:(o[Se]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[N.r]||[])[N.c]:i[Ue({c:N.c,r:N.r})])&&++N.c,y={ixfe:N.ixfe,XF:P[N.ixfe]||{},v:N.val,t:"n"},M>0&&(y.z=U[y.ixfe>>8&63]),no(y,t,e.opts.Date1904),G({c:N.c,r:N.r},y,t);break;case 5:case 517:y={ixfe:N.ixfe,XF:P[N.ixfe],v:N.val,t:N.t},M>0&&(y.z=U[y.ixfe>>8&63]),no(y,t,e.opts.Date1904),G({c:N.c,r:N.r},y,t);break;case 638:y={ixfe:N.ixfe,XF:P[N.ixfe],v:N.rknum,t:"n"},M>0&&(y.z=U[y.ixfe>>8&63]),no(y,t,e.opts.Date1904),G({c:N.c,r:N.r},y,t);break;case 189:for(var nt=N.c;nt<=N.C;++nt){var me=N.rkrec[nt-N.c][0];y={ixfe:me,XF:P[me],v:N.rkrec[nt-N.c][1],t:"n"},M>0&&(y.z=U[y.ixfe>>8&63]),no(y,t,e.opts.Date1904),G({c:nt,r:N.r},y,t)}break;case 6:case 518:case 1030:{if(N.val=="String"){a=N;break}if(y=eg(N.val,N.cell.ixfe,N.tt),y.XF=P[y.ixfe],t.cellFormula){var Gt=N.formula;if(Gt&&Gt[0]&&Gt[0][0]&&Gt[0][0][0]=="PtgExp"){var Nr=Gt[0][0][1][0],Ri=Gt[0][0][1][1],lo=Ue({r:Nr,c:Ri});m[lo]?y.f=""+bn(N.formula,s,N.cell,le,L):y.F=((t.dense?(i[Nr]||[])[Ri]:i[lo])||{}).F}else y.f=""+bn(N.formula,s,N.cell,le,L)}M>0&&(y.z=U[y.ixfe>>8&63]),no(y,t,e.opts.Date1904),G(N.cell,y,t),a=N}break;case 7:case 519:if(a)a.val=N,y=eg(N,a.cell.ixfe,"s"),y.XF=P[y.ixfe],t.cellFormula&&(y.f=""+bn(a.formula,s,a.cell,le,L)),M>0&&(y.z=U[y.ixfe>>8&63]),no(y,t,e.opts.Date1904),G(a.cell,y,t),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{C.push(N);var fu=Ue(N[0].s);if(p=t.dense?(i[N[0].s.r]||[])[N[0].s.c]:i[fu],t.cellFormula&&p){if(!a||!fu||!p)break;p.f=""+bn(N[1],s,N[0],le,L),p.F=dt(N[0])}}break;case 1212:{if(!t.cellFormula)break;if(f){if(!a)break;m[Ue(a.cell)]=N[0],p=t.dense?(i[a.cell.r]||[])[a.cell.c]:i[Ue(a.cell)],(p||{}).f=""+bn(N[0],s,d,le,L)}}break;case 253:y=eg(l[N.isst].t,N.ixfe,"s"),l[N.isst].h&&(y.h=l[N.isst].h),y.XF=P[y.ixfe],M>0&&(y.z=U[y.ixfe>>8&63]),no(y,t,e.opts.Date1904),G({c:N.c,r:N.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:N.ixfe,XF:P[N.ixfe],t:"z"},M>0&&(y.z=U[y.ixfe>>8&63]),no(y,t,e.opts.Date1904),G({c:N.c,r:N.r},y,t));break;case 190:if(t.sheetStubs)for(var Mo=N.c;Mo<=N.C;++Mo){var hr=N.ixfe[Mo-N.c];y={ixfe:hr,XF:P[hr],t:"z"},M>0&&(y.z=U[y.ixfe>>8&63]),no(y,t,e.opts.Date1904),G({c:Mo,r:N.r},y,t)}break;case 214:case 516:case 4:y=eg(N.val,N.ixfe,"s"),y.XF=P[y.ixfe],M>0&&(y.z=U[y.ixfe>>8&63]),no(y,t,e.opts.Date1904),G({c:N.c,r:N.r},y,t);break;case 0:case 512:Z===1&&(s=N);break;case 252:l=N;break;case 1054:if(L.biff==4){U[M++]=N[1];for(var uo=0;uo<M+163&&$e[uo]!=N[1];++uo);uo>=163&&Oa(N[1],M+163)}else Oa(N[1],N[0]);break;case 30:{U[M++]=N;for(var No=0;No<M+163&&$e[No]!=N;++No);No>=163&&Oa(N,M+163)}break;case 229:de=de.concat(N);break;case 93:te[N.cmo[0]]=L.lastobj=N;break;case 438:L.lastobj.TxO=N;break;case 127:L.lastobj.ImData=N;break;case 440:for(v=N[0].s.r;v<=N[0].e.r;++v)for(g=N[0].s.c;g<=N[0].e.c;++g)p=t.dense?(i[v]||[])[g]:i[Ue({c:g,r:v})],p&&(p.l=N[1]);break;case 2048:for(v=N[0].s.r;v<=N[0].e.r;++v)for(g=N[0].s.c;g<=N[0].e.c;++g)p=t.dense?(i[v]||[])[g]:i[Ue({c:g,r:v})],p&&p.l&&(p.l.Tooltip=N[1]);break;case 28:{if(L.biff<=5&&L.biff>=2)break;p=t.dense?(i[N[0].r]||[])[N[0].c]:i[Ue(N[0])];var pu=te[N[2]];p||(t.dense?(i[N[0].r]||(i[N[0].r]=[]),p=i[N[0].r][N[0].c]={t:"z"}):p=i[Ue(N[0])]={t:"z"},s.e.r=Math.max(s.e.r,N[0].r),s.s.r=Math.min(s.s.r,N[0].r),s.e.c=Math.max(s.e.c,N[0].c),s.s.c=Math.min(s.s.c,N[0].c)),p.c||(p.c=[]),h={a:N[1],t:pu.TxO.t},p.c.push(h)}break;case 2173:QK(P[N.ixfe],N.ext);break;case 125:{if(!L.cellStyles)break;for(;N.e>=N.s;)Ce[N.e--]={width:N.w/256,level:N.level||0,hidden:!!(N.flags&1)},Fe||(Fe=!0,u_(N.w/256)),Jl(Ce[N.e+1])}break;case 520:{var kn={};N.level!=null&&(se[N.r]=kn,kn.level=N.level),N.hidden&&(se[N.r]=kn,kn.hidden=!0),N.hpt&&(se[N.r]=kn,kn.hpt=N.hpt,kn.hpx=Ad(N.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||_d(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[he]]=N;break;case 161:i["!margins"]||_d(i["!margins"]={}),i["!margins"].header=N.header,i["!margins"].footer=N.footer;break;case 574:N.RTL&&(E.Views[0].RTL=!0);break;case 146:R=N;break;case 2198:ee=N;break;case 140:x=N;break;case 442:u?O.CodeName=N||O.name:E.WBProps.CodeName=N||"ThisWorkbook";break}}else ie||console.error("Missing Info for XLS Record 0x"+he.toString(16)),r.l+=we}return e.SheetNames=oo(o).sort(function(Ai,Qe){return Number(Ai)-Number(Qe)}).map(function(Ai){return o[Ai].name}),t.bookSheets||(e.Sheets=n),!e.SheetNames.length&&c["!ref"]?(e.SheetNames.push("Sheet1"),e.Sheets&&(e.Sheets.Sheet1=c)):e.Preamble=c,e.Sheets&&H.forEach(function(Ai,Qe){e.Sheets[e.SheetNames[Qe]]["!autofilter"]=Ai}),e.Strings=l,e.SSF=_n($e),L.enc&&(e.Encryption=L.enc),ee&&(e.Themes=ee),e.Metadata={},x!==void 0&&(e.Metadata.Country=x),le.names.length>0&&(E.Names=le.names),e.Workbook=E,e}var Tb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function bQ(r,t,e){var n=ct.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=ub(n,K$,Tb.DSI);for(var o in i)t[o]=i[o]}catch(u){if(e.WTF)throw u}var s=ct.find(r,"/!SummaryInformation");if(s&&s.size>0)try{var a=ub(s,Y$,Tb.SI);for(var l in a)t[l]==null&&(t[l]=a[l])}catch(u){if(e.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(w1(t.HeadingPairs,t.TitlesOfParts,t,e),delete t.HeadingPairs,delete t.TitlesOfParts)}function rF(r,t){t||(t={}),h_(t),Lb(),t.codepage&&jw(t.codepage);var e,n;if(r.FullPaths){if(ct.find(r,"/encryption"))throw new Error("File is password-protected");e=ct.find(r,"!CompObj"),n=ct.find(r,"/Workbook")||ct.find(r,"/Book")}else{switch(t.type){case"base64":r=Ei(Pr(r));break;case"binary":r=Ei(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}wn(r,0),n={content:r}}var i,o;if(e&&TQ(e),t.bookProps&&!t.bookSheets)i={};else{var s=ot?"buffer":"array";if(n&&n.content)i=OQ(n.content,t);else if((o=ct.find(r,"PerfectOffice_MAIN"))&&o.content)i=Cd.to_workbook(o.content,(t.type=s,t));else if((o=ct.find(r,"NativeContent_MAIN"))&&o.content)i=Cd.to_workbook(o.content,(t.type=s,t));else throw(o=ct.find(r,"MN0"))&&o.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&r.FullPaths&&ct.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=gY(r))}var a={};return r.FullPaths&&bQ(r,a,t),i.Props=i.Custprops=a,t.bookFiles&&(i.cfb=r),i}var dg={0:{f:dX},1:{f:gX},2:{f:xX},3:{f:CX},4:{f:mX},5:{f:EX},6:{f:RX},7:{f:_X},8:{f:IX},9:{f:FX},10:{f:OX},11:{f:bX},12:{f:vX},13:{f:DX},14:{f:wX},15:{f:yX},16:{f:Z1},17:{f:AX},18:{f:SX},19:{f:r_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:oQ},40:{},42:{},43:{f:OK},44:{f:AK},45:{f:bK},46:{f:IK},47:{f:FK},48:{},49:{f:P$},50:{},51:{f:JK},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:I1},62:{f:TX},63:{f:iY},64:{f:BX},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Nn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:HX},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:hX},148:{f:fX,p:16},151:{f:NX},152:{},153:{f:rQ},154:{},155:{},156:{f:nQ},157:{},158:{},159:{T:1,f:Y7},160:{T:-1},161:{T:1,f:ka},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:PX},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:ZK},336:{T:-1},337:{f:eY,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Iw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:F1},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:LX},427:{f:kX},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:VX},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:pX},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:MX},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Iw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:fY},633:{T:1},634:{T:-1},635:{T:1,f:dY},636:{T:-1},637:{f:N$},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:KX},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:jX},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},kw={6:{f:Dw},10:{f:Ss},12:{f:Xt},13:{f:Xt},14:{f:Bt},15:{f:Bt},16:{f:Fn},17:{f:Bt},18:{f:Bt},19:{f:Xt},20:{f:pb},21:{f:pb},23:{f:F1},24:{f:gb},25:{f:Bt},26:{},27:{},28:{f:u7},29:{},34:{f:Bt},35:{f:hb},38:{f:Fn},39:{f:Fn},40:{f:Fn},41:{f:Fn},42:{f:Bt},43:{f:Bt},47:{f:pK},49:{f:W9},51:{f:Xt},60:{},61:{f:B9},64:{f:Bt},65:{f:U9},66:{f:Xt},77:{},80:{},81:{},82:{},85:{f:Xt},89:{},90:{},91:{},92:{f:P9},93:{f:d7},94:{},95:{f:Bt},96:{},97:{},99:{f:Bt},125:{f:I1},128:{f:e7},129:{f:M9},130:{f:Xt},131:{f:Bt},132:{f:Bt},133:{f:N9},134:{},140:{f:m7},141:{f:Xt},144:{},146:{f:C7},151:{},152:{},153:{},154:{},155:{},156:{f:Xt},157:{},158:{},160:{f:x7},161:{f:_7},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:X9},190:{f:Q9},193:{f:Ss},197:{},198:{},199:{},200:{},201:{},202:{f:Bt},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Xt},220:{},221:{f:Bt},222:{},224:{f:J9},225:{f:I9},226:{f:Ss},227:{},229:{f:c7},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:L9},253:{f:z9},255:{f:k9},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:D1},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Bt},353:{f:Ss},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:n7},431:{f:Bt},432:{},433:{},434:{},437:{},438:{f:h7},439:{f:Bt},440:{f:g7},441:{},442:{f:Pd},443:{},444:{f:Xt},445:{},446:{},448:{f:Ss},449:{f:H9,r:2},450:{f:Ss},512:{f:db},513:{f:E7},515:{f:t7},516:{f:$9},517:{f:fb},519:{f:D7},520:{f:G9},523:{},545:{f:vb},549:{f:cb},566:{},574:{f:j9},638:{f:q9},659:{},1048:{},1054:{f:K9},1084:{},1212:{f:s7},2048:{f:v7},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Qh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ss},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:w7,r:12},2173:{f:XK,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Bt,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:o7,r:12},2197:{},2198:{f:WK,r:12},2199:{},2200:{},2201:{},2202:{f:a7,r:12},2203:{f:Ss},2204:{},2205:{},2206:{},2207:{},2211:{f:V9},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Xt},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:S7},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:y7},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:db},1:{},2:{f:O7},3:{f:A7},4:{f:R7},5:{f:fb},7:{f:b7},8:{},9:{f:Qh},11:{},22:{f:Xt},30:{f:Y9},31:{},32:{},33:{f:vb},36:{},37:{f:cb},50:{f:F7},62:{},52:{},67:{},68:{f:Xt},69:{},86:{},126:{},127:{f:T7},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:I7},223:{},234:{},354:{},421:{},518:{f:Dw},521:{f:Qh},536:{f:gb},547:{f:hb},561:{},579:{},1030:{f:Dw},1033:{f:Qh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Si(r,t,e,n){var i=t;if(!isNaN(i)){var o=n||(e||[]).length||0,s=r.next(4);s.write_shift(2,i),s.write_shift(2,o),o>0&&f1(e)&&r.push(e)}}function Rb(r,t){var e=t||{};Zt!=null&&e.dense==null&&(e.dense=Zt);var n=e.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var i=r.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var o=r.match(/<\/table/i),s=i.index,a=o&&o.index||r.length,l=t$(r.slice(s,a),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,c=0,d=0,f=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},h=[];for(s=0;s<l.length;++s){var g=l[s].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,e.sheetRows&&e.sheetRows<=u){--u;break}c=0;continue}if(!(v!="<td"&&v!="<th")){var m=g.split(/<\/t[dh]>/i);for(a=0;a<m.length;++a){var C=m[a].trim();if(C.match(/<t[dh]/i)){for(var y=C,x=0;y.charAt(0)=="<"&&(x=y.indexOf(">"))>-1;)y=y.slice(x+1);for(var P=0;P<h.length;++P){var R=h[P];R.s.c==c&&R.s.r<u&&u<=R.e.r&&(c=R.e.c+1,P=-1)}var E=Me(C.slice(0,C.indexOf(">")));f=E.colspan?+E.colspan:1,((d=+E.rowspan)>1||f>1)&&h.push({s:{r:u,c},e:{r:u+(d||1)-1,c:c+f-1}});var O=E.t||E["data-t"]||"";if(!y.length){c+=f;continue}if(y=i1(y),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>c&&(p.s.c=c),p.e.c<c&&(p.e.c=c),!y.length){c+=f;continue}var I={t:"s",v:y};e.raw||!y.trim().length||O=="s"||(y==="TRUE"?I={t:"b",v:!0}:y==="FALSE"?I={t:"b",v:!1}:isNaN(Ti(y))?isNaN(Zl(y).getDate())||(I={t:"d",v:gn(y)},e.cellDates||(I={t:"n",v:Kn(I.v)}),I.z=e.dateNF||$e[14]):I={t:"n",v:Ti(y)}),e.dense?(n[u]||(n[u]=[]),n[u][c]=I):n[Ue({r:u,c})]=I,c+=f}}}}return n["!ref"]=dt(p),h.length&&(n["!merges"]=h),n}function FQ(r,t,e,n){for(var i=r["!merges"]||[],o=[],s=t.s.c;s<=t.e.c;++s){for(var a=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>e||i[u].s.c>s)&&!(i[u].e.r<e||i[u].e.c<s)){if(i[u].s.r<e||i[u].s.c<s){a=-1;break}a=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(a<0)){var c=Ue({r:e,c:s}),d=n.dense?(r[e]||[])[s]:r[c],f=d&&d.v!=null&&(d.h||Yw(d.w||(Io(d),d.w)||""))||"",p={};a>1&&(p.rowspan=a),l>1&&(p.colspan=l),n.editable?f='<span contenteditable="true">'+f+"</span>":d&&(p["data-t"]=d&&d.t||"z",d.v!=null&&(p["data-v"]=d.v),d.z!=null&&(p["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+d.l.Target+'">'+f+"</a>")),p.id=(n.id||"sjs")+"-"+c,o.push(v$("td",f,p))}}var h="<tr>";return h+o.join("")+"</tr>"}var IQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',PQ="</body></html>";function MQ(r,t){var e=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!e||e.length==0)throw new Error("Invalid HTML: could not find <table>");if(e.length==1)return Os(Rb(e[0],t),t);var n=v_();return e.forEach(function(i,o){m_(n,Rb(i,t),"Sheet"+(o+1))}),n}function NQ(r,t,e){var n=[];return n.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function LQ(r,t){var e=t||{},n=e.header!=null?e.header:IQ,i=e.footer!=null?e.footer:PQ,o=[n],s=nu(r["!ref"]);e.dense=Array.isArray(r),o.push(NQ(r,s,e));for(var a=s.s.r;a<=s.e.r;++a)o.push(FQ(r,s,a,e));return o.push("</table>"+i),o.join("")}function iF(r,t,e){var n=e||{};Zt!=null&&(n.dense=Zt);var i=0,o=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?$n(n.origin):n.origin;i=s.r,o=s.c}var a=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:i,c:o}};if(r["!ref"]){var c=nu(r["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var d=[],f=0,p=r["!rows"]||(r["!rows"]=[]),h=0,g=0,v=0,m=0,C=0,y=0;for(r["!cols"]||(r["!cols"]=[]);h<a.length&&g<l;++h){var x=a[h];if(Ab(x)){if(n.display)continue;p[g]={hidden:!0}}var P=x.children;for(v=m=0;v<P.length;++v){var R=P[v];if(!(n.display&&Ab(R))){var E=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):i1(R.innerHTML),O=R.getAttribute("data-z")||R.getAttribute("z");for(f=0;f<d.length;++f){var I=d[f];I.s.c==m+o&&I.s.r<g+i&&g+i<=I.e.r&&(m=I.e.c+1-o,f=-1)}y=+R.getAttribute("colspan")||1,((C=+R.getAttribute("rowspan")||1)>1||y>1)&&d.push({s:{r:g+i,c:m+o},e:{r:g+i+(C||1)-1,c:m+o+(y||1)-1}});var k={t:"s",v:E},G=R.getAttribute("data-t")||R.getAttribute("t")||"";E!=null&&(E.length==0?k.t=G||"z":n.raw||E.trim().length==0||G=="s"||(E==="TRUE"?k={t:"b",v:!0}:E==="FALSE"?k={t:"b",v:!1}:isNaN(Ti(E))?isNaN(Zl(E).getDate())||(k={t:"d",v:gn(E)},n.cellDates||(k={t:"n",v:Kn(k.v)}),k.z=n.dateNF||$e[14]):k={t:"n",v:Ti(E)})),k.z===void 0&&O!=null&&(k.z=O);var L="",ee=R.getElementsByTagName("A");if(ee&&ee.length)for(var de=0;de<ee.length&&!(ee[de].hasAttribute("href")&&(L=ee[de].getAttribute("href"),L.charAt(0)!="#"));++de);L&&L.charAt(0)!="#"&&(k.l={Target:L}),n.dense?(r[g+i]||(r[g+i]=[]),r[g+i][m+o]=k):r[Ue({c:m+o,r:g+i})]=k,u.e.c<m+o&&(u.e.c=m+o),m+=y}}++g}return d.length&&(r["!merges"]=(r["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,g-1+i),r["!ref"]=dt(u),g>=l&&(r["!fullref"]=dt((u.e.r=a.length-h+g-1+i,u))),r}function oF(r,t){var e=t||{},n=e.dense?[]:{};return iF(n,r,t)}function kQ(r,t){return Os(oF(r,t),t)}function Ab(r){var t="",e=GQ(r);return e&&(t=e(r).getPropertyValue("display")),t||(t=r.style&&r.style.display),t==="none"}function GQ(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function VQ(r){var t=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),e=pt(t.replace(/<[^>]*>/g,""));return[e]}var Ob={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function sF(r,t){var e=t||{};Zt!=null&&e.dense==null&&(e.dense=Zt);var n=qw(r),i=[],o,s,a={name:""},l="",u=0,c,d,f={},p=[],h=e.dense?[]:{},g,v,m={value:""},C="",y=0,x,P=[],R=-1,E=-1,O={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,k={},G=[],L={},ee=0,de=0,te=[],Ce=1,se=1,Fe=[],le={Names:[]},_e={},Z=["",""],M=[],U={},H="",V=0,J=!1,Se=!1,he=0;for(Dd.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Dd.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":g[1]==="/"?(O.e.c>=O.s.c&&O.e.r>=O.s.r?h["!ref"]=dt(O):h["!ref"]="A1:A1",e.sheetRows>0&&e.sheetRows<=O.e.r&&(h["!fullref"]=h["!ref"],O.e.r=e.sheetRows-1,h["!ref"]=dt(O)),G.length&&(h["!merges"]=G),te.length&&(h["!rows"]=te),c.name=c.\u540D\u79F0||c.name,typeof JSON<"u"&&JSON.stringify(c),p.push(c.name),f[c.name]=h,Se=!1):g[0].charAt(g[0].length-2)!=="/"&&(c=Me(g[0],!1),R=E=-1,O.s.r=O.s.c=1e7,O.e.r=O.e.c=0,h=e.dense?[]:{},G=[],te=[],Se=!0);break;case"table-row-group":g[1]==="/"?--I:++I;break;case"table-row":case"\u884C":if(g[1]==="/"){R+=Ce,Ce=1;break}if(d=Me(g[0],!1),d.\u884C\u53F7?R=d.\u884C\u53F7-1:R==-1&&(R=0),Ce=+d["number-rows-repeated"]||1,Ce<10)for(he=0;he<Ce;++he)I>0&&(te[R+he]={level:I});E=-1;break;case"covered-table-cell":g[1]!=="/"&&++E,e.sheetStubs&&(e.dense?(h[R]||(h[R]=[]),h[R][E]={t:"z"}):h[Ue({r:R,c:E})]={t:"z"}),C="",P=[];break;case"table-cell":case"\u6570\u636E":if(g[0].charAt(g[0].length-2)==="/")++E,m=Me(g[0],!1),se=parseInt(m["number-columns-repeated"]||"1",10),v={t:"z",v:null},m.formula&&e.cellFormula!=!1&&(v.f=Eb(pt(m.formula))),(m.\u6570\u636E\u7C7B\u578B||m["value-type"])=="string"&&(v.t="s",v.v=pt(m["string-value"]||""),e.dense?(h[R]||(h[R]=[]),h[R][E]=v):h[Ue({r:R,c:E})]=v),E+=se-1;else if(g[1]!=="/"){++E,C="",y=0,P=[],se=1;var we=Ce?R+Ce-1:R;if(E>O.e.c&&(O.e.c=E),E<O.s.c&&(O.s.c=E),R<O.s.r&&(O.s.r=R),we>O.e.r&&(O.e.r=we),m=Me(g[0],!1),M=[],U={},v={t:m.\u6570\u636E\u7C7B\u578B||m["value-type"],v:null},e.cellFormula)if(m.formula&&(m.formula=pt(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(ee=parseInt(m["number-matrix-rows-spanned"],10)||0,de=parseInt(m["number-matrix-columns-spanned"],10)||0,L={s:{r:R,c:E},e:{r:R+ee-1,c:E+de-1}},v.F=dt(L),Fe.push([L,v.F])),m.formula)v.f=Eb(m.formula);else for(he=0;he<Fe.length;++he)R>=Fe[he][0].s.r&&R<=Fe[he][0].e.r&&E>=Fe[he][0].s.c&&E<=Fe[he][0].e.c&&(v.F=Fe[he][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(ee=parseInt(m["number-rows-spanned"],10)||0,de=parseInt(m["number-columns-spanned"],10)||0,L={s:{r:R,c:E},e:{r:R+ee-1,c:E+de-1}},G.push(L)),m["number-columns-repeated"]&&(se=parseInt(m["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Pt(m["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(m.value);break;case"percentage":v.t="n",v.v=parseFloat(m.value);break;case"currency":v.t="n",v.v=parseFloat(m.value);break;case"date":v.t="d",v.v=gn(m["date-value"]),e.cellDates||(v.t="n",v.v=Kn(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Zz(m["time-value"])/86400,e.cellDates&&(v.t="d",v.v=fg(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(m.\u6570\u636E\u6570\u503C);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",m["string-value"]!=null&&(C=pt(m["string-value"]),P=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(J=!1,v.t==="s"&&(v.v=C||"",P.length&&(v.R=P),J=y==0),_e.Target&&(v.l=_e),M.length>0&&(v.c=M,M=[]),C&&e.cellText!==!1&&(v.w=C),J&&(v.t="z",delete v.v),(!J||e.sheetStubs)&&!(e.sheetRows&&e.sheetRows<=R))for(var ie=0;ie<Ce;++ie){if(se=parseInt(m["number-columns-repeated"]||"1",10),e.dense)for(h[R+ie]||(h[R+ie]=[]),h[R+ie][E]=ie==0?v:_n(v);--se>0;)h[R+ie][E+se]=_n(v);else for(h[Ue({r:R+ie,c:E})]=v;--se>0;)h[Ue({r:R+ie,c:E+se})]=_n(v);O.e.c<=E&&(O.e.c=E)}se=parseInt(m["number-columns-repeated"]||"1",10),E+=se-1,se=0,v={},C="",P=[]}_e={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((o=i.pop())[0]!==g[3])throw"Bad state: "+o}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((o=i.pop())[0]!==g[3])throw"Bad state: "+o;U.t=C,P.length&&(U.R=P),U.a=H,M.push(U)}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);H="",V=0,C="",y=0,P=[];break;case"creator":g[1]==="/"?H=n.slice(V,g.index):V=g.index+g[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((o=i.pop())[0]!==g[3])throw"Bad state: "+o}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);C="",y=0,P=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(k[a.name]=l,(o=i.pop())[0]!==g[3])throw"Bad state: "+o}else g[0].charAt(g[0].length-2)!=="/"&&(l="",a=Me(g[0],!1),i.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Me(g[0],!1),l+=Ob[g[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Me(g[0],!1),l+=Ob[g[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":s=Me(g[0],!1),Z=Tw(s["cell-range-address"]);var st={Name:s.name,Ref:Z[0]+"!"+Z[1]};Se&&(st.Sheet=p.length),le.Names.push(st);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(g[1]==="/"&&(!m||!m["string-value"])){var N=VQ(n.slice(y,g.index),x);C=(C.length>0?C+`
`:"")+N[0]}else x=Me(g[0],!1),y=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Z=Tw(Me(g[0])["target-range-address"]),f[Z[0]]["!autofilter"]={ref:Z[1]}}catch{}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(_e=Me(g[0],!1),!_e.href)break;_e.Target=pt(_e.href),delete _e.href,_e.Target.charAt(0)=="#"&&_e.Target.indexOf(".")>-1?(Z=Tw(_e.Target.slice(1)),_e.Target="#"+Z[0]+"!"+Z[1]):_e.Target.match(/^\.\.[\\\/]/)&&(_e.Target=_e.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(e.WTF)throw new Error(g)}}var Mt={Sheets:f,SheetNames:p,Workbook:le};return e.bookSheets&&delete Mt.Sheets,Mt}function bb(r,t){t=t||{},Jr(r,"META-INF/manifest.xml")&&t9(qt(r,"META-INF/manifest.xml"),t);var e=Ir(r,"content.xml");if(!e)throw new Error("Missing content.xml in ODS / UOF file");var n=sF(Tt(e),t);return Jr(r,"meta.xml")&&(n.Props=C1(qt(r,"meta.xml"))),n}function Fb(r,t){return sF(r,t)}function f_(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Gw(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):Tt(Na(r))}function Vw(r){var t=r.reduce(function(i,o){return i+o.length},0),e=new Uint8Array(t),n=0;return r.forEach(function(i){e.set(i,n),n+=i.length}),e}function Ib(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function HQ(r,t){for(var e=(r[t+15]&127)<<7|r[t+14]>>1,n=r[t+14]&1,i=t+13;i>=t;--i)n=n*256+r[i];return(r[t+15]&128?-n:n)*Math.pow(10,e-6176)}function Od(r,t){var e=t?t[0]:0,n=r[e]&127;e:if(r[e++]>=128&&(n|=(r[e]&127)<<7,r[e++]<128||(n|=(r[e]&127)<<14,r[e++]<128)||(n|=(r[e]&127)<<21,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,28),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,35),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,42),++e,r[e++]<128)))break e;return t&&(t[0]=e),n}function sn(r){var t=0,e=r[t]&127;e:if(r[t++]>=128){if(e|=(r[t]&127)<<7,r[t++]<128||(e|=(r[t]&127)<<14,r[t++]<128)||(e|=(r[t]&127)<<21,r[t++]<128))break e;e|=(r[t]&127)<<28}return e}function In(r){for(var t=[],e=[0];e[0]<r.length;){var n=e[0],i=Od(r,e),o=i&7;i=Math.floor(i/8);var s=0,a;if(i==0)break;switch(o){case 0:{for(var l=e[0];r[e[0]++]>=128;);a=r.slice(l,e[0])}break;case 5:s=4,a=r.slice(e[0],e[0]+s),e[0]+=s;break;case 1:s=8,a=r.slice(e[0],e[0]+s),e[0]+=s;break;case 2:s=Od(r,e),a=r.slice(e[0],e[0]+s),e[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(n))}var u={data:a,type:o};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function p_(r,t){return r?.map(function(e){return t(e.data)})||[]}function BQ(r){for(var t,e=[],n=[0];n[0]<r.length;){var i=Od(r,n),o=In(r.slice(n[0],n[0]+i));n[0]+=i;var s={id:sn(o[1][0].data),messages:[]};o[2].forEach(function(a){var l=In(a.data),u=sn(l[3][0].data);s.messages.push({meta:l,data:r.slice(n[0],n[0]+u)}),n[0]+=u}),(t=o[3])!=null&&t[0]&&(s.merge=sn(o[3][0].data)>>>0>0),e.push(s)}return e}function jQ(r,t){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var e=[0],n=Od(t,e),i=[];e[0]<t.length;){var o=t[e[0]]&3;if(o==0){var s=t[e[0]++]>>2;if(s<60)++s;else{var a=s-59;s=t[e[0]],a>1&&(s|=t[e[0]+1]<<8),a>2&&(s|=t[e[0]+2]<<16),a>3&&(s|=t[e[0]+3]<<24),s>>>=0,s++,e[0]+=a}i.push(t.slice(e[0],e[0]+s)),e[0]+=s;continue}else{var l=0,u=0;if(o==1?(u=(t[e[0]]>>2&7)+4,l=(t[e[0]++]&224)<<3,l|=t[e[0]++]):(u=(t[e[0]++]>>2)+1,o==2?(l=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(l=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),i=[Vw(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=Vw(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function UQ(r){for(var t=[],e=0;e<r.length;){var n=r[e++],i=r[e]|r[e+1]<<8|r[e+2]<<16;e+=3,t.push(jQ(n,r.slice(e,e+i))),e+=i}if(e!==r.length)throw new Error("data is not a valid framed stream!");return Vw(t)}function WQ(r,t,e,n){var i=f_(r),o=i.getUint32(4,!0),s=(n>1?12:8)+Ib(o&(n>1?3470:398))*4,a=-1,l=-1,u=NaN,c=new Date(2001,0,1);o&512&&(a=i.getUint32(s,!0),s+=4),s+=Ib(o&(n>1?12288:4096))*4,o&16&&(l=i.getUint32(s,!0),s+=4),o&32&&(u=i.getFloat64(s,!0),s+=8),o&64&&(c.setTime(c.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var d;switch(r[2]){case 0:break;case 2:d={t:"n",v:u};break;case 3:d={t:"s",v:t[l]};break;case 5:d={t:"d",v:c};break;case 6:d={t:"b",v:u>0};break;case 7:d={t:"n",v:u/86400};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1)d={t:"s",v:e[a]};else if(l>-1)d={t:"s",v:t[l]};else if(!isNaN(u))d={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return d}function zQ(r,t,e){var n=f_(r),i=n.getUint32(8,!0),o=12,s=-1,a=-1,l=NaN,u=NaN,c=new Date(2001,0,1);i&1&&(l=HQ(r,o),o+=16),i&2&&(u=n.getFloat64(o,!0),o+=8),i&4&&(c.setTime(c.getTime()+n.getFloat64(o,!0)*1e3),o+=8),i&8&&(a=n.getUint32(o,!0),o+=4),i&16&&(s=n.getUint32(o,!0),o+=4);var d;switch(r[1]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:t[a]};break;case 5:d={t:"d",v:c};break;case 6:d={t:"b",v:u>0};break;case 7:d={t:"n",v:u/86400};break;case 8:d={t:"e",v:0};break;case 9:if(s>-1)d={t:"s",v:e[s]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)))}return d}function $Q(r,t,e){switch(r[0]){case 0:case 1:case 2:case 3:return WQ(r,t,e,r[0]);case 5:return zQ(r,t,e);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function Ts(r){var t=In(r);return Od(t[1][0].data)}function Pb(r,t){var e=In(t.data),n=sn(e[1][0].data),i=e[3],o=[];return(i||[]).forEach(function(s){var a=In(s.data),l=sn(a[1][0].data)>>>0;switch(n){case 1:o[l]=Gw(a[3][0].data);break;case 8:{var u=r[Ts(a[9][0].data)][0],c=In(u.data),d=r[Ts(c[1][0].data)][0],f=sn(d.meta[1][0].data);if(f!=2001)throw new Error("2000 unexpected reference to ".concat(f));var p=In(d.data);o[l]=p[3].map(function(h){return Gw(h.data)}).join("")}break}}),o}function KQ(r,t){var e,n,i,o,s,a,l,u,c,d,f,p,h,g,v=In(r),m=sn(v[1][0].data)>>>0,C=sn(v[2][0].data)>>>0,y=((n=(e=v[8])==null?void 0:e[0])==null?void 0:n.data)&&sn(v[8][0].data)>0||!1,x,P;if((o=(i=v[7])==null?void 0:i[0])!=null&&o.data&&t!=0)x=(a=(s=v[7])==null?void 0:s[0])==null?void 0:a.data,P=(u=(l=v[6])==null?void 0:l[0])==null?void 0:u.data;else if((d=(c=v[4])==null?void 0:c[0])!=null&&d.data&&t!=1)x=(p=(f=v[4])==null?void 0:f[0])==null?void 0:p.data,P=(g=(h=v[3])==null?void 0:h[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var R=y?4:1,E=f_(x),O=[],I=0;I<x.length/2;++I){var k=E.getUint16(I*2,!0);k<65535&&O.push([I,k])}if(O.length!=C)throw"Expected ".concat(C," cells, found ").concat(O.length);var G=[];for(I=0;I<O.length-1;++I)G[O[I][0]]=P.subarray(O[I][1]*R,O[I+1][1]*R);return O.length>=1&&(G[O[O.length-1][0]]=P.subarray(O[O.length-1][1]*R)),{R:m,cells:G}}function YQ(r,t){var e,n=In(t.data),i=(e=n?.[7])!=null&&e[0]?sn(n[7][0].data)>>>0>0?1:0:-1,o=p_(n[5],function(s){return KQ(s,i)});return{nrows:sn(n[4][0].data)>>>0,data:o.reduce(function(s,a){return s[a.R]||(s[a.R]=[]),a.cells.forEach(function(l,u){if(s[a.R][u])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(u));s[a.R][u]=l}),s},[])}}function qQ(r,t,e){var n,i=In(t.data),o={s:{r:0,c:0},e:{r:0,c:0}};if(o.e.r=(sn(i[6][0].data)>>>0)-1,o.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(o.e.c=(sn(i[7][0].data)>>>0)-1,o.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));e["!ref"]=dt(o);var s=In(i[4][0].data),a=Pb(r,r[Ts(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?Pb(r,r[Ts(s[17][0].data)][0]):[],u=In(s[3][0].data),c=0;u[1].forEach(function(d){var f=In(d.data),p=r[Ts(f[2][0].data)][0],h=sn(p.meta[1][0].data);if(h!=6002)throw new Error("6001 unexpected reference to ".concat(h));var g=YQ(r,p);g.data.forEach(function(v,m){v.forEach(function(C,y){var x=Ue({r:c+m,c:y}),P=$Q(C,a,l);P&&(e[x]=P)})}),c+=g.nrows})}function XQ(r,t){var e=In(t.data),n={"!ref":"A1"},i=r[Ts(e[2][0].data)],o=sn(i[0].meta[1][0].data);if(o!=6001)throw new Error("6000 unexpected reference to ".concat(o));return qQ(r,i[0],n),n}function QQ(r,t){var e,n=In(t.data),i={name:(e=n[1])!=null&&e[0]?Gw(n[1][0].data):"",sheets:[]},o=p_(n[2],Ts);return o.forEach(function(s){r[s].forEach(function(a){var l=sn(a.meta[1][0].data);l==6e3&&i.sheets.push(XQ(r,a))})}),i}function ZQ(r,t){var e=v_(),n=In(t.data),i=p_(n[1],Ts);if(i.forEach(function(o){r[o].forEach(function(s){var a=sn(s.meta[1][0].data);if(a==2){var l=QQ(r,s);l.sheets.forEach(function(u,c){m_(e,u,c==0?l.name:l.name+"_"+c,!0)})}})}),e.SheetNames.length==0)throw new Error("Empty NUMBERS file");return e}function Aw(r){var t,e,n,i,o={},s=[];if(r.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=UQ(l.content)}catch(d){return console.log("?? "+l.content.length+" "+(d.message||d))}var c;try{c=BQ(u)}catch(d){return console.log("## "+(d.message||d))}c.forEach(function(d){o[d.id]=d.messages,s.push(d.id)})}}),!s.length)throw new Error("File has no messages");var a=((i=(n=(e=(t=o?.[1])==null?void 0:t[0])==null?void 0:e.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&sn(o[1][0].meta[1][0].data)==1&&o[1][0];if(a||s.forEach(function(l){o[l].forEach(function(u){var c=sn(u.meta[1][0].data)>>>0;if(c==1)if(!a)a=u;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return ZQ(o,a)}function JQ(r){return function(e){for(var n=0;n!=r.length;++n){var i=r[n];e[i[0]]===void 0&&(e[i[0]]=i[1]),i[2]==="n"&&(e[i[0]]=Number(e[i[0]]))}}}function h_(r){JQ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function eZ(r){return Ao.WS.indexOf(r)>-1?"sheet":Ao.CS&&r==Ao.CS?"chart":Ao.DS&&r==Ao.DS?"dialog":Ao.MS&&r==Ao.MS?"macro":r&&r.length?r:"sheet"}function tZ(r,t){if(!r)return 0;try{r=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,eZ(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function nZ(r,t,e,n,i,o,s,a,l,u,c,d){try{o[n]=md(Ir(r,e,!0),t);var f=qt(r,t),p;switch(a){case"sheet":p=lQ(f,t,i,l,o[n],u,c,d);break;case"chart":if(p=uQ(f,t,i,l,o[n],u,c,d),!p||!p["!drawel"])break;var h=fd(p["!drawel"].Target,t),g=Pw(h),v=aY(Ir(r,h,!0),md(Ir(r,g,!0),h)),m=fd(v,h),C=Pw(m);p=zX(Ir(r,m,!0),m,l,md(Ir(r,C,!0),m),u,p);break;case"macro":p=cQ(f,t,i,l,o[n],u,c,d);break;case"dialog":p=dQ(f,t,i,l,o[n],u,c,d);break;default:throw new Error("Unrecognized sheet type "+a)}s[n]=p;var y=[];o&&o[n]&&oo(o[n]).forEach(function(x){var P="";if(o[n][x].Type==Ao.CMNT){P=fd(o[n][x].Target,t);var R=gQ(qt(r,P,!0),P,l);if(!R||!R.length)return;yb(p,R,!1)}o[n][x].Type==Ao.TCMNT&&(P=fd(o[n][x].Target,t),y=y.concat(uY(qt(r,P,!0),l)))}),y&&y.length&&yb(p,y,!0,l.people||[])}catch(x){if(l.WTF)throw x}}function Qr(r){return r.charAt(0)=="/"?r.slice(1):r}function rZ(r,t){if(Yb(),t=t||{},h_(t),Jr(r,"META-INF/manifest.xml")||Jr(r,"objectdata.xml"))return bb(r,t);if(Jr(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Aw<"u"){if(r.FileIndex)return Aw(r);var e=ct.utils.cfb_new();return zO(r).forEach(function(de){r$(e,de,e1(r,de))}),Aw(e)}throw new Error("Unsupported NUMBERS file")}if(!Jr(r,"[Content_Types].xml"))throw Jr(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Jr(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=zO(r),i=J$(Ir(r,"[Content_Types].xml")),o=!1,s,a;if(i.workbooks.length===0&&(a="xl/workbook.xml",qt(r,a,!0)&&i.workbooks.push(a)),i.workbooks.length===0){if(a="xl/workbook.bin",!qt(r,a,!0))throw new Error("Could not find workbook");i.workbooks.push(a),o=!0}i.workbooks[0].slice(-3)=="bin"&&(o=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(wd=[],i.sst)try{wd=hQ(qt(r,Qr(i.sst)),i.sst,t)}catch(de){if(t.WTF)throw de}t.cellStyles&&i.themes.length&&(l=pQ(Ir(r,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(u=fQ(qt(r,Qr(i.style)),i.style,l,t))}i.links.map(function(de){try{var te=md(Ir(r,Pw(Qr(de))),de);return mQ(qt(r,Qr(de)),te,de,t)}catch{}});var c=aQ(qt(r,Qr(i.workbooks[0])),i.workbooks[0],t),d={},f="";i.coreprops.length&&(f=qt(r,Qr(i.coreprops[0]),!0),f&&(d=C1(f)),i.extprops.length!==0&&(f=qt(r,Qr(i.extprops[0]),!0),f&&i9(f,d,t)));var p={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(f=Ir(r,Qr(i.custprops[0]),!0),f&&(p=s9(f,t)));var h={};if((t.bookSheets||t.bookProps)&&(c.Sheets?s=c.Sheets.map(function(te){return te.name}):d.Worksheets&&d.SheetNames.length>0&&(s=d.SheetNames),t.bookProps&&(h.Props=d,h.Custprops=p),t.bookSheets&&typeof s<"u"&&(h.SheetNames=s),t.bookSheets?h.SheetNames:t.bookProps))return h;s={};var g={};t.bookDeps&&i.calcchain&&(g=vQ(qt(r,Qr(i.calcchain)),i.calcchain,t));var v=0,m={},C,y;{var x=c.Sheets;d.Worksheets=x.length,d.SheetNames=[];for(var P=0;P!=x.length;++P)d.SheetNames[P]=x[P].name}var R=o?"bin":"xml",E=i.workbooks[0].lastIndexOf("/"),O=(i.workbooks[0].slice(0,E+1)+"_rels/"+i.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");Jr(r,O)||(O="xl/_rels/workbook."+R+".rels");var I=md(Ir(r,O,!0),O.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=yQ(qt(r,Qr(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=cY(qt(r,Qr(i.people[0])),t)),I&&(I=tZ(I,c.Sheets));var k=qt(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=d.Worksheets;++v){var G="sheet";if(I&&I[v]?(C="xl/"+I[v][1].replace(/[\/]?xl\//,""),Jr(r,C)||(C=I[v][1]),Jr(r,C)||(C=O.replace(/_rels\/.*$/,"")+I[v][1]),G=I[v][2]):(C="xl/worksheets/sheet"+(v+1-k)+"."+R,C=C.replace(/sheet0\./,"sheet.")),y=C.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(d.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var L=!1,ee=0;ee!=t.sheets.length;++ee)typeof t.sheets[ee]=="number"&&t.sheets[ee]==v&&(L=1),typeof t.sheets[ee]=="string"&&t.sheets[ee].toLowerCase()==d.SheetNames[v].toLowerCase()&&(L=1);if(!L)continue e}}nZ(r,C,y,d.SheetNames[v],v,m,s,G,t,c,l,u)}return h={Directory:i,Workbook:c,Props:d,Custprops:p,Deps:g,Sheets:s,SheetNames:d.SheetNames,Strings:wd,Styles:u,Themes:l,SSF:_n($e)},t&&t.bookFiles&&(r.files?(h.keys=n,h.files=r.files):(h.keys=[],h.files={},r.FullPaths.forEach(function(de,te){de=de.replace(/^Root Entry[\/]/,""),h.keys.push(de),h.files[de]=r.FileIndex[te]}))),t&&t.bookVBA&&(i.vba.length>0?h.vbaraw=qt(r,Qr(i.vba[0]),!0):i.defaults&&i.defaults.bin===hY&&(h.vbaraw=qt(r,"xl/vbaProject.bin",!0))),h}function iZ(r,t){var e=t||{},n="Workbook",i=ct.find(r,n);try{if(n="/!DataSpaces/Version",i=ct.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(X7(i.content),n="/!DataSpaces/DataSpaceMap",i=ct.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Z7(i.content);if(o.length!==1||o[0].comps.length!==1||o[0].comps[0].t!==0||o[0].name!=="StrongEncryptionDataSpace"||o[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=ct.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=J7(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=ct.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);tK(i.content)}catch{}if(n="/EncryptionInfo",i=ct.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=nK(i.content);if(n="/EncryptedPackage",i=ct.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],i.content,e.password||"",e);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],i.content,e.password||"",e);throw new Error("File is password-protected")}function g_(r,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":e=Pr(r.slice(0,12));break;case"binary":e=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function oZ(r,t){return ct.find(r,"EncryptedPackage")?iZ(r,t):rF(r,t)}function sZ(r,t){var e,n=r,i=t||{};return i.type||(i.type=ot&&Buffer.isBuffer(r)?"buffer":"base64"),e=t1(n,i),rZ(e,i)}function aF(r,t){var e=0;e:for(;e<r.length;)switch(r.charCodeAt(e)){case 10:case 13:case 32:++e;break;case 60:return Lw(r.slice(e),t);default:break e}return Td.to_workbook(r,t)}function aZ(r,t){var e="",n=g_(r,t);switch(t.type){case"base64":e=Pr(r);break;case"binary":e=r;break;case"buffer":e=r.toString("binary");break;case"array":e=Ia(r);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(e=Tt(e)),t.type="binary",aF(e,t)}function lZ(r,t){var e=r;return t.type=="base64"&&(e=Pr(e)),e=vt.utils.decode(1200,e.slice(2),"str"),t.type="binary",aF(e,t)}function uZ(r){return r.match(/[^\x00-\x7F]/)?pd(r):r}function Ow(r,t,e,n){return n?(e.type="string",Td.to_workbook(r,e)):Td.to_workbook(t,e)}function bd(r,t){Lb();var e=t||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return bd(new Uint8Array(r),(e=_n(e),e.type="array",e));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!e.type&&(e.type=typeof Deno<"u"?"buffer":"array");var n=r,i=[0,0,0,0],o=!1;if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),Xl={},e.dateNF&&(Xl.dateNF=e.dateNF),e.type||(e.type=ot&&Buffer.isBuffer(r)?"buffer":"base64"),e.type=="file"&&(e.type=ot?"buffer":"binary",n=Xz(r),typeof Uint8Array<"u"&&!ot&&(e.type="array")),e.type=="string"&&(o=!0,e.type="binary",e.codepage=65001,n=uZ(r)),e.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),a=new Uint8Array(s);if(a.foo="bar",!a.foo)return e=_n(e),e.type="array",bd(Uw(n),e)}switch((i=g_(n,e))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return oZ(ct.read(n,e),e);break;case 9:if(i[1]<=8)return rF(n,e);break;case 60:return Lw(n,e);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return k7(n,e);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return N7.to_workbook(n,e);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?sZ(n,e):Ow(r,n,e,o);case 239:return i[3]===60?Lw(n,e):Ow(r,n,e,o);case 255:if(i[1]===254)return lZ(n,e);if(i[1]===0&&i[2]===2&&i[3]===0)return Cd.to_workbook(n,e);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Cd.to_workbook(n,e);break;case 3:case 131:case 139:case 140:return mb.to_workbook(n,e);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return hK.to_workbook(n,e);break;case 10:case 13:case 32:return aZ(n,e);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return P7.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?mb.to_workbook(n,e):Ow(r,n,e,o)}function cZ(r,t,e,n,i,o,s,a){var l=Sn(e),u=a.defval,c=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),d=!0,f=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:e,enumerable:!1})}catch{f.__rowNum__=e}else f.__rowNum__=e;if(!s||r[e])for(var p=t.s.c;p<=t.e.c;++p){var h=s?r[e][p]:r[n[p]+l];if(h===void 0||h.t===void 0){if(u===void 0)continue;o[p]!=null&&(f[o[p]]=u);continue}var g=h.v;switch(h.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+h.t)}if(o[p]!=null){if(g==null)if(h.t=="e"&&g===null)f[o[p]]=null;else if(u!==void 0)f[o[p]]=u;else if(c&&g===null)f[o[p]]=null;else continue;else f[o[p]]=c&&(h.t!=="n"||h.t==="n"&&a.rawNumbers!==!1)?g:Io(h,g,a);g!=null&&(d=!1)}}return{row:f,isempty:d}}function Hw(r,t){if(r==null||r["!ref"]==null)return[];var e={t:"n",v:0},n=0,i=1,o=[],s=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},c=u.range!=null?u.range:r["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=kt(c);break;case"number":l=kt(r["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var d=Sn(l.s.r),f=[],p=[],h=0,g=0,v=Array.isArray(r),m=l.s.r,C=0,y={};v&&!r[m]&&(r[m]=[]);var x=u.skipHidden&&r["!cols"]||[],P=u.skipHidden&&r["!rows"]||[];for(C=l.s.c;C<=l.e.c;++C)if(!(x[C]||{}).hidden)switch(f[C]=on(C),e=v?r[m][C]:r[f[C]+d],n){case 1:o[C]=C-l.s.c;break;case 2:o[C]=f[C];break;case 3:o[C]=u.header[C-l.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),a=s=Io(e,null,u),g=y[s]||0,!g)y[s]=1;else{do a=s+"_"+g++;while(y[a]);y[s]=g,y[a]=1}o[C]=a}for(m=l.s.r+i;m<=l.e.r;++m)if(!(P[m]||{}).hidden){var R=cZ(r,l,m,f,n,o,v,u);(R.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[h++]=R.row)}return p.length=h,p}var Mb=/"/g;function dZ(r,t,e,n,i,o,s,a){for(var l=!0,u=[],c="",d=Sn(e),f=t.s.c;f<=t.e.c;++f)if(n[f]){var p=a.dense?(r[e]||[])[f]:r[n[f]+d];if(p==null)c="";else if(p.v!=null){l=!1,c=""+(a.rawNumbers&&p.t=="n"?p.v:Io(p,null,a));for(var h=0,g=0;h!==c.length;++h)if((g=c.charCodeAt(h))===i||g===o||g===34||a.forceQuotes){c='"'+c.replace(Mb,'""')+'"';break}c=="ID"&&(c='"ID"')}else p.f!=null&&!p.F?(l=!1,c="="+p.f,c.indexOf(",")>=0&&(c='"'+c.replace(Mb,'""')+'"')):c="";u.push(c)}return a.blankrows===!1&&l?null:u.join(s)}function lF(r,t){var e=[],n=t??{};if(r==null||r["!ref"]==null)return"";var i=kt(r["!ref"]),o=n.FS!==void 0?n.FS:",",s=o.charCodeAt(0),a=n.RS!==void 0?n.RS:`
`,l=a.charCodeAt(0),u=new RegExp((o=="|"?"\\|":o)+"+$"),c="",d=[];n.dense=Array.isArray(r);for(var f=n.skipHidden&&r["!cols"]||[],p=n.skipHidden&&r["!rows"]||[],h=i.s.c;h<=i.e.c;++h)(f[h]||{}).hidden||(d[h]=on(h));for(var g=0,v=i.s.r;v<=i.e.r;++v)(p[v]||{}).hidden||(c=dZ(r,i,v,d,s,l,o,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&e.push((g++?a:"")+c)));return delete n.dense,e.join("")}function fZ(r,t){t||(t={}),t.FS="	",t.RS=`
`;var e=lF(r,t);if(typeof vt>"u"||t.type=="string")return e;var n=vt.utils.encode(1200,e,"str");return String.fromCharCode(255)+String.fromCharCode(254)+n}function pZ(r){var t="",e,n="";if(r==null||r["!ref"]==null)return[];var i=kt(r["!ref"]),o="",s=[],a,l=[],u=Array.isArray(r);for(a=i.s.c;a<=i.e.c;++a)s[a]=on(a);for(var c=i.s.r;c<=i.e.r;++c)for(o=Sn(c),a=i.s.c;a<=i.e.c;++a)if(t=s[a]+o,e=u?(r[c]||[])[a]:r[t],n="",e!==void 0){if(e.F!=null){if(t=e.F,!e.f)continue;n=e.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(e.f!=null)n=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)n=""+e.v;else if(e.t=="b")n=e.v?"TRUE":"FALSE";else if(e.w!==void 0)n="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?n="'"+e.v:n=""+e.v}}l[l.length]=t+"="+n}return l}function uF(r,t,e){var n=e||{},i=+!n.skipHeader,o=r||{},s=0,a=0;if(o&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?$n(n.origin):n.origin;s=l.r,a=l.c}var u,c={s:{c:0,r:0},e:{c:a,r:s+t.length-1+i}};if(o["!ref"]){var d=kt(o["!ref"]);c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),s==-1&&(s=d.e.r+1,c.e.r=s+t.length-1+i)}else s==-1&&(s=0,c.e.r=t.length-1+i);var f=n.header||[],p=0;t.forEach(function(g,v){oo(g).forEach(function(m){(p=f.indexOf(m))==-1&&(f[p=f.length]=m);var C=g[m],y="z",x="",P=Ue({c:a+p,r:s+v+i});u=Fd(o,P),C&&typeof C=="object"&&!(C instanceof Date)?o[P]=C:(typeof C=="number"?y="n":typeof C=="boolean"?y="b":typeof C=="string"?y="s":C instanceof Date?(y="d",n.cellDates||(y="n",C=Kn(C)),x=n.dateNF||$e[14]):C===null&&n.nullError&&(y="e",C=0),u?(u.t=y,u.v=C,delete u.w,delete u.R,x&&(u.z=x)):o[P]=u={t:y,v:C},x&&(u.z=x))})}),c.e.c=Math.max(c.e.c,a+f.length-1);var h=Sn(s);if(i)for(p=0;p<f.length;++p)o[on(p+a)+h]={t:"s",v:f[p]};return o["!ref"]=dt(c),o}function hZ(r,t){return uF(null,r,t)}function Fd(r,t,e){if(typeof t=="string"){if(Array.isArray(r)){var n=$n(t);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[t]||(r[t]={t:"z"})}return typeof t!="number"?Fd(r,Ue(t)):Fd(r,Ue({r:t,c:e||0}))}function gZ(r,t){if(typeof t=="number"){if(t>=0&&r.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=r.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function v_(){return{SheetNames:[],Sheets:{}}}function m_(r,t,e,n){var i=1;if(!e)for(;i<=65535&&r.SheetNames.indexOf(e="Sheet"+i)!=-1;++i,e=void 0);if(!e||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(e)>=0){var o=e.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var s=o&&o[1]||e;for(++i;i<=65535&&r.SheetNames.indexOf(e=s+i)!=-1;++i);}if(JX(e),r.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return r.SheetNames.push(e),r.Sheets[e]=t,e}function vZ(r,t,e){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=gZ(r,t);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}r.Workbook.Sheets[n].Hidden=e}function mZ(r,t){return r.z=t,r}function cF(r,t,e){return t?(r.l={Target:t},e&&(r.l.Tooltip=e)):delete r.l,r}function yZ(r,t,e){return cF(r,"#"+t,e)}function CZ(r,t,e){r.c||(r.c=[]),r.c.push({t,a:e||"SheetJS"})}function wZ(r,t,e,n){for(var i=typeof t!="string"?t:kt(t),o=typeof t=="string"?t:dt(t),s=i.s.r;s<=i.e.r;++s)for(var a=i.s.c;a<=i.e.c;++a){var l=Fd(r,s,a);l.t="n",l.F=o,delete l.v,s==i.s.r&&a==i.s.c&&(l.f=e,n&&(l.D=!0))}return r}var y_={encode_col:on,encode_row:Sn,encode_cell:Ue,encode_range:dt,decode_col:n_,decode_row:t_,split_cell:I$,decode_cell:$n,decode_range:nu,format_cell:Io,sheet_add_aoa:h1,sheet_add_json:uF,sheet_add_dom:iF,aoa_to_sheet:ru,json_to_sheet:hZ,table_to_sheet:oF,table_to_book:kQ,sheet_to_csv:lF,sheet_to_txt:fZ,sheet_to_json:Hw,sheet_to_html:LQ,sheet_to_formulae:pZ,sheet_to_row_object_array:Hw,sheet_get_cell:Fd,book_new:v_,book_append_sheet:m_,book_set_sheet_visibility:vZ,cell_set_number_format:mZ,cell_set_hyperlink:cF,cell_set_internal_link:yZ,cell_add_comment:CZ,sheet_set_array_formula:wZ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var oae=Nb.version;var mg=(()=>{let t=class t{constructor(){}readExcel(n){return new Promise((i,o)=>{let s=new FileReader;s.onload=a=>{let l=s.result,u=bd(l,{type:"buffer"}),c=u.SheetNames[0],d=u.Sheets[c],f=y_.sheet_to_json(d,{header:1});i(f)},s.onerror=a=>{o(a)},s.readAsArrayBuffer(n)})}readCSV(n){return new Promise((i,o)=>{let s=new FileReader;s.onload=a=>{let l=s.result,u=bd(l,{type:"string"}),c=y_.sheet_to_json(u.Sheets.Sheet1,{raw:!1});i(c)},s.onerror=a=>{o(a)},s.readAsText(n)})}getDataFromFile(n){return new Promise((i,o)=>{n.name.endsWith(".csv")?this.readCSV(n).then(s=>(console.log("CSV data",s),i(s))).catch(s=>(console.error("Error reading the CSV file",s),o(s))):this.readExcel(n).then(s=>i(s)).catch(s=>(console.error("Error reading the Excel file",s),o(s)))})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var SZ=["resultsSection"];function EZ(r,t){if(r&1){let e=na();Te(0,"div",13)(1,"button",14),Ot("click",function(){Zs(e);let i=Wi();return Js(i.compareSpreadsheets())}),je(2,"Compare"),ve()()}}var xZ=(r,t,e)=>({matched:r,mismatched:t,"missing-data":e});function DZ(r,t){if(r&1&&(Te(0,"li"),je(1),Te(2,"span",18),je(3),ve()()),r&2){let e=t.$implicit;mt(1),e0(" Date: ",e.date,", Shop Sale Amount: ",e.shopSaleAmount,", Bank Account Amount: ",e.bankAccountAmount,", Status: "),mt(1),wt("ngClass",oD(5,xZ,e.status==="Matched",e.status==="Mismatched",e.status==="Missing Data")),mt(1),Jm(e.status)}}function TZ(r,t){if(r&1&&(Te(0,"div",15,16)(2,"div")(3,"h3"),je(4,"Comparison Results"),ve()(),Te(5,"ul"),Jn(6,DZ,4,9,"li",17),ve()()),r&2){let e=Wi();mt(6),wt("ngForOf",e.comparisonResults)}}var fF=(()=>{let t=class t{ngAfterViewInit(){}constructor(n){this.documentService=n,this.saleSummaries=[],this.bankAccountStatements=[],this.comparisonResults=[],this.shopSaleSummaryColumnDef=[{headerName:"Entry Date",field:"EntryDate"},{headerName:"Register",field:"Register"},{headerName:"Gross Sales",field:"GrossSalesAmount"},{headerName:"Bank Deposit Amount",field:"BankDepositAmount"}],this.shopSaleGridOptions={pagination:!0,paginationPageSize:20,domLayout:"autoHeight",rowData:null,columnDefs:this.shopSaleSummaryColumnDef},this.bankAccountStatementColumnDef=[{headerName:"Posted Date",field:"PostedDate"},{headerName:"Transaction Date",field:"TransactionDate"},{headerName:"Transaction Type",field:"TransactionType"},{headerName:"Amount",field:"TransactionAmount"}],this.bankAccountStatementGridOptions={pagination:!0,paginationPageSize:20,domLayout:"autoHeight",rowData:null,columnDefs:this.bankAccountStatementColumnDef}}onShopSalesSummaryFileUploadChanges(n){this.saleSummaries=[];let i=[];for(let o=0;o<n.target.files.length;o++)i.push(n.target.files[o]);i.forEach(o=>{this.documentService.getDataFromFile(o).then(s=>{for(let a=2;a<s.length-1;a++){let l=s[a],u={EntryDate:l[1],Register:l[2],MeterNumber:l[3],TaxableSalesAmount:l[4],NonTaxableSalesAmount:l[5],CateringSalesAmout:l[7],NetSalesAmount:l[8],SalesTaxAmount:l[9],OverringAmount:l[10],GrossSalesAmount:l[11],NonRegGiftSalesAmount:l[13],BankDepositAmount:l[14],OverOrShortAmount:l[15],ChargedTipsAmount:l[16]};this.saleSummaries.push(u)}this.shopSaleSummaryGridApi.setGridOption("rowData",this.saleSummaries)})})}onBankAccountStatementFileUploadChanges(n){this.bankAccountStatements=[];let i=n.target.files[0];this.documentService.getDataFromFile(i).then(o=>{for(let s=0;s<o.length;s++)if(o[s]["Transaction Type"].trim(" ")=="Deposit"){let a={PostedDate:o[s]["Posted Date"],TransactionDate:o[s]["Transaction Date"],TransactionType:o[s]["Transaction Type"],TransactionAmount:o[s].Amount,CheckOrSerialNumber:o[s]["Check/Serial #"],Description:o[s].Description,DailyPostedBalance:o[s]["Daily Posted Balance"]};this.bankAccountStatements.push(a)}this.bankAccountGridApi.setGridOption("rowData",this.bankAccountStatements)})}onShopSalesSummaryGridReady(n){this.shopSaleSummaryGridApi=n.api}onBankAccountStatementGridReady(n){this.bankAccountGridApi=n.api}compareSpreadsheets(){this.comparisonResults=[];let n=new Map(this.saleSummaries.map(o=>[new Date(o.EntryDate).getDate(),o])),i=new Map(this.bankAccountStatements.map(o=>[new Date(o.TransactionDate).getDate(),o]));n.forEach((o,s)=>{if(i.has(s)){let a=i.get(s),l=o&&o.BankDepositAmount?o.BankDepositAmount:0,u=a&&a.TransactionAmount?a.TransactionAmount:0,c=l===u?"Matched":"Mismatched";this.comparisonResults.push({date:o.EntryDate,shopSaleAmount:l,bankAccountAmount:u,status:c})}else this.comparisonResults.push({date:o.EntryDate,shopSaleAmount:o&&o.BankDepositAmount?o.BankDepositAmount:0,bankAccountAmount:0,status:"Missing Data"})}),this.resultsSection&&this.scrollToResults()}scrollToResults(){this.resultsSection.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}};t.\u0275fac=function(i){return new(i||t)(ye(mg))},t.\u0275cmp=un({type:t,selectors:[["app-compare-documents"]],viewQuery:function(i,o){if(i&1&&aD(SZ,5),i&2){let s;ap(s=lp())&&(o.resultsSection=s.first)}},standalone:!0,features:[Dn],decls:17,vars:8,consts:[[1,"page-container"],[1,"container"],[1,"uploads-container"],[1,"upload-section"],["type","file","id","fileUpload1","multiple","true",1,"file-upload",3,"change"],["for","fileUpload1",1,"upload-label"],["id","grid1",1,"grid"],[1,"ag-theme-alpine",2,"width","100%",3,"rowData","columnDefs","gridOptions","gridReady"],["type","file","id","fileUpload2",1,"file-upload",3,"change"],["for","fileUpload2",1,"upload-label"],["id","grid2",1,"grid"],["class","compare-button-container",4,"ngIf"],["class","comparison-results",4,"ngIf"],[1,"compare-button-container"],[1,"compare-button",3,"click"],[1,"comparison-results"],["resultsSection",""],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(i,o){i&1&&(Te(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),Ot("change",function(a){return o.onShopSalesSummaryFileUploadChanges(a)}),ve(),Te(5,"label",5),je(6,"Upload Shop Sale summaries"),ve(),Te(7,"div",6)(8,"ag-grid-angular",7),Ot("gridReady",function(a){return o.onShopSalesSummaryGridReady(a)}),ve()()(),Te(9,"div",3)(10,"input",8),Ot("change",function(a){return o.onBankAccountStatementFileUploadChanges(a)}),ve(),Te(11,"label",9),je(12,"Upload Bank Account Statement"),ve(),Te(13,"div",10)(14,"ag-grid-angular",7),Ot("gridReady",function(a){return o.onBankAccountStatementGridReady(a)}),ve()()()(),Jn(15,EZ,3,0,"div",11)(16,TZ,7,1,"div",12),ve()()),i&2&&(mt(8),wt("rowData",o.saleSummaries)("columnDefs",o.shopSaleSummaryColumnDef)("gridOptions",o.shopSaleGridOptions),mt(6),wt("rowData",o.bankAccountStatements)("columnDefs",o.bankAccountStatementColumnDef)("gridOptions",o.bankAccountStatementGridOptions),mt(1),wt("ngIf",o.bankAccountStatements.length>0&&o.saleSummaries.length>0),mt(1),wt("ngIf",o.comparisonResults.length>0))},dependencies:[zl,Wl,fi,AD,yl,Yo],styles:[".uploads-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:20px;margin-bottom:20px}.upload-section[_ngcontent-%COMP%]{flex:1;background:#fff;border:1px solid #ddd;padding:20px;margin:0;border-radius:8px;box-shadow:0 0 10px #0000001a;box-sizing:border-box}.upload-section[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;margin-bottom:20px;border-radius:8px;box-shadow:0 0 10px #0000001a}.file-upload-row[_ngcontent-%COMP%], .grid-row[_ngcontent-%COMP%]{padding:20px}.file-upload[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;opacity:0;height:0;position:absolute}.upload-label[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#007bff;color:#fff;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.upload-label[_ngcontent-%COMP%]:hover{background-color:#0056b3}.grid[_ngcontent-%COMP%]{border:1px solid #ddd;min-height:500px;background-color:#fafafa;margin-top:20px}.ag-theme-alpine[_ngcontent-%COMP%]{max-height:490px;overflow-y:auto}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-paging-panel[_ngcontent-%COMP%]{background-color:#f0f0f0;border-top:1px solid #d0d0d0}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-paging-button[_ngcontent-%COMP%], .ag-theme-alpine[_ngcontent-%COMP%]   .ag-paging-page-summary-panel[_ngcontent-%COMP%]{color:#0056b3;font-weight:700}.compare-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;padding:20px}.compare-button[_ngcontent-%COMP%]{padding:15px 30px;font-size:18px;font-weight:700;color:#fff;background-color:#d9534f;border:none;border-radius:5px;cursor:pointer;outline:none;transition:background-color .3s ease;box-shadow:0 2px 4px #0003}.compare-button[_ngcontent-%COMP%]:hover{background-color:#c9302c}.comparison-results[_ngcontent-%COMP%]{width:100%;margin-top:20px;display:grid;place-items:center}.comparison-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px}.comparison-results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.comparison-results[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.matched[_ngcontent-%COMP%]{color:green}.mismatched[_ngcontent-%COMP%]{color:red}.missing-data[_ngcontent-%COMP%]{color:orange}.container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:auto;padding:20px}.uploads-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.upload-section[_ngcontent-%COMP%]{flex:1}@media (max-width: 768px){.uploads-container[_ngcontent-%COMP%]{flex-direction:column}.upload-section[_ngcontent-%COMP%]{width:100%}}img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]});let r=t;return r})();var SF=(()=>{let t=class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(i){return new(i||t)(ye(di),ye(mn))},t.\u0275dir=bt({type:t});let r=t;return r})(),__=(()=>{let t=class t extends SF{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Hi(t)))(o||t)}})(),t.\u0275dir=bt({type:t,features:[Cr]});let r=t;return r})(),xg=new Ge("NgValueAccessor");var RZ={provide:xg,useExisting:Vi(()=>bs),multi:!0};function AZ(){let r=yo()?yo().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var OZ=new Ge("CompositionEventMode"),bs=(()=>{let t=class t extends SF{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!AZ())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(i){return new(i||t)(ye(di),ye(mn),ye(OZ,8))},t.\u0275dir=bt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Ot("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[zi([RZ]),Cr]});let r=t;return r})();var Dg=new Ge("NgValidators"),Tg=new Ge("NgAsyncValidators");function EF(r){return r!=null}function xF(r){return ra(r)?Dt(r):r}function DF(r){let t={};return r.forEach(e=>{t=e!=null?De(De({},t),e):t}),Object.keys(t).length===0?null:t}function TF(r,t){return t.map(e=>e(r))}function bZ(r){return!r.validate}function RF(r){return r.map(t=>bZ(t)?t:e=>t.validate(e))}function FZ(r){if(!r)return null;let t=r.filter(EF);return t.length==0?null:function(e){return DF(TF(e,t))}}function AF(r){return r!=null?FZ(RF(r)):null}function IZ(r){if(!r)return null;let t=r.filter(EF);return t.length==0?null:function(e){let n=TF(e,t).map(xF);return Zg(n).pipe(lt(DF))}}function OF(r){return r!=null?IZ(RF(r)):null}function pF(r,t){return r===null?[t]:Array.isArray(r)?[...r,t]:[r,t]}function bF(r){return r._rawValidators}function FF(r){return r._rawAsyncValidators}function C_(r){return r?Array.isArray(r)?r:[r]:[]}function Cg(r,t){return Array.isArray(r)?r.includes(t):r===t}function hF(r,t){let e=C_(t);return C_(r).forEach(i=>{Cg(e,i)||e.push(i)}),e}function gF(r,t){return C_(t).filter(e=>!Cg(r,e))}var wg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=AF(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=OF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},ni=class extends wg{get formDirective(){return null}get path(){return null}},Vd=class extends wg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},_g=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},PZ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xae=St(De({},PZ),{"[class.ng-submitted]":"isSubmitted"}),su=(()=>{let t=class t extends _g{constructor(n){super(n)}};t.\u0275fac=function(i){return new(i||t)(ye(Vd,2))},t.\u0275dir=bt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&ip("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Cr]});let r=t;return r})(),au=(()=>{let t=class t extends _g{constructor(n){super(n)}};t.\u0275fac=function(i){return new(i||t)(ye(ni,10))},t.\u0275dir=bt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&ip("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Cr]});let r=t;return r})();var kd="VALID",yg="INVALID",iu="PENDING",Gd="DISABLED";function S_(r){return(Rg(r)?r.validators:r)||null}function MZ(r){return Array.isArray(r)?AF(r):r||null}function E_(r,t){return(Rg(t)?t.asyncValidators:r)||null}function NZ(r){return Array.isArray(r)?OF(r):r||null}function Rg(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function IF(r,t,e){let n=r.controls;if(!(t?Object.keys(n):n).length)throw new Ae(1e3,"");if(!n[e])throw new Ae(1001,"")}function PF(r,t,e){r._forEachChild((n,i)=>{if(e[i]===void 0)throw new Ae(1002,"")})}var ou=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===kd}get invalid(){return this.status===yg}get pending(){return this.status==iu}get disabled(){return this.status===Gd}get enabled(){return this.status!==Gd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(hF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(hF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(gF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(gF(t,this._rawAsyncValidators))}hasValidator(t){return Cg(this._rawValidators,t)}hasAsyncValidator(t){return Cg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=iu,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Gd,this.errors=null,this._forEachChild(n=>{n.disable(St(De({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(St(De({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=kd,this._forEachChild(n=>{n.enable(St(De({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(St(De({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kd||this.status===iu)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gd:kd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=iu,this._hasOwnPendingAsyncValidator=!0;let e=xF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,i)=>n&&n._find(i),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new re,this.statusChanges=new re}_calculateStatus(){return this._allControlsDisabled()?Gd:this.errors?yg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iu)?iu:this._anyControlsHaveStatus(yg)?yg:kd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Rg(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=MZ(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=NZ(this._rawAsyncValidators)}},Mr=class extends ou{constructor(t,e,n){super(S_(e),E_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){PF(this,!0,t),Object.keys(t).forEach(n=>{IF(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((i,o)=>{n=e(n,i,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var w_=class extends Mr{};var MF=new Ge("CallSetDisabledState",{providedIn:"root",factory:()=>x_}),x_="always";function D_(r,t){return[...t.path,r]}function vF(r,t,e=x_){T_(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(r.disabled),kZ(r,t),VZ(r,t),GZ(r,t),LZ(r,t)}function mF(r,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Eg(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Sg(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function LZ(r,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}function T_(r,t){let e=bF(r);t.validator!==null?r.setValidators(pF(e,t.validator)):typeof e=="function"&&r.setValidators([e]);let n=FF(r);t.asyncValidator!==null?r.setAsyncValidators(pF(n,t.asyncValidator)):typeof n=="function"&&r.setAsyncValidators([n]);let i=()=>r.updateValueAndValidity();Sg(t._rawValidators,i),Sg(t._rawAsyncValidators,i)}function Eg(r,t){let e=!1;if(r!==null){if(t.validator!==null){let i=bF(r);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,r.setValidators(o))}}if(t.asyncValidator!==null){let i=FF(r);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,r.setAsyncValidators(o))}}}let n=()=>{};return Sg(t._rawValidators,n),Sg(t._rawAsyncValidators,n),e}function kZ(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&NF(r,t)})}function GZ(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&NF(r,t),r.updateOn!=="submit"&&r.markAsTouched()})}function NF(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function VZ(r,t){let e=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}function HZ(r,t){r==null,T_(r,t)}function BZ(r,t){return Eg(r,t)}function jZ(r,t){if(!r.hasOwnProperty("model"))return!1;let e=r.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function UZ(r){return Object.getPrototypeOf(r.constructor)===__}function WZ(r,t){r._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function zZ(r,t){if(!t)return null;Array.isArray(t);let e,n,i;return t.forEach(o=>{o.constructor===bs?e=o:UZ(o)?n=o:i=o}),i||n||e||null}function $Z(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}function yF(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}function CF(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var Ct=class extends ou{constructor(t=null,e,n){super(S_(e),E_(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(CF(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){yF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){yF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){CF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var KZ=r=>r instanceof Ct,YZ=(()=>{let t=class t extends ni{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return D_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Hi(t)))(o||t)}})(),t.\u0275dir=bt({type:t,features:[Cr]});let r=t;return r})();var lu=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=bt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let r=t;return r})();var qZ=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=li({type:t}),t.\u0275inj=ai({});let r=t;return r})();var LF=new Ge("NgModelWithFormControlWarning");var XZ={provide:ni,useExisting:Vi(()=>Fs)},Fs=(()=>{let t=class t extends ni{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new re,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Eg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return vF(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){mF(n.control||null,n,!1),$Z(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,WZ(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,o=this.form.get(n.path);i!==o&&(mF(i||null,n),KZ(o)&&(vF(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);HZ(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&BZ(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){T_(this.form,this),this._oldForm&&Eg(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(i){return new(i||t)(ye(Dg,10),ye(Tg,10),ye(MF,8))},t.\u0275dir=bt({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&Ot("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zi([XZ]),Cr,ci]});let r=t;return r})(),QZ={provide:ni,useExisting:Vi(()=>Ag)},Ag=(()=>{let t=class t extends YZ{constructor(n,i,o){super(),this.name=null,this._parent=n,this._setValidators(i),this._setAsyncValidators(o)}_checkParentType(){kF(this._parent)}};t.\u0275fac=function(i){return new(i||t)(ye(ni,13),ye(Dg,10),ye(Tg,10))},t.\u0275dir=bt({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[zi([QZ]),Cr]});let r=t;return r})(),ZZ={provide:ni,useExisting:Vi(()=>Og)},Og=(()=>{let t=class t extends ni{constructor(n,i,o){super(),this.name=null,this._parent=n,this._setValidators(i),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return D_(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){kF(this._parent)}};t.\u0275fac=function(i){return new(i||t)(ye(ni,13),ye(Dg,10),ye(Tg,10))},t.\u0275dir=bt({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[zi([ZZ]),Cr]});let r=t;return r})();function kF(r){return!(r instanceof Ag)&&!(r instanceof Fs)&&!(r instanceof Og)}var JZ={provide:Vd,useExisting:Vi(()=>Ha)},Ha=(()=>{let t=class t extends Vd{set isDisabled(n){}constructor(n,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new re,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=zZ(this,s)}ngOnChanges(n){this._added||this._setUpControl(),jZ(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return D_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(i){return new(i||t)(ye(ni,13),ye(Dg,10),ye(Tg,10),ye(xg,10),ye(LF,8))},t.\u0275dir=bt({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[zi([JZ]),Cr,ci]});let r=t;return r})(),eJ={provide:xg,useExisting:Vi(()=>uu),multi:!0};function GF(r,t){return r==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${r}: ${t}`.slice(0,50))}function tJ(r){return r.split(":")[0]}var uu=(()=>{let t=class t extends __{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),o=GF(i,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=tJ(n);return this._optionMap.has(i)?this._optionMap.get(i):n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Hi(t)))(o||t)}})(),t.\u0275dir=bt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&Ot("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[zi([eJ]),Cr]});let r=t;return r})(),bg=(()=>{let t=class t{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(GF(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(ye(mn),ye(di),ye(uu,9))},t.\u0275dir=bt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let r=t;return r})(),nJ={provide:xg,useExisting:Vi(()=>VF),multi:!0};function wF(r,t){return r==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${r}: ${t}`.slice(0,50))}function rJ(r){return r.split(":")[0]}var VF=(()=>{let t=class t extends __{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let o=n.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let u=a[l],c=this._getOptionValue(u.value);o.push(c)}}else{let a=i.options;for(let l=0;l<a.length;l++){let u=a[l];if(u.selected){let c=this._getOptionValue(u.value);o.push(c)}}}this.value=o,n(o)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=rJ(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Hi(t)))(o||t)}})(),t.\u0275dir=bt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&Ot("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[zi([nJ]),Cr]});let r=t;return r})(),Fg=(()=>{let t=class t{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(wF(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(wF(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(ye(mn),ye(di),ye(VF,9))},t.\u0275dir=bt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let r=t;return r})();var iJ=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=li({type:t}),t.\u0275inj=ai({imports:[qZ]});let r=t;return r})(),Hd=class extends ou{constructor(t,e,n){super(S_(e),E_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){PF(this,!1,t),t.forEach((n,i)=>{IF(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function _F(r){return!!r&&(r.asyncValidators!==void 0||r.validators!==void 0||r.updateOn!==void 0)}var Ig=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,i=null){let o=this._reduceControls(n),s={};return _F(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Mr(o,s)}record(n,i=null){let o=this._reduceControls(n);return new w_(o,i)}control(n,i,o){let s={};return this.useNonNullable?(_F(i)?s=i:(s.validators=i,s.asyncValidators=o),new Ct(n,St(De({},s),{nonNullable:!0}))):new Ct(n,i,o)}array(n,i,o){let s=n.map(a=>this._createControl(a));return new Hd(s,i,o)}_reduceControls(n){let i={};return Object.keys(n).forEach(o=>{i[o]=this._createControl(n[o])}),i}_createControl(n){if(n instanceof Ct)return n;if(n instanceof ou)return n;if(Array.isArray(n)){let i=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(i,o,s)}else return this.control(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var cu=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:LF,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:MF,useValue:n.callSetDisabledState??x_}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=li({type:t}),t.\u0275inj=ai({imports:[iJ]});let r=t;return r})();var du=(()=>{let t=class t{constructor(){this.id=1,this.banks=[],this.id=parseInt(localStorage.getItem("bankId")??"1"),this.banks=JSON.parse(localStorage.getItem("bank")??"[]")}addBank(n){return new Promise((i,o)=>{debugger;n.BankId=this.id,this.id=this.id+1,this.banks.push(n),localStorage.setItem("bankId",JSON.stringify(this.id)),localStorage.setItem("bank",JSON.stringify(this.banks)),i(this.banks)})}getBank(){return new Promise((n,i)=>{n(this.banks)})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function oJ(r,t){r&1&&(Te(0,"div",21)(1,"div",22)(2,"div",23),je(3," Bank succesfully added "),ve(),Ft(4,"button",24),ve()())}var HF=(()=>{let t=class t{constructor(n,i,o){this.formBuilder=n,this.bankService=i,this.router=o,this.form=new Mr({bankname:new Ct(""),bankaddress:new Ct(""),bankstate:new Ct(""),bankcity:new Ct(""),bankzipcode:new Ct("")}),this.submitted=!1,this.bankColumnDef=[{headerName:"Id",field:"BankId"},{headerName:"Bank Name",field:"BankName"},{headerName:"Address",field:"BankAddress"},{headerName:"City",field:"BankCity"},{headerName:"State",field:"BankState"},{headerName:"Zip code",field:"BankZipcode"}],this.bankGridOptions={pagination:!0,paginationPageSize:20,domLayout:"autoHeight",rowData:null,columnDefs:this.bankColumnDef}}onBankGridReady(n){this.bankGridApi=n.api}ngOnInit(){return Lo(this,null,function*(){this.banks=yield this.bankService.getBank()})}onSubmit(){return Lo(this,null,function*(){if(this.submitted=!0,this.form.invalid)return;let n={BankId:0,BankName:this.form.value.bankname,BankAddress:this.form.value.bankaddress,BankCity:this.form.value.bankcity,BankState:this.form.value.bankstate,BankZipcode:this.form.value.bankzipcode};this.banks=yield this.bankService.addBank(n),this.bankGridApi.setGridOption("rowData",this.banks),this.form.reset()})}onChange(){this.submitted=!1}};t.\u0275fac=function(i){return new(i||t)(ye(Ig),ye(du),ye(er))},t.\u0275cmp=un({type:t,selectors:[["ng-component"]],standalone:!0,features:[Dn],decls:28,vars:5,consts:[[1,"container-fluid","mt-5","pt-2"],["id","bank-grid",1,"grid","mb-3"],[1,"ag-theme-alpine",2,"width","100%",3,"rowData","columnDefs","gridOptions","gridReady"],["class","toast align-items-center text-white bg-success border-0 show m-5","role","alert","aria-live","assertive","aria-atomic","true",4,"ngIf"],[1,"row","g-3",3,"formGroup","ngSubmit","change"],[1,"col-md-12"],["for","inputBankName",1,"form-label"],["autocomplete","off","type","text","id","inputBankName","formControlName","bankname",1,"form-control"],[1,"col-12"],["for","inputAddress",1,"form-label"],["autocomplete","off","type","text","id","inputAddress","placeholder","1234 Main St","formControlName","bankaddress",1,"form-control"],[1,"col-md-6"],["for","inputCity",1,"form-label"],["autocomplete","off","type","text","id","inputCity","formControlName","bankcity",1,"form-control"],[1,"col-md-4"],["for","inputState",1,"form-label"],["autocomplete","off","type","text","id","inputState","formControlName","bankstate",1,"form-control"],[1,"col-md-2"],["for","inputZip",1,"form-label"],["autocomplete","off","type","text","id","inputZip","formControlName","bankzipcode",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","align-items-center","text-white","bg-success","border-0","show","m-5"],[1,"d-flex"],[1,"toast-body"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","btn-close-white","me-2","m-auto"]],template:function(i,o){i&1&&(Te(0,"div",0)(1,"div",1)(2,"ag-grid-angular",2),Ot("gridReady",function(a){return o.onBankGridReady(a)}),ve()(),Jn(3,oJ,5,0,"div",3),Te(4,"form",4),Ot("ngSubmit",function(){return o.onSubmit()})("change",function(){return o.onChange()}),Te(5,"div",5)(6,"label",6),je(7,"Bank Name"),ve(),Ft(8,"input",7),ve(),Te(9,"div",8)(10,"label",9),je(11,"Address"),ve(),Ft(12,"input",10),ve(),Te(13,"div",11)(14,"label",12),je(15,"City"),ve(),Ft(16,"input",13),ve(),Te(17,"div",14)(18,"label",15),je(19,"State"),ve(),Ft(20,"input",16),ve(),Te(21,"div",17)(22,"label",18),je(23,"Zip"),ve(),Ft(24,"input",19),ve(),Te(25,"div",8)(26,"button",20),je(27,"Add Bank"),ve()()()()),i&2&&(mt(2),wt("rowData",o.banks)("columnDefs",o.bankColumnDef)("gridOptions",o.bankGridOptions),mt(1),wt("ngIf",o.submitted),mt(1),wt("formGroup",o.form))},dependencies:[zl,Wl,fi,Yo,cu,lu,bs,su,au,Fs,Ha],styles:[".grid[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#fafafa;margin-top:20px}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-paging-panel[_ngcontent-%COMP%]{background-color:#f0f0f0;border-top:1px solid #d0d0d0}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-paging-button[_ngcontent-%COMP%], .ag-theme-alpine[_ngcontent-%COMP%]   .ag-paging-page-summary-panel[_ngcontent-%COMP%]{color:#0056b3;font-weight:700}"]});let r=t;return r})();var Pg=(()=>{let t=class t{constructor(){this.id=1,this.shops=[],this.id=parseInt(localStorage.getItem("shopId")??"1"),this.shops=JSON.parse(localStorage.getItem("shop")??"[]")}addShop(n){return new Promise((i,o)=>{n.ShopId=this.id,this.id=this.id+1,this.shops.push(n),localStorage.setItem("shopId",JSON.stringify(this.id)),localStorage.setItem("shop",JSON.stringify(this.shops)),i(this.shops)})}getShop(){return new Promise((n,i)=>{n(this.shops)})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function sJ(r,t){r&1&&(Te(0,"div",24)(1,"div",25)(2,"div",26),je(3," Shop succesfully added "),ve(),Ft(4,"button",27),ve()())}function aJ(r,t){if(r&1&&(Te(0,"option",28),je(1),ve()),r&2){let e=t.$implicit;wt("value",e.BankId),mt(1),gl(" ",e.BankName+"-"+e.BankAddress," ")}}var jF=(()=>{let t=class t{constructor(n,i,o){this.formBuilder=n,this.bankService=i,this.shopService=o,this.form=new Mr({bankname:new Ct(""),shopname:new Ct(""),shopaddress:new Ct(""),shopstate:new Ct(""),shopcity:new Ct(""),shopzipcode:new Ct("")}),this.submitted=!1,this.shopColumnDef=[{headerName:"Id",field:"ShopId"},{headerName:"Bank Name",field:"BankName"},{headerName:"Shop Name",field:"ShopName"},{headerName:"Address",field:"ShopAddress"},{headerName:"City",field:"ShopCity"},{headerName:"State",field:"State"},{headerName:"Zip code",field:"ShopZipcode"}],this.shopGridOptions={pagination:!0,paginationPageSize:20,domLayout:"autoHeight",rowData:null,columnDefs:this.shopColumnDef}}ngOnInit(){return Lo(this,null,function*(){this.banks=yield this.bankService.getBank(),this.shops=(yield this.shopService.getShop()).map(n=>(n.BankName=this.banks.filter(i=>i.BankId==parseInt(n.BankName))[0].BankName,n))})}onShopGridReady(n){this.shopGridApi=n.api}onSubmit(){return Lo(this,null,function*(){if(this.submitted=!0,this.form.invalid)return;let n={ShopId:0,BankId:parseInt(this.form.value.bankname),BankName:this.form.value.bankname,ShopName:this.form.value.shopname,ShopAddress:this.form.value.shopaddress,ShopCity:this.form.value.shopcity,State:this.form.value.shopstate,ShopZipcode:this.form.value.shopzipcode};this.shops=(yield this.shopService.addShop(n)).map(i=>(i.BankName=this.banks.filter(o=>o.BankId==i.BankId)[0].BankName,i)),this.form.reset(),this.shopGridApi.setGridOption("rowData",this.shops)})}onChange(){this.submitted=!1}};t.\u0275fac=function(i){return new(i||t)(ye(Ig),ye(du),ye(Pg))},t.\u0275cmp=un({type:t,selectors:[["ng-component"]],standalone:!0,features:[Dn],decls:35,vars:6,consts:[[1,"container-fluid","mt-5","pt-2"],["id","shop-grid",1,"grid","mb-3"],[1,"ag-theme-alpine",2,"width","100%",3,"rowData","columnDefs","gridOptions","gridReady"],["class","toast align-items-center text-white bg-success border-0 show mt-5","role","alert","aria-live","assertive","aria-atomic","true",4,"ngIf"],[1,"row","g-3",3,"formGroup","ngSubmit","change"],[1,"col-md-6"],["for","inputBank",1,"form-label"],["id","inputBank","formControlName","bankname",1,"form-select"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["for","inputShopName",1,"form-label"],["autocomplete","off","type","text","id","inputShopName","formControlName","shopname",1,"form-control"],[1,"col-12"],["for","inputShopAddress",1,"form-label"],["autocomplete","off","type","text","id","inputShopAddress","placeholder","1234 Main St","formControlName","shopaddress",1,"form-control"],["for","inputShopCity",1,"form-label"],["autocomplete","off","type","text","id","inputShopCity","formControlName","shopcity",1,"form-control"],[1,"col-md-4"],["for","inputShopState",1,"form-label"],["autocomplete","off","type","text","id","inputShopState","formControlName","shopstate",1,"form-control"],[1,"col-md-2"],["for","inputShopZip",1,"form-label"],["autocomplete","off","type","text","id","inputShopZip","formControlName","shopzipcode",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","align-items-center","text-white","bg-success","border-0","show","mt-5"],[1,"d-flex"],[1,"toast-body"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","btn-close-white","me-2","m-auto"],[3,"value"]],template:function(i,o){i&1&&(Te(0,"div",0)(1,"div",1)(2,"ag-grid-angular",2),Ot("gridReady",function(a){return o.onShopGridReady(a)}),ve()(),Jn(3,sJ,5,0,"div",3),Te(4,"form",4),Ot("ngSubmit",function(){return o.onSubmit()})("change",function(){return o.onChange()}),Te(5,"div",5)(6,"label",6),je(7,"Select Bank"),ve(),Te(8,"select",7)(9,"option",8),je(10,"Select Bank"),ve(),Jn(11,aJ,2,2,"option",9),ve()(),Te(12,"div",5)(13,"label",10),je(14,"Shop Name"),ve(),Ft(15,"input",11),ve(),Te(16,"div",12)(17,"label",13),je(18,"Shop Address"),ve(),Ft(19,"input",14),ve(),Te(20,"div",5)(21,"label",15),je(22,"City"),ve(),Ft(23,"input",16),ve(),Te(24,"div",17)(25,"label",18),je(26,"State"),ve(),Ft(27,"input",19),ve(),Te(28,"div",20)(29,"label",21),je(30,"Zip"),ve(),Ft(31,"input",22),ve(),Te(32,"div",12)(33,"button",23),je(34,"Add Shop"),ve()()()()),i&2&&(mt(2),wt("rowData",o.shops)("columnDefs",o.shopColumnDef)("gridOptions",o.shopGridOptions),mt(1),wt("ngIf",o.submitted),mt(1),wt("formGroup",o.form),mt(7),wt("ngForOf",o.banks))},dependencies:[cu,lu,bg,Fg,bs,uu,su,au,Fs,Ha,fi,yl,Yo,zl,Wl],styles:[".grid[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#fafafa;margin-top:20px}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-paging-panel[_ngcontent-%COMP%]{background-color:#f0f0f0;border-top:1px solid #d0d0d0}.ag-theme-alpine[_ngcontent-%COMP%]   .ag-paging-button[_ngcontent-%COMP%], .ag-theme-alpine[_ngcontent-%COMP%]   .ag-paging-page-summary-panel[_ngcontent-%COMP%]{color:#0056b3;font-weight:700}"]});let r=t;return r})();var UF=(()=>{let t=class t{constructor(){this.bankStatements=JSON.parse(localStorage.getItem("bankstatement")??"[]"),this.shopStatements=JSON.parse(localStorage.getItem("shopstatement")??"[]")}setBankStatement(n,i){return this.bankStatements={id:n,bankStatement:i},this.shopStatements.splice(0,this.shopStatements.length),localStorage.setItem("bankstatement",JSON.stringify(this.bankStatements)),localStorage.setItem("shopstatement",JSON.stringify(this.shopStatements)),!0}getBankStatement(){return this.bankStatements}addShopStatement(n,i){return this.shopStatements.push({id:i}),localStorage.setItem("shopstatement",JSON.stringify(this.shopStatements)),!0}getShopStatement(){return this.shopStatements}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function uJ(r,t){if(r&1&&(Te(0,"option",11),je(1),ve()),r&2){let e=t.$implicit;wt("value",e.BankId),mt(1),gl(" ",e.BankName+"-"+e.BankAddress," ")}}function cJ(r,t){if(r&1){let e=na();Te(0,"div",3)(1,"label",12),je(2,"Upload Bank Statement"),ve(),Te(3,"input",13),Ot("change",function(i){Zs(e);let o=Wi(2);return Js(o.onBankStatementFileUpload(i))}),ve()()}}function dJ(r,t){if(r&1){let e=na();Te(0,"div",18),Ft(1,"input",19),Te(2,"div",3)(3,"label",20),je(4,"Shop Name"),ve(),Ft(5,"input",21),ve(),Te(6,"div",3)(7,"label",22),je(8,"Upload Shop Statement"),ve(),Te(9,"input",23),Ot("change",function(i){let s=Zs(e).index,a=Wi(3);return Js(a.onShopStatementUpload(s,i))}),ve()()()}if(r&2){let e=t.index;wt("formGroupName",e),mt(3),op("for","inputShop-"+e),mt(2),op("id","inputShop-"+e)}}function fJ(r,t){if(r&1&&(Te(0,"div",14)(1,"div",15),je(2," Shop summary statement upload "),ve(),Te(3,"div",16),Jn(4,dJ,10,3,"div",17),ve()()),r&2){let e=Wi(2);mt(4),wt("ngForOf",e.shopsForm.controls)}}function pJ(r,t){if(r&1){let e=na();Te(0,"div",24)(1,"button",25),Ot("click",function(){Zs(e);let i=Wi(2);return Js(i.onCompareButtonClick())}),je(2,"Compare now"),ve()()}}function hJ(r,t){if(r&1){let e=na();Te(0,"form",2)(1,"div",3)(2,"label",4),je(3,"Select Bank"),ve(),Te(4,"select",5),Ot("change",function(){Zs(e);let i=Wi();return Js(i.onBankChange())}),Te(5,"option",6),je(6,"Select Bank"),ve(),Jn(7,uJ,2,2,"option",7),ve()(),Jn(8,cJ,4,0,"div",8)(9,fJ,5,1,"div",9)(10,pJ,3,0,"div",10),ve()}if(r&2){let e=Wi();wt("formGroup",e.form),mt(7),wt("ngForOf",e.banks),mt(1),wt("ngIf",e.bankNameSelected),mt(1),wt("ngIf",e.bankStatementUploaded&&e.shopsForm.controls.length>0),mt(1),wt("ngIf",e.isAnyShopStatementUploaded)}}var WF=(()=>{let t=class t{constructor(n,i,o,s,a){this.bankService=n,this.shopService=i,this.documentService=o,this.documentStoreService=s,this.router=a,this.bankNameSelected=!1,this.bankStatementUploaded=!1}ngOnInit(){return Lo(this,null,function*(){this.banks=yield this.bankService.getBank(),this.shops=yield this.shopService.getShop(),this.form=new Mr({bankId:new Ct(""),bankStatement:new Ct(""),shopsForm:new Hd([new Mr({shopId:new Ct(""),shopName:new Ct(""),shopStatement:new Ct("")})])})})}get shopsForm(){return this.form.get("shopsForm")}addShops(){this.shopsForm.push(new Mr({shopId:new Ct(""),shopName:new Ct(""),shopStatement:new Ct("")}))}onBankChange(){parseInt(this.form.value.bankId)>0?this.bankNameSelected=!0:this.bankNameSelected=!1,this.form.controls.bankStatement.reset(),this.bankStatementUploaded=!1}onBankStatementFileUpload(n){try{let i=n.target.files[0];this.documentService.getDataFromFile(i).then(o=>{let s=[];for(let a=0;a<o.length;a++)if(o[a]["Transaction Type"].trim(" ")=="Deposit"){let l={PostedDate:o[a]["Posted Date"],TransactionDate:o[a]["Transaction Date"],TransactionType:o[a]["Transaction Type"],TransactionAmount:o[a].Amount,CheckOrSerialNumber:o[a]["Check/Serial #"],Description:o[a].Description,DailyPostedBalance:o[a]["Daily Posted Balance"]};s.push(l)}this.documentStoreService.setBankStatement(this.form.value.bankId,s),this.bankStatementUploaded=!0})}catch(i){console.log(i)}this.shopsForm.clear(),this.shopsForSelectedBank=this.shops.filter(i=>i.BankId==parseInt(this.form.value.bankId)),this.shopStatementUploaded=[],this.isAnyShopStatementUploaded=!1;for(let i=0;i<this.shopsForSelectedBank.length;i++)this.shopStatementUploaded.push(!1),this.shopsForm.push(new Mr({shopId:new Ct(this.shopsForSelectedBank[i].ShopId),shopName:new Ct(this.shopsForSelectedBank[i].ShopName),shopStatement:new Ct("")}))}onShopChange(n){}onShopStatementUpload(n,i){let o=[],s=i.target.files[0];this.documentService.getDataFromFile(s).then(a=>{for(let l=2;l<a.length-1;l++){let u=a[l],c={EntryDate:u[1],Register:u[2],MeterNumber:u[3],TaxableSalesAmount:u[4],NonTaxableSalesAmount:u[5],CateringSalesAmout:u[7],NetSalesAmount:u[8],SalesTaxAmount:u[9],OverringAmount:u[10],GrossSalesAmount:u[11],NonRegGiftSalesAmount:u[13],BankDepositAmount:u[14],OverOrShortAmount:u[15],ChargedTipsAmount:u[16]};o.push(c)}this.documentStoreService.addShopStatement(this.shopsForm.at(n).value.shopId,o),this.shopStatementUploaded[n]=!0,this.isAnyShopStatementUploaded=!0})}onCompareButtonClick(){this.router.navigate(["compare-documents"])}};t.\u0275fac=function(i){return new(i||t)(ye(du),ye(Pg),ye(mg),ye(UF),ye(er))},t.\u0275cmp=un({type:t,selectors:[["app-upload-documents"]],standalone:!0,features:[Dn],decls:2,vars:1,consts:[[1,"container-fluid","mt-5"],["class","row g-3",3,"formGroup",4,"ngIf"],[1,"row","g-3",3,"formGroup"],[1,"mb-3","row"],["for","inputBank",1,"form-label"],["id","inputBank","formControlName","bankId",1,"form-select",3,"change"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","mb-3 row",4,"ngIf"],["class","card text-center",4,"ngIf"],["class","col-auto",4,"ngIf"],[3,"value"],["for","uploadBankStatementFile",1,"col-sm-4","form-label"],["type","file","formControlName","bankStatement","id","uploadBankStatementFile",1,"col-sm-8","form-control",3,"change"],[1,"card","text-center"],[1,"card-header"],["formArrayName","shopsForm",1,"card-body"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["type","hidden","formControlName","shopId"],[1,"col-sm-4","form-label",3,"for"],["type","text","readonly","","formControlName","shopName",1,"col-sm-8","form-control",3,"id"],["for","uploadShopStatementFile",1,"col-sm-4","form-label"],["type","file","formControlName","shopStatement","id","uploadShopStatementFile",1,"col-sm-8","form-control",3,"change"],[1,"col-auto"],["type","submit",1,"btn","btn-primary","mb-3","btn-lg",3,"click"]],template:function(i,o){i&1&&(Te(0,"div",0),Jn(1,hJ,11,5,"form",1),ve()),i&2&&(mt(1),wt("ngIf",o.form))},dependencies:[cu,lu,bg,Fg,bs,uu,su,au,Fs,Ha,Ag,Og,fi,yl,Yo]});let r=t;return r})();var zF=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=un({type:t,selectors:[["app-statement-comparison"]],standalone:!0,features:[Dn],decls:2,vars:0,template:function(i,o){i&1&&(Te(0,"p"),je(1,"statement-comparison works!"),ve())}});let r=t;return r})();var Mg=[{component:IT,path:"home"},{component:fF,path:"compare-doc"},{component:HF,path:"bank"},{component:jF,path:"shop"},{component:WF,path:"upload-documents"},{component:zF,path:"statement-comparison"},{path:"",redirectTo:"/home",pathMatch:"full"}];var $F={providers:[RT(Mg)]};var KF=(()=>{let t=class t{constructor(){this.title="document-comparison-app",sy.forRoot(Mg)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=un({type:t,selectors:[["app-root"]],standalone:!0,features:[Dn],decls:21,vars:0,consts:[[1,"header"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-primary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","../assets/logo.png","width","30px","alt","logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","/home","routerLinkActive","active",1,"nav-link"],["routerLink","/bank","routerLinkActive","active",1,"nav-link"],["routerLink","/shop","routerLinkActive","active",1,"nav-link"],[1,"container"]],template:function(i,o){i&1&&(Te(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3),Ft(4,"img",4),je(5," Document Comparison "),ve(),Te(6,"button",5),Ft(7,"span",6),ve(),Te(8,"div",7)(9,"ul",8)(10,"li",9)(11,"a",10),je(12," Home "),ve()(),Te(13,"li",9)(14,"a",11),je(15,"Add Bank"),ve()(),Te(16,"li",9)(17,"a",12),je(18,"Add Shop"),ve()()()()()()(),Te(19,"div",13),Ft(20,"router-outlet"),ve())},dependencies:[fi,J0,sy,Fp,DT],styles:[".container[_ngcontent-%COMP%]:has(.home-page){max-width:100%;width:100%;margin:0;padding:0}"]});let r=t;return r})();GD(KF,$F).catch(r=>console.error(r));
